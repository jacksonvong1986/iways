webpackJsonp([1],{"+Izl":function(t,e){},"/mg1":function(t,e){},"/sZF":function(t,e,a){var s={"./af":"hoyg","./af.js":"hoyg","./ar":"EIvJ","./ar-dz":"A3TK","./ar-dz.js":"A3TK","./ar-kw":"StGe","./ar-kw.js":"StGe","./ar-ly":"cMhJ","./ar-ly.js":"cMhJ","./ar-ma":"XkLW","./ar-ma.js":"XkLW","./ar-sa":"OznM","./ar-sa.js":"OznM","./ar-tn":"uXMi","./ar-tn.js":"uXMi","./ar.js":"EIvJ","./az":"rhkf","./az.js":"rhkf","./be":"A+Bw","./be.js":"A+Bw","./bg":"uq4u","./bg.js":"uq4u","./bm":"twWA","./bm.js":"twWA","./bn":"33gZ","./bn.js":"33gZ","./bo":"dDFJ","./bo.js":"dDFJ","./br":"IS0R","./br.js":"IS0R","./bs":"U60n","./bs.js":"U60n","./ca":"EbLA","./ca.js":"EbLA","./cs":"GgUE","./cs.js":"GgUE","./cv":"PBzC","./cv.js":"PBzC","./cy":"Vb12","./cy.js":"Vb12","./da":"fA/3","./da.js":"fA/3","./de":"wSHD","./de-at":"yByT","./de-at.js":"yByT","./de-ch":"7Q0A","./de-ch.js":"7Q0A","./de.js":"wSHD","./dv":"sCrB","./dv.js":"sCrB","./el":"Xq2S","./el.js":"Xq2S","./en-au":"3cz+","./en-au.js":"3cz+","./en-ca":"WVsA","./en-ca.js":"WVsA","./en-gb":"ZK79","./en-gb.js":"ZK79","./en-ie":"i0JX","./en-ie.js":"i0JX","./en-il":"aCja","./en-il.js":"aCja","./en-nz":"EYWQ","./en-nz.js":"EYWQ","./eo":"cz+J","./eo.js":"cz+J","./es":"eM4w","./es-do":"Hp0T","./es-do.js":"Hp0T","./es-us":"/bDX","./es-us.js":"/bDX","./es.js":"eM4w","./et":"W175","./et.js":"W175","./eu":"CXUX","./eu.js":"CXUX","./fa":"R2J6","./fa.js":"R2J6","./fi":"1msH","./fi.js":"1msH","./fo":"7T9A","./fo.js":"7T9A","./fr":"/yd7","./fr-ca":"Mtog","./fr-ca.js":"Mtog","./fr-ch":"B4ux","./fr-ch.js":"B4ux","./fr.js":"/yd7","./fy":"CM2Q","./fy.js":"CM2Q","./gd":"3+4A","./gd.js":"3+4A","./gl":"hmNS","./gl.js":"hmNS","./gom-latn":"q4nD","./gom-latn.js":"q4nD","./gu":"qASf","./gu.js":"qASf","./he":"FIPF","./he.js":"FIPF","./hi":"rG0l","./hi.js":"rG0l","./hr":"N3SY","./hr.js":"N3SY","./hu":"kHLC","./hu.js":"kHLC","./hy-am":"3OLr","./hy-am.js":"3OLr","./id":"RSny","./id.js":"RSny","./is":"a+LR","./is.js":"a+LR","./it":"zNRJ","./it.js":"zNRJ","./ja":"Bbcq","./ja.js":"Bbcq","./jv":"7EYo","./jv.js":"7EYo","./ka":"SQIG","./ka.js":"SQIG","./kk":"XRo0","./kk.js":"XRo0","./km":"6L8s","./km.js":"6L8s","./kn":"3AsJ","./kn.js":"3AsJ","./ko":"DkaY","./ko.js":"DkaY","./ky":"Xj6f","./ky.js":"Xj6f","./lb":"TFJy","./lb.js":"TFJy","./lo":"0m34","./lo.js":"0m34","./lt":"y4Oe","./lt.js":"y4Oe","./lv":"FDzn","./lv.js":"FDzn","./me":"r3ov","./me.js":"r3ov","./mi":"C4Id","./mi.js":"C4Id","./mk":"Un6b","./mk.js":"Un6b","./ml":"e8P1","./ml.js":"e8P1","./mn":"fqri","./mn.js":"fqri","./mr":"CWK/","./mr.js":"CWK/","./ms":"HPAC","./ms-my":"lcAo","./ms-my.js":"lcAo","./ms.js":"HPAC","./mt":"ujnd","./mt.js":"ujnd","./my":"Bu5D","./my.js":"Bu5D","./nb":"vrtx","./nb.js":"vrtx","./ne":"at0W","./ne.js":"at0W","./nl":"2H6q","./nl-be":"ktuE","./nl-be.js":"ktuE","./nl.js":"2H6q","./nn":"9G9d","./nn.js":"9G9d","./pa-in":"ipjM","./pa-in.js":"ipjM","./pl":"uUOg","./pl.js":"uUOg","./pt":"/YKQ","./pt-br":"PyG4","./pt-br.js":"PyG4","./pt.js":"/YKQ","./ro":"NUbg","./ro.js":"NUbg","./ru":"qALb","./ru.js":"qALb","./sd":"nigq","./sd.js":"nigq","./se":"qf9/","./se.js":"qf9/","./si":"s/xk","./si.js":"s/xk","./sk":"HmLQ","./sk.js":"HmLQ","./sl":"o8si","./sl.js":"o8si","./sq":"IL6t","./sq.js":"IL6t","./sr":"M0rO","./sr-cyrl":"IEcd","./sr-cyrl.js":"IEcd","./sr.js":"M0rO","./ss":"KpuM","./ss.js":"KpuM","./sv":"DOfk","./sv.js":"DOfk","./sw":"we8f","./sw.js":"we8f","./ta":"6Ocp","./ta.js":"6Ocp","./te":"RMVO","./te.js":"RMVO","./tet":"kmQ8","./tet.js":"kmQ8","./tg":"ShXl","./tg.js":"ShXl","./th":"5MYv","./th.js":"5MYv","./tl-ph":"da8G","./tl-ph.js":"da8G","./tlh":"050F","./tlh.js":"050F","./tr":"KPXj","./tr.js":"KPXj","./tzl":"Swr/","./tzl.js":"Swr/","./tzm":"ZFJP","./tzm-latn":"6l9W","./tzm-latn.js":"6l9W","./tzm.js":"ZFJP","./ug-cn":"GlPn","./ug-cn.js":"GlPn","./uk":"FPm8","./uk.js":"FPm8","./ur":"f1BA","./ur.js":"f1BA","./uz":"MmDA","./uz-latn":"oQvt","./uz-latn.js":"oQvt","./uz.js":"MmDA","./vi":"QaK/","./vi.js":"QaK/","./x-pseudo":"uumW","./x-pseudo.js":"uumW","./yo":"JEjq","./yo.js":"JEjq","./zh-cn":"HWti","./zh-cn.js":"HWti","./zh-hk":"X9Kd","./zh-hk.js":"X9Kd","./zh-tw":"WkGy","./zh-tw.js":"WkGy"};function i(t){return a(n(t))}function n(t){var e=s[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}i.keys=function(){return Object.keys(s)},i.resolve=n,t.exports=i,i.id="/sZF"},"0OlB":function(t,e){},"27z6":function(t,e){},"2Qyg":function(t,e){},"3hZV":function(t,e){},"41z0":function(t,e){},"43Ji":function(t,e){},"4JL/":function(t,e){},"4fvy":function(t,e){},"5QPv":function(t,e){},"5SBr":function(t,e){},"5Wde":function(t,e,a){"use strict";var s=a("B29g"),i=a("cTML"),n={name:"BiCell",mixins:[s.a],data:function(){return{text:""}},props:{data:{type:Object,required:!0,default:{}},field1:{type:String,required:!1,default:""},field2:{type:String,required:!1,default:""},type:{type:String,required:!1,default:"default"},cls:{type:String,required:!1,default:""},color:{type:String,required:!1,default:"#00b4f3"},special:{type:Boolean,required:!1,default:!1},separate:{type:String,required:!1,default:""}},mounted:function(){this.$slots.default&&this.$slots.default.hasOwnProperty("0")&&(this.text=this.$slots.default[0].elm.innerText)},components:{BiProgress:i.a}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return"circle"==t.type?a("div",{staticClass:"bi-cell"},[-1!=t.data[t.field1]?a("bi-progress",{staticClass:"progress-circle",attrs:{type:"circle",percentage:t.data[t.field1],circleWidth:52,"stroke-width":5,color:t.color_group[t.data.color]}}):a("bi-progress",{staticClass:"progress-circle",attrs:{type:"circle",percentage:0,circleWidth:52,"stroke-width":5,color:t.color_group[t.data.color]}}),t._v(" "),a("p",{staticStyle:{"margin-top":"0"}},[t._t("default")],2)],1):"bar"==t.type?a("div",{staticClass:"bi-cell"},[a("h4",[a("bi-progress",{attrs:{percentage:t.data[t.field1],color:"#00b4f3","show-text":"true",titleWidth:"60"}},[t._v("时间进度")])],1),t._v(" "),a("h4",[a("bi-progress",{attrs:{percentage:t.data[t.field2],color:t.color,"show-text":"true",titleWidth:"60"}},[t._v("任务进度")])],1),t._v(" "),a("p",[t._t("default")],2)]):a("div",{staticClass:"bi-cell"},[t.field1&&-1==t.data[t.field1]?[a("font",{staticClass:"no-data"},[t._v("亲，暂无数据。")])]:[t.field1?[t.special?a("em",[a("b",{class:t.cls},[t._v(t._s(t._f("number_format")(t._f("multiply")(t.data[t.field1],100),1)))]),t._v("%")]):a("b",{class:t.cls},[t._v(t._s(t._f("number_format")(t.data[t.field1],0,",")))])]:t._e(),t._v(" "),t.separate?[t._v(t._s(t.separate))]:t._e(),t._v(" "),t.field2&&-1==t.data[t.field2]?[t._v("\n      暂无\n    ")]:t.field2?[a("i",{class:[{iconfont:1},t.data[t.field2]<0?"icon-down":"icon-up"]}),t._v(" "),a("em",[t._v(t._s(t._f("number_format")(t._f("multiply")(t.data[t.field2],100),1))+"%")])]:t._e()],t._v(" "),a("p",{attrs:{title:t.text}},[t._t("default")],2)],2)},staticRenderFns:[]};var o=a("Z0/y")(n,r,!1,function(t){a("AHjL")},null,null);e.a=o.exports},"5nMx":function(t,e){},"6KRL":function(t,e){},"6jXw":function(t,e){},"7ETC":function(t,e,a){"use strict";var s={name:"BiPanel",props:{cls:{type:Object,required:!1,default:function(){return{}}},title:{type:String,required:!1},titleType:{default:""},titleSize:{type:String,default:""},button:{type:Object,default:function(){return{minimize:!0,maximize:!1,close:!0}}},bodyStyle:{type:String,required:!1},operating:{type:Boolean,default:!0}},data:function(){return{minimize_text:"-",maximize_text:"□",expand_body:!0}},methods:{maximize:function(){alert("maximize")},minimize:function(){this.expand_body=!this.expand_body,this.minimize_text="-"==this.minimize_text?"+":"-"},close:function(){this.$emit("closePanel")}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"clear bi-panel",class:t.cls},[t.$slots.title?a("div",{staticClass:"bi-panel-header",class:[t.titleSize,t.titleType]},[a("span",{staticClass:"bi-panel-title clear"},[t._t("title",[t._v("标题")])],2),t._v(" "),t.operating?a("span",{staticClass:"bi-panel-button"},[t._t("operating",[t.button.minimize?a("a",{staticClass:"bi-panel-btn bi-panel-minimize",attrs:{href:"javascript:void(0);"},on:{click:t.minimize}},[t._v(t._s(t.minimize_text))]):t._e(),t._v(" "),t.button.maximize?a("a",{staticClass:"bi-panel-btn bi-panel-maximize",attrs:{href:"javascript:void(0);"},on:{click:t.maximize}},[t._v(t._s(t.maximize_text))]):t._e(),t._v(" "),t.button.close?a("a",{staticClass:"bi-panel-btn bi-panel-close",attrs:{href:"javascript:void(0);"},on:{click:t.close}},[t._v("x")]):t._e()])],2):t._e(),t._v(" "),a("span",{staticClass:"bi-panel-others"},[t._t("others")],2)]):t._e(),t._v(" "),a("transition",{attrs:{name:"expand"}},[t.expand_body?a("div",{staticClass:"bi-panel-body clear",style:t.bodyStyle},[t._t("default")],2):t._e()])],1)},staticRenderFns:[]};var n=a("Z0/y")(s,i,!1,function(t){a("zdES")},"data-v-53d2967d",null);e.a=n.exports},"7YoY":function(t,e){},"7w2f":function(t,e){},"8A7f":function(t,e){},"90QU":function(t,e){},"9Noz":function(t,e){},AHjL:function(t,e){},AjNV:function(t,e){},B29g:function(t,e,a){"use strict";var s=a("hRKE"),i=a.n(s),n=a("4YfN"),r=a.n(n),o=a("a3Yh"),l=a.n(o),_=a("L7Pj"),c=a.n(_),d=a("9rMa"),u=a("wMq3"),h=a("UhU/"),m=a.n(h);e.a={data:function(){var t;return t={image_path:"http://dss.ways.cn/images29",color_group:{pink:"#fb6c72",orange:"#fc9e6b",blue:"#319bcd",green:"#91bb3d",gray:"#80858b",red:"#f04048",yellow:"#f0ad4e",cyan:"#39bdc4"},username:this.$store.state.user.username,token:this.$store.state.user.token,menus:[],menus_table:[],manf_id:25,manf_id_selected:25,ds_id:4,ds_id_selected:4,this_year_month:"",this_year_month_selected:"",warning_year_month_week:"",dataSource:[],manfInfo:[],manfs:[],editable:!0,isDragging:!1,delayedDragging:!1,scroll_selected:0,config2:!1,rightPanelOpen:!1,jumpIndexPage:!1,showNotify:!0,showUnread:!0},l()(t,"editable",!1),l()(t,"config",[]),l()(t,"attempt_times",3),t},mounted:function(){this.menus=[];var t=this.extendDeep(this.$store.state.user.menus);for(var e in t)this.menus.push(t[e]);this.menus_table=this.$helper.arr2table(this.menus||[])},computed:{this_year:function(){return this.this_year_month?this.this_year_month.substr(0,4):""},this_month:function(){return this.this_year_month?this.this_year_month.substr(-2).replace(/\b(0+)/gi,""):""},warning_year:function(){return this.warning_year_month_week.substr(0,4)},warning_month:function(){return this.warning_year_month_week.substr(4,2).replace(/\b(0+)/gi,"")},warning_week:function(){return this.warning_year_month_week.substr(-1)},begin_year_month:function(){var t=this.data_source_map();return t[this.ds_id]?t[this.ds_id].begin_ym+"":""},end_year_month:function(){var t=this.data_source_map();return t[this.ds_id]?t[this.ds_id].end_ym+"":""},warning_month_week:function(){return this.warning_year_month_week.substr(4,2).replace(/\b(0+)/gi,"")+"月W"+this.warning_year_month_week.substr(-1)+"周"},warning_end_year_month_week:function(){var t=this.data_source_map();return t[this.ds_id]?t[this.ds_id].warning_end+"":""},ds_name:function(){var t=this.data_source_map();if(t.hasOwnProperty(this.ds_id))return t[this.ds_id].name||""},panelOptions:function(){return{draggable:".bi-panel",animation:10,group:"panel",disabled:!this.editable,filter:".bi-panel-body",preventOnFilter:!0,chosenClass:"sortable-chosen",dragClass:"sortable-drag",ghostClass:"sortable-ghost"}},itemOptions:function(){for(var t=[],e=0;e<3;e++)t.push({animation:200,group:"item"+e,disabled:!this.editable,filter:2==e?".scene-table":".bi-cell",preventOnFilter:!0,chosenClass:"sortable-chosen",dragClass:"sortable-drag",ghostClass:"sortable-ghost"});return t},cellOptions:function(){for(var t=[],e=0;e<4;e++)t.push({animation:500,group:"cell"+e,disabled:!this.editable,filter:4==e?".scene-table":"b,em,i,font,p,cite",preventOnFilter:!0,chosenClass:"sortable-chosen",dragClass:"sortable-drag",ghostClass:"sortable-ghost"});return t}},filters:{multiply:function(t,e){return 1!=e&&(t*=e),t},divide:function(t,e){return 1!=e&&(t/=e),t},number_format:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:",";if(t&&""!=t&&!isNaN(t)||(t=0),t=Number(t).toFixed(e),""!=a){t=(t+"").replace(/\d{1,3}(?=(\d{3})+$)/g,"$&"+a)}return t},date_format:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY/MM/DD";return t?m()(t).format(e):t}},methods:r()({},Object(d.b)([u.c]),{clearValidate:function(t){this.$refs[t]&&this.$refs[t].clearValidate()},multiply:function(t,e){return 1!=e&&(t*=e),t},divide:function(t,e){return 1!=e&&(t/=e),t},number_format:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:",";if(t&&""!=t&&!isNaN(t)||(t=0),-1===t)return"暂无数据";if(t=parseInt(t).toFixed(e),""!=a){t=(t+"").replace(/\d{1,3}(?=(\d{3})+$)/g,"$&"+a)}return t},get_manfs_map:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.manfs,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"manf_id",a={};for(var s in t)a[t[s][e]]=t[s];return a},data_source_map:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.dataSource,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ds_id",a={};for(var s in t)for(var i in t[s])t[s][i][e]&&(a[t[s][i][e]]=t[s][i]);return a},getToken:function(t){this.token?"function"==typeof t&&t():window.location.href="/login"},failure:function(t){var e=this;switch(t.code||t.result_msg){case"Bad Request: Token is invalid":case"ACCESS_TOKEN_FAILD":this.$request.get(this.$interface.REFRESH,{refresh_token:this.$store.state.user.refresh_token},function(t){e.USER_REFRESH_TOKEN(t.data.token),e.$router.go(0)},this.failure);break;case"REFRESH_TOKEN_EXPIRED":this.$router.push({path:"/login"});break;case"NO_PERMISSION":this.$router.go(-1);break;default:this.$notify.error({title:"错误信息",message:"[code:"+(t.result_code||t.code||"400")+"]"+(t.result_msg||t.msg||"数据有误")})}},onOver:function(){var t=this;c()(".hot-spots").on("mouseover",function(e){if(t.editable){for(var a=e.target;"ABBR"!=a.tagName.toUpperCase();)a=a.parentNode;var s=a.parentNode,i=s.getAttribute("class")||"";s.setAttribute("class",i+" over-on")}}).on("mouseout",function(e){if(t.editable){for(var a=e.target;"ABBR"!=a.tagName.toUpperCase();)a=a.parentNode;var s=a.parentNode,i=s.getAttribute("class")||"";s.setAttribute("class",i.replace(" over-on",""))}})},onMove:function(t){var e=t.relatedContext,a=t.draggedContext,s=e.element,i=a.element;return!(s&&s.fixed||i.fixed)},onStart:function(t){t.oldIndex,t.newIndex;this.isDragging=!0},onEnd:function(t){var e=t.oldIndex,a=t.newIndex,s=this.panels[e].index,i=this.panels[a].index;i==this.scroll_selected?this.scroll_selected=s:s==this.scroll_selected&&(this.scroll_selected=i),this.isDragging=!1},extendDeep:function(t,e){for(var a in e=e||{},t)t.hasOwnProperty(a)&&("object"===i()(t[a])?(e[a]="[object Array]"===Object.prototype.toString.call(t[a])?[]:{},this.extendDeep(t[a],e[a])):e[a]=t[a]);return e}}),created:function(){var t=JSON.parse(localStorage.getItem("config"))||[!1,!1,this.config2,this.rightPanelOpen,this.jumpIndexPage,this.showNotify,this.showUnread,this.editable];this.config=t,this.config2=!0===t[2],this.rightPanelOpen=!0===t[3],this.showNotify=!0===t[5],this.showUnread=!0===t[6],this.editable=!0===t[7]}}},COAK:function(t,e){},Dxrq:function(t,e){},ETow:function(t,e){},G1wA:function(t,e){},GG5E:function(t,e){},GMyV:function(t,e){},GW5r:function(t,e){},GZo9:function(t,e){},GsTN:function(t,e){},HhGw:function(t,e){},HplK:function(t,e){},IQ94:function(t,e){},IcnI:function(t,e,a){"use strict";var s=a("MVMM"),i=a("9rMa"),n=a("wMq3"),r=a("M8t8"),o=a("V6bs"),l=a.n(o);s.default.use(i.a),s.default.use(l.a),e.a=new i.a.Store({strict:!1,modules:{user:n.f,admin:r.e}})},JLct:function(t,e){},KTmz:function(t,e){},L2I5:function(t,e,a){"use strict";var s=a("IHPB"),i=a.n(s),n=a("L7Pj"),r=a.n(n),o={name:"BiTabs",props:{type:{default:"tab"}},data:function(){return{styleObject:{transform:""}}},mounted:function(){},methods:{slideUnderline:function(t){this.styleObject="tab"==this.type?"left:"+t+"px":""},openTabsBox:function(t,e){[].concat(i()(e)).forEach(function(t){var e=t.getAttribute("targetId"),a=document.getElementById(e);a&&(a.style.display="none")});var a=document.getElementById(t);a&&(a.style.display="block")},slideTabsBox:function(t){var e=parseInt(r()("#"+t).offset().top)-100;r()("html,body").animate({scrollTop:e},500)},click:function(t){this.$emit("tabsClick",t)}}},l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{class:["slide"==this.type?"bi-tabs-slide":"","bi-tabs"]},[e("ul",{staticClass:"clear"},[this._t("default"),e("li",{staticClass:"line",style:this.styleObject})],2)])},staticRenderFns:[]};var _=a("Z0/y")(o,l,!1,function(t){a("lwA+")},"data-v-7c7d3572",null).exports,c={name:"BiTabsItem",props:{selected:{type:Boolean,default:!1}},data:function(){return{}},created:function(){},mounted:function(){if(this.selected){var t=this.$el,e=t.offsetLeft,a=t.getAttribute("targetId"),s=this.$parent.$el.getElementsByClassName("bi-tabs-item");if(this.$parent.slideUnderline(e),"tab"==this.$parent.type)return void this.$parent.openTabsBox(a,s)}},methods:{click:function(){var t=this.$el,e=t.getAttribute("targetId");this.$parent.click(e);var a=parseInt(t.offsetLeft),s=this.$parent.$el.getElementsByClassName("bi-tabs-item");this.$parent.slideUnderline(a),[].concat(i()(s)).forEach(function(t){t.setAttribute("class","bi-tabs-item")}),t.setAttribute("class","bi-tabs-item tabs-selected"),"tab"!=this.$parent.type?"slide"!=this.$parent.type?console.log("please talk me the correct instruction"):this.$parent.slideTabsBox(e):this.$parent.openTabsBox(e,s)}}},d={render:function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"bi-tabs-item",class:{"tabs-selected":this.selected},on:{click:this.click}},[e("a",[this._t("default")],2)])},staticRenderFns:[]};var u=a("Z0/y")(c,d,!1,function(t){a("Rmcw")},"data-v-acd0586e",null).exports,h={install:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.component(_.name,_),t.component(u.name,u)}};e.a=h},"Ls3/":function(t,e){},M8t8:function(t,e,a){"use strict";a.d(e,"c",function(){return m}),a.d(e,"d",function(){return v}),a.d(e,"a",function(){return p}),a.d(e,"b",function(){return f});var s,i,n=a("ZLEe"),r=a.n(n),o=a("aA9S"),l=a.n(o),_=a("3cXf"),c=a.n(_),d=a("a3Yh"),u=a.n(d),h=a("MVMM"),m="ADMIN_SIGNIN",v="ADMIN_SIGNOUT",p="ADMIN_MENUS",f="ADMIN_REFRESH_TOKEN";e.e={strict:!1,state:function(){return JSON.parse(sessionStorage.getItem("admin"))||{}},actions:(s={},u()(s,m,function(t,e){(0,t.commit)(m,e)}),u()(s,v,function(t){(0,t.commit)(v)}),u()(s,p,function(t,e){(0,t.commit)(p,e)}),u()(s,f,function(t,e){(0,t.commit)(f,e)}),s),mutations:(i={},u()(i,m,function(t,e){sessionStorage.setItem("admin",c()(e)),l()(t,e)}),u()(i,v,function(t){sessionStorage.removeItem("admin"),r()(t).forEach(function(e){return h.default.delete(t,e)})}),u()(i,p,function(t,e){var a=JSON.parse(sessionStorage.getItem("admin"));a.menus=e,sessionStorage.setItem("admin",c()(a)),l()(t,a)}),u()(i,f,function(t,e){var a=JSON.parse(sessionStorage.getItem("admin"));a.token=e,sessionStorage.setItem("admin",c()(a)),l()(t,a)}),i)}},NWxh:function(t,e){},NiBx:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("MVMM"),i={name:"App",data:function(){return{windowHeight:document.documentElement.clientHeight||document.body.clientHeight}},mounted:function(){window.addEventListener("resize",this.windowChange)},beforeDestroy:function(){window.removeEventListener("resize",this.windowChange)},methods:{windowChange:function(){this.windowHeight=document.documentElement.clientHeight||document.body.clientHeight}}},n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("el-scrollbar",{style:{height:this.windowHeight+"px"}},[e("router-view")],1)],1)},staticRenderFns:[]};var r=a("Z0/y")(i,n,!1,function(t){a("4fvy")},null,null).exports,o=a("IHPB"),l=a.n(o),_=a("zO6J"),c=a("nfPo"),d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"content-top-floor"}),t._v(" "),a("div",{staticClass:"content-top",attrs:{id:"content-top"}},[a("div",{staticClass:"pageinfo"},[a("bi-title",{attrs:{columnTitle:"销量目标管理场景",columnIcon:"icon-bingtu",columnText:"当前数据："+(t.manf_name?t.manf_name:"厂商")+"-"+(t.ds_name?t.ds_name:"数据源")+"-"+(t.year_month?t.year_month:(new Date).getFullYear()+"/"+(Number((new Date).getMonth())+1))}}),t._v(" "),a("div",{staticClass:"change-button"},[a("el-popover",{attrs:{placement:"bottom-end",width:"600","popper-class":"padding0"},model:{value:t.selectOnClass,callback:function(e){t.selectOnClass=e},expression:"selectOnClass"}},[a("span",{staticClass:"bi-button",attrs:{slot:"reference"},slot:"reference"},[t._v("\n              更改"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("div",{staticStyle:{width:"598px"}},[a("h4",{staticClass:"popover-title"},[a("em",[t._v("已选数据：")]),t._v("\n                厂商："+t._s(t.manf_name_selected)+"\n                数据源："+t._s(t.ds_name_selected)+"\n                日期："+t._s(t.year_month_selected)+"\n              ")]),t._v(" "),a("div",{staticClass:"popover-main"},[a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",[a("span",{attrs:{slot:"label"},slot:"label"},[t._v("厂商")]),t._v(" "),a("ul",{staticClass:"change-manuf",attrs:{id:"letterBar"}},[a("li",{staticClass:"letter"},t._l(t.manfsGroupByLetter,function(e,s){return a("a",{class:{on:t.letter_selected==s},attrs:{href:"javascript:void(0);"},on:{click:function(e){t.selectLetter(s)}}},[t._v(t._s(s))])})),t._v(" "),a("li",{staticClass:"center"},[a("div",{attrs:{id:"manfsBox"}},t._l(t.manfsGroupByLetter,function(e,s){return a("dl",[a("dt",{attrs:{"data-key":s}},[t._v(t._s(s))]),t._v(" "),a("dd",t._l(e,function(e,s){return a("span",[a("el-radio",{attrs:{label:e.manf_id,checked:e.manf_id==t.manf_id_selected},model:{value:t.manf_id_selected,callback:function(e){t.manf_id_selected=e},expression:"manf_id_selected"}},[t._v(t._s(e.manf_name))])],1)}))])}))])])]),t._v(" "),a("el-tab-pane",[a("span",{attrs:{slot:"label"},slot:"label"},[t._v("数据源")]),t._v(" "),a("div",{staticClass:"change-datasource"},t._l(t.dataSource,function(e,s){return t.ds_group[s]?a("dl",[a("dt",[t._v(t._s(t.ds_group[s])+"：")]),t._v(" "),a("dd",t._l(e,function(e,s){return a("el-radio",{key:s,attrs:{label:e.ds_id,border:""},model:{value:t.ds_id_selected,callback:function(e){t.ds_id_selected=e},expression:"ds_id_selected"}},[t._v(t._s(e.name))])}))]):t._e()}))]),t._v(" "),a("el-tab-pane",[a("span",{attrs:{slot:"label"},slot:"label"},[t._v("日期")]),t._v(" "),a("div",{staticClass:"change-date"},[a("span",{staticClass:"demonstration"},[t._v("请选择所需月份：")]),t._v(" "),a("el-date-picker",{attrs:{format:"yyyy/MM","value-format":"yyyyMM","picker-options":t.pickerOptions,type:"month"},model:{value:t.this_year_month_selected,callback:function(e){t.this_year_month_selected=e},expression:"this_year_month_selected"}})],1)])],1)],1),t._v(" "),a("div",{staticClass:"popover-footer"},[a("a",{attrs:{href:"javascript:void(0);"},on:{click:t.cancelData}},[t._v("取消")]),t._v(" "),a("a",{staticClass:"on",attrs:{href:"javascript:void(0);"},on:{click:t.searchData}},[t._v("确定")])])])])],1),t._v(" "),a("div",{staticClass:"right-box"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("首页")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/scene"}}},[t._v("销量目标管理场景")])],1)],1)],1),t._v(" "),a("bi-tabs",[a("bi-tabs-item",{attrs:{targetId:"tabs1",selected:!0},on:{click:function(e){t.currentPath="厂商销量目标看板"}}},[t._v("厂商销量目标看板")]),t._v(" "),a("bi-tabs-item",{attrs:{targetId:"tabs2"},on:{click:function(e){t.currentPath="车型列表看板"}}},[t._v("车型列表看板")])],1)],1),t._v(" "),a("div",{staticClass:"content-main"},[a("div",{attrs:{id:"tabs1"}},[a("draggable",{staticClass:"list-group",attrs:{element:"div",options:t.panelOptions,move:t.onMove},on:{start:t.onStart,end:t.onEnd},model:{value:t.panels,callback:function(e){t.panels=e},expression:"panels"}},[a("transition-group",{attrs:{type:"transition",name:"panel-list",tag:"div"}},t._l(t.panels,function(e){return a("bi-panel",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"element.show"}],key:e.index,attrs:{panel_key:e.index,cls:{"list-group-item":t.editable}},on:{closePanel:function(a){t.closePanel(e.index)}}},[1==e.index?[a("template",{slot:"title"},[a("font",[t._v(t._s(e.name)+"-")]),a("em",{staticClass:"font-blue"},[t._v(t._s(t.this_month)+"月")])],1),t._v(" "),a("draggable",{directives:[{name:"loading",rawName:"v-loading",value:t.loading[0],expression:"loading[0]"}],staticClass:"sales-status",attrs:{element:"ul",options:t.itemOptions[0]}},[a("li",{staticClass:"left"},[a("abbr",{staticClass:"hot-spots",attrs:{title:"拖动此区域可更改布局"}},[a("span",[t._v("整体市场情况")]),t._v(" "),a("i",{staticClass:"iconfont icon-tuodong over-move"})]),t._v(" "),a("draggable",{attrs:{element:"div",options:t.cellOptions[0]}},[a("bi-cell",{attrs:{data:t.thisMonthData,field1:"whole_bq",field2:"whole_yoy",type:"default"}},[t._v("\n                        "+t._s(t.this_month)+"月 乘用车销量（同比增速）\n                      ")]),t._v(" "),a("bi-cell",{attrs:{data:t.thisMonthData,field1:"whole_acc_bq",field2:"whole_acc_yoy",type:"default"}},[t._v("\n                        1~"+t._s(t.this_month)+"月 乘用车销量（同比增速）\n                      ")])],1)],1),t._v(" "),a("li",{staticClass:"center"},[a("abbr",{staticClass:"hot-spots",staticStyle:{height:"auto",bottom:"0"},attrs:{title:"拖动此区域可更改布局"}},[a("i",{staticClass:"iconfont icon-tuodong over-move"})]),t._v(" "),a("img",{attrs:{src:t.manfInfo.url?"http://image.way-s.cn"+t.manfInfo.url:null,alt:t.manfInfo.manf_name}}),t._v(" "),a("p",[t._v(t._s(t.manfInfo.manf_name))])]),t._v(" "),a("li",{staticClass:"right"},[a("abbr",{staticClass:"hot-spots",attrs:{title:"拖动此区域可更改布局"}},[a("i",{staticClass:"iconfont icon-tuodong over-move"})]),t._v(" "),a("draggable",{staticClass:"lattice4",attrs:{element:"div",options:t.cellOptions[1]}},[a("bi-cell",{attrs:{data:t.thisMonthData,field1:"ob_bq",field2:"ob_yoy"}},[a("em",{staticClass:"font-blue"},[t._v(t._s(t.this_month)+"月")]),t._v(" 销量目标（同比增速）\n                        ")]),t._v(" "),a("bi-cell",{attrs:{data:t.thisMonthData,field1:"bq",field2:"yoy"}},[a("em",{staticClass:"font-blue"},[t._v(t._s(t.this_month)+"月")]),t._v(" 销量实际（同比增速）\n                        ")]),t._v(" "),a("bi-cell",{attrs:{data:t.thisMonthData,field1:"pass_ratio",type:"circle"}},[a("em",{staticClass:"font-blue"},[t._v(t._s(t.this_month)+"月")]),t._v(" 实际完成率\n                        ")]),t._v(" "),a("bi-cell",{attrs:{data:t.thisMonthData,field1:"per",field2:"per_yoy",special:!0}},[a("em",{staticClass:"font-blue"},[t._v(t._s(t.this_month)+"月")]),t._v(" 份额实际（同比变化）\n                        ")]),t._v(" "),a("bi-cell",{attrs:{data:t.thisMonthData,field1:"ob_year",field2:"ob_year_yoy"}},[a("em",{staticClass:"font-blue"},[t._v(t._s(t.this_year)+"年")]),t._v(" 销量目标（环比增速）\n                        ")]),t._v(" "),a("bi-cell",{attrs:{data:t.thisMonthData,field1:"acc_bq",field2:"acc_yoy"}},[a("em",{staticClass:"font-blue"},[t._v("1~"+t._s(t.this_month)+"月")]),t._v(" 销量实际（同比增速）\n                        ")]),t._v(" "),a("bi-cell",{attrs:{data:t.thisMonthData,field1:"pass_time",field2:"pass_task",type:"bar",color:t.color_group[t.thisMonthData.accColor]}},[a("em",{staticClass:"font-blue"},[t._v("1~"+t._s(t.this_month)+"月")]),t._v(" 实际完成率\n                        ")]),t._v(" "),a("bi-cell",{attrs:{data:t.thisMonthData,field1:"acc_per",field2:"acc_per_yoy",special:!0}},[a("em",{staticClass:"font-blue"},[t._v("1~"+t._s(t.this_month)+"月")]),t._v(" 份额实际（同比变化）\n                        ")])],1)],1)])]:t._e(),t._v(" "),2==e.index?[a("template",{slot:"title"},[a("font",[t._v(t._s(e.name)+"-")]),t._v(" "),a("em",{staticClass:"font-red"},[t._v(t._s(t.warning_month)+"月W"+t._s(t.warning_week)+"周")]),t._v(" "),a("router-link",{staticClass:"more-info",attrs:{to:"/"}},[t._v("查看更多")])],1),t._v(" "),a("span",{staticClass:"notice",attrs:{slot:"others"},slot:"others"},[a("i",{staticClass:"iconfont icon-custom-wechat",on:{click:function(e){t.dialogVisible=!0}}}),t._v(" "),a("i",{staticClass:"iconfont icon-mobile",on:{click:function(e){t.dialogVisible=!0}}}),t._v(" "),a("el-dialog",{attrs:{title:"智能推送",visible:t.dialogVisible,width:"1000px","modal-append-to-body":!0,"append-to-body":!0},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("div",{staticClass:"notice-content"},[a("h4",[t._v("智能预警  "),a("font",[t._v("(当前预警超过临界值，系统已智能推送以下人员)")])],1),t._v(" "),a("ul",[a("li",[a("i",[t._v("x")]),t._v(" "),a("img",{attrs:{src:"/static/images/linshi/user1.png",alt:""}}),t._v(" "),a("p",[a("label",[t._v("李莉")]),t._v(" "),a("span",[t._v("销售部经理")])])]),t._v(" "),a("li",[a("i",[t._v("x")]),t._v(" "),a("img",{attrs:{src:"/static/images/linshi/user3.png",alt:""}}),t._v(" "),a("p",[a("label",[t._v("李勇")]),t._v(" "),a("span",[t._v("品牌广告科")])])])]),t._v(" "),a("h4",[t._v("自定义预警 "),a("font",[t._v("(您还可以发送预警情况到相关人员)")])],1),t._v(" "),a("ul",[a("li",[a("input",{attrs:{type:"checkbox"}}),t._v(" "),a("img",{attrs:{src:"/static/images/linshi/user5.png",alt:""}}),t._v(" "),a("p",[a("label",[t._v("李永娟")]),t._v(" "),a("span",[t._v("计划销售科")])])]),t._v(" "),a("li",[a("input",{attrs:{type:"checkbox"}}),t._v(" "),a("img",{attrs:{src:"/static/images/linshi/user6.png",alt:""}}),t._v(" "),a("p",[a("label",[t._v("钟强")]),t._v(" "),a("span",[t._v("网络开发科")])])]),t._v(" "),a("li",[a("input",{attrs:{type:"checkbox"}}),t._v(" "),a("img",{attrs:{src:"/static/images/linshi/user7.png",alt:""}}),t._v(" "),a("p",[a("label",[t._v("韩磊")]),t._v(" "),a("span",[t._v("市场营销部经理")])])]),t._v(" "),a("li",[a("input",{attrs:{type:"checkbox"}}),t._v(" "),a("img",{attrs:{src:"/static/images/linshi/user4.png",alt:""}}),t._v(" "),a("p",[a("label",[t._v("林达")]),t._v(" "),a("span",[t._v("信息与产品规划科")])])])])]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("确 定")])],1)])],1),t._v(" "),a("draggable",{directives:[{name:"loading",rawName:"v-loading",value:t.loading[1],expression:"loading[1]"}],staticClass:"sales-status warning",attrs:{element:"ul",options:t.itemOptions[1]}},[a("li",{staticClass:"left"},[a("abbr",{staticClass:"hot-spots",attrs:{title:"拖动此区域可更改布局"}},[a("span",[t._v("整体市场情况")]),a("i",{staticClass:"iconfont icon-tuodong over-move"})]),t._v(" "),a("draggable",{attrs:{element:"div",options:t.cellOptions[2]}},[a("bi-cell",{attrs:{data:t.warningMonthData,field1:"whole_bq",field2:"whole_yoy",type:"default"}},[t._v("\n                        "+t._s(t.warning_month)+"月 乘用车销量预警（同比增速）\n                      ")]),t._v(" "),a("bi-cell",{attrs:{data:t.warningMonthData,field1:"whole_acc_bq",field2:"whole_acc_yoy",type:"default"}},[t._v("\n                        1~"+t._s(t.warning_month)+"月 乘用车销量预警（同比增速）\n                      ")])],1)],1),t._v(" "),a("li",{staticClass:"center"},[a("abbr",{staticClass:"hot-spots",staticStyle:{height:"auto",bottom:"0"},attrs:{title:"拖动此区域可更改布局"}},[a("i",{staticClass:"iconfont icon-tuodong over-move"})]),t._v(" "),a("img",{attrs:{src:t.manfInfo.url?"http://image.way-s.cn"+t.manfInfo.url:null,alt:t.manfInfo.manf_name}}),t._v(" "),a("p",[t._v(t._s(t.manfInfo.manf_name))])]),t._v(" "),a("li",{staticClass:"right"},[a("abbr",{staticClass:"hot-spots",attrs:{title:"拖动此区域可更改布局"}},[a("i",{staticClass:"iconfont icon-tuodong over-move"})]),t._v(" "),a("draggable",{staticClass:"lattice3",attrs:{element:"div",options:t.cellOptions[3]}},[a("bi-cell",{attrs:{data:t.warningMonthData,field1:"ob_bq",field2:"ob_yoy"}},[a("em",{staticClass:"font-red"},[t._v(t._s(t.warning_month)+"月")]),t._v(" 销量目标（同比增速）\n                      ")]),t._v(" "),a("bi-cell",{attrs:{data:t.warningMonthData,field1:"bq",field2:"yoy"}},[a("em",{staticClass:"font-red"},[t._v(t._s(t.warning_month)+"月")]),t._v(" 销量预警（同比增速）\n                      ")]),t._v(" "),a("bi-cell",{attrs:{data:t.warningMonthData,field1:"pass_ratio",type:"circle"}},[a("em",{staticClass:"font-red"},[t._v(t._s(t.warning_month)+"月")]),t._v(" 预警完成率\n                      ")]),t._v(" "),a("bi-cell",{attrs:{data:t.warningMonthData,field1:"ob_year",field2:"ob_year_mom"}},[a("em",{staticClass:"font-red"},[t._v(t._s(t.warning_year)+"年")]),t._v(" 销量目标（环比增速）\n                      ")]),t._v(" "),a("bi-cell",{attrs:{data:t.warningMonthData,field1:"acc_bq",field2:"acc_yoy"}},[a("em",{staticClass:"font-red"},[t._v("1~"+t._s(t.warning_month)+"月")]),t._v(" 销量预警（同比增速）\n                      ")]),t._v(" "),a("bi-cell",{attrs:{data:t.warningMonthData,field1:"pass_time",field2:"pass_task",type:"bar",color:t.color_group[t.warningMonthData.accColor]}},[a("em",{staticClass:"font-red"},[t._v("1~"+t._s(t.warning_month)+"月")]),t._v(" 预警完成率\n                      ")])],1)],1)])]:t._e(),t._v(" "),3==e.index?[a("template",{slot:"title"},[a("font",[t._v(t._s(e.name))])],1),t._v(" "),a("draggable",{staticClass:"all-sales clear",attrs:{element:"ul",options:t.itemOptions[2]}},[a("li",{staticClass:"manuf-show"},[a("abbr",{staticClass:"hot-spots",staticStyle:{width:"60%"}}),t._v(" "),a("h5",{staticClass:"scene-title"},[t._v("\n                      厂商排名\n                      "),a("span",{staticClass:"scene-btn"},[a("a",{class:{on:0==t.manfSalesRankClass},attrs:{href:"javascript:void(0)"},on:{click:function(e){t.getManfSalesRank(0)}}},[t._v("本月")]),t._v(" "),a("a",{class:{on:1==t.manfSalesRankClass},attrs:{href:"javascript:void(0)"},on:{click:function(e){t.getManfSalesRank(1)}}},[t._v("累计")])])]),t._v(" "),a("table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading[2],expression:"loading[2]"}],staticClass:"scene-table"},[a("tr",[a("th",{attrs:{width:"15%"}},[t._v("厂商")]),t._v(" "),a("th",{attrs:{width:"20%"}},[t._v("销量")]),t._v(" "),a("th",{attrs:{width:"15%"}},[t._v("同比")]),t._v(" "),a("th",{attrs:{width:"30%"}},[t._v("份额 | 变化\t")]),t._v(" "),a("th",[0==t.manfSalesRankClass?a("span",[t._v("   "+t._s(t.this_month)+"月 完成率")]):a("span",[t._v(" 1~"+t._s(t.this_month)+"月 完成率")])])]),t._v(" "),t._l(t.manfSalesRankData,function(e,s){return a("tr",[a("td",[a("img",{attrs:{src:e.manf.url?"http://image.way-s.cn"+e.manf.url:null,alt:e.manf.manf_name,title:e.manf.manf_name}})]),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e,field1:"bq"}})],1),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e,field2:"yoy"}})],1),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e,field1:"per",field2:"change",special:!0,separate:"|",bStyle:"color:#666;font-size:12px;"}})],1),t._v(" "),a("td",[a("div",{staticStyle:{width:"60%",margin:"0px auto"}},[0==s&&1==t.manfSalesRankClass&&t.manfSalesRankData[0]?a("bi-progress",{staticStyle:{"margin-bottom":"5px"},attrs:{percentage:t.manfSalesRankData[0].pass_time,color:"#00b4f3",height:"14"}}):t._e(),t._v(" "),a("bi-progress",{attrs:{percentage:e.pass_ratio,color:t.color_group[e.color],height:"14"}})],1)])])})],2),t._v(" "),a("div",{staticClass:"scene-bottom clear"},[a("a",{class:{on:1==t.manfSalesRankPage},attrs:{href:"javascript:void(0)"},on:{click:function(e){t.getManfSalesRank(t.manfSalesRankClass,1)}}},[t._v("1-12")]),t._v(" "),a("a",{class:{on:2==t.manfSalesRankPage},attrs:{href:"javascript:void(0)"},on:{click:function(e){t.getManfSalesRank(t.manfSalesRankClass,2)}}},[t._v("13-24")]),t._v(" "),a("a",{class:{on:3==t.manfSalesRankPage},attrs:{href:"javascript:void(0)"},on:{click:function(e){t.getManfSalesRank(t.manfSalesRankClass,3)}}},[t._v("25-36")])])]),t._v(" "),a("li",{staticClass:"model-show"},[a("abbr",{staticClass:"hot-spots",staticStyle:{width:"60%"}}),t._v(" "),a("draggable",{attrs:{element:"div",options:t.cellOptions[4]}},[a("div",{staticClass:"special",staticStyle:{"margin-bottom":"7px"}},[a("h5",{staticClass:"scene-title"},[t._v("\n                          国别表现\n                          "),a("span",{staticClass:"scene-btn"},[a("a",{class:{on:0==t.nationSalesClass},attrs:{href:"javascript:void(0)"},on:{click:function(e){t.getNationSales(0)}}},[t._v("本月")]),t._v(" "),a("a",{class:{on:1==t.nationSalesClass},attrs:{href:"javascript:void(0)"},on:{click:function(e){t.getNationSales(1)}}},[t._v("累计")])])]),t._v(" "),a("table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading[3],expression:"loading[3]"}],staticClass:"scene-table"},[a("tr",[a("th",{attrs:{width:"20%"}},[t._v("国别")]),t._v(" "),a("th",{attrs:{width:"25%"}},[t._v("销量")]),t._v(" "),a("th",{attrs:{width:"20%"}},[t._v("同比")]),t._v(" "),a("th",{attrs:{width:""}},[t._v("份额 | 变化")])]),t._v(" "),t._l(t.nationSalesData,function(e,s){return a("tr",[a("td",[a("img",{attrs:{src:e.nati.url?t.image_path+e.nati.url:null,alt:e.nati.brand_nati_name,title:e.nati.brand_nati_name}})]),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e,field1:"bq"}})],1),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e,field2:"yoy"}})],1),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e,field1:"per",field2:"change",special:!0,separate:"|",bStyle:"color:#666;font-size:12px;"}})],1)])})],2)]),t._v(" "),a("div",{staticClass:"special",staticStyle:{"border-bottom":"1px solid #eee"}},[a("h5",{staticClass:"scene-title"},[t._v("\n                          集团表现\n                          "),a("span",{staticClass:"scene-btn"},[a("a",{class:{on:0==t.groupsSalesClass},attrs:{href:"javascript:void(0)"},on:{click:function(e){t.getGroupsSales(0)}}},[t._v("本月")]),t._v(" "),a("a",{class:{on:1==t.groupsSalesClass},attrs:{href:"javascript:void(0)"},on:{click:function(e){t.getGroupsSales(1)}}},[t._v("累计")])])]),t._v(" "),a("table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading[4],expression:"loading[4]"}],staticClass:"scene-table"},[a("tr",[a("th",{attrs:{width:"20%"}},[t._v("集团")]),t._v(" "),a("th",{attrs:{width:"25%"}},[t._v("销量")]),t._v(" "),a("th",{attrs:{width:"20%"}},[t._v("同比")]),t._v(" "),a("th",[t._v("份额 | 变化")])]),t._v(" "),t._l(t.groupsSalesData,function(e,s){return a("tr",[a("td",[a("img",{attrs:{src:e.group.url?t.image_path+e.group.url:null,alt:e.group.manf_group_name,title:e.group.manf_group_name}})]),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e,field1:"bq"}})],1),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e,field2:"yoy"}})],1),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e,field1:"per",field2:"change",special:!0,seperate:"|",bStyle:"color:#666;font-size:12px;"}})],1)])})],2),t._v(" "),a("div",{staticClass:"scene-bottom clear"},[a("a",{class:{on:1==t.groupsSalesPage},attrs:{href:"javascript:void(0)"},on:{click:function(e){t.getGroupsSales(t.groupsSalesClass,1)}}},[t._v("1-3")]),t._v(" "),a("a",{class:{on:2==t.groupsSalesPage},attrs:{href:"javascript:void(0)"},on:{click:function(e){t.getGroupsSales(t.groupsSalesClass,2)}}},[t._v("4-6")]),t._v(" "),a("a",{class:{on:3==t.groupsSalesPage},attrs:{href:"javascript:void(0)"},on:{click:function(e){t.getGroupsSales(t.groupsSalesClass,3)}}},[t._v("7-9")])])])])],1),t._v(" "),a("li",{staticClass:"brand-show"},[a("abbr",{staticClass:"hot-spots",staticStyle:{width:"60%"}}),t._v(" "),a("h5",{staticClass:"scene-title"},[a("em",[t._v(t._s(t.manf_name)+"-品牌表现")]),t._v(" "),a("span",{staticClass:"scene-btn"},[a("a",{class:{on:0==t.brandsSalesClass},attrs:{href:"javascript:void(0)"},on:{click:function(e){t.getBrandsSales(0)}}},[t._v("本月")]),t._v(" "),a("a",{class:{on:1==t.brandsSalesClass},attrs:{href:"javascript:void(0)"},on:{click:function(e){t.getBrandsSales(1)}}},[t._v("累计")])])]),t._v(" "),a("div",{staticStyle:{padding:"0 20px"}},[a("table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading[5],expression:"loading[5]"}],staticClass:"scene-table noboder"},t._l(t.brandsSalesData,function(e,s){return a("tr",[a("td",{attrs:{width:"80px;"}},[a("img",{attrs:{title:e.brand.brand_name,src:e.brand.url?"http://image.way-s.cn"+e.brand.url:null,alt:e.brand.brand_name}})]),t._v(" "),a("td",{staticStyle:{"padding-left":"10%"}},[0==t.brandsSalesClass?[a("font",{attrs:{title:t.this_month+"月销量"}},[t._v(t._s(t.this_month)+"月销量")]),a("span",[a("b",{staticClass:"font-blue"},[t._v(t._s(t._f("number_format")(e.bq,0,",")))])]),a("br")]:t._e(),t._v(" "),1==t.brandsSalesClass?[a("font",{attrs:{title:"1~"+t.this_month+"月销量"}},[t._v("1~"+t._s(t.this_month)+"月销量")]),a("span",[a("b",{staticClass:"font-blue"},[t._v(t._s(t._f("number_format")(e.bq,0,",")))])]),a("br")]:t._e(),t._v(" "),a("font",{attrs:{title:"同比增长"}},[t._v("同比增长")]),a("span",[a("i",{class:[{iconfont:1},e.yoy<0?"icon-down":"icon-up"]}),t._v(" "+t._s(t._f("number_format")(t._f("multiply")(e.yoy,100),1))+"%")]),a("br"),t._v(" "),a("font",{attrs:{title:"市占率"}},[t._v("市占率")]),a("span",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.per,100),1))+"%"),a("i",{class:[{iconfont:1},e.change<0?"icon-down":"icon-up"]}),t._v(" "+t._s(t._f("number_format")(t._f("multiply")(e.change,100),1))+"%")])],2)])}))])])])]:t._e(),t._v(" "),4==e.index?[a("template",{slot:"title"},[a("font",[t._v(t._s(t.manf_name)+t._s(e.name))])],1),t._v(" "),a("div",{staticClass:"sub-sales"},[a("h5",{staticClass:"scene-title"},[0==t.segmentSalesClass?[t._v("零售量现状-"),a("font",{staticClass:"font-blue"},[t._v(t._s(t.this_month)+"月")])]:t._e(),t._v(" "),1==t.segmentSalesClass?[t._v("零售量现状-"),a("font",{staticClass:"font-blue"},[t._v("1~"+t._s(t.this_month)+"月")])]:t._e(),t._v(" "),a("span",{staticClass:"scene-btn"},[a("a",{class:{on:0==t.segmentSalesClass},attrs:{href:"javascript:void(0)"},on:{click:function(e){t.getSegmentsSales(0)}}},[t._v("本月")]),t._v(" "),a("a",{class:{on:1==t.segmentSalesClass},attrs:{href:"javascript:void(0)"},on:{click:function(e){t.getSegmentsSales(1)}}},[t._v("累计")])])],2),t._v(" "),a("table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading[6],expression:"loading[6]"}],staticClass:"scene-table noboder"},[a("tr",[a("th",{attrs:{width:"10%"}},[t._v("汽车类型")]),t._v(" "),a("th",{attrs:{width:"20%"}},[t._v("销量")]),t._v(" "),a("th",{attrs:{width:"20%"}},[t._v("份额")]),t._v(" "),a("th",{attrs:{width:"10%"}},[t._v("细分市场")]),t._v(" "),a("th",{attrs:{width:"25%"}},[t._v("销量(同比增速)")]),t._v(" "),a("th",[t._v("份额(同比变化)")])]),t._v(" "),t._l(t.lastMonthSegmentData,function(e,s){return a("tr",[a("td",[a("em",[t._v(t._s(e.vehicle_type_name))])]),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e,field1:"bq",field2:"yoy"}})],1),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e,field1:"per",field2:"change",special:!0}})],1),t._v(" "),a("td",t._l(e.segment,function(e,s){return a("p",[a("cite",[t._v(t._s(e.segment_name))])])})),t._v(" "),a("td",t._l(e.segment,function(t,e){return a("p",[a("bi-cell",{attrs:{data:t,field1:"bq",field2:"yoy"}})],1)})),t._v(" "),a("td",t._l(e.segment,function(t,e){return a("p",[a("bi-cell",{attrs:{data:t,field1:"per",field2:"change",special:!0}})],1)}))])})],2)])]:t._e(),t._v(" "),5==e.index?[a("template",{slot:"title"},[a("font",[t._v(t._s(t.manf_name)+t._s(e.name))]),t._v(" "),0==t.regionsSalesClass?a("em",{staticClass:"font-blue"},[t._v("-"+t._s(t.this_month)+"月实际销量")]):t._e(),t._v(" "),1==t.regionsSalesClass?a("em",{staticClass:"font-blue"},[t._v("-1~"+t._s(t.this_month)+"月实际销量累计")]):t._e()],1),t._v(" "),a("div",{staticClass:"area-market"},[a("h5",{staticClass:"scene-title optional"},[a("a",{class:{on:0==t.regionsSalesBrand},attrs:{href:"javascript:void(0);"},on:{click:function(e){t.getRegionsSales(t.regionsSalesClass,0)}}},[t._v("全部")]),t._v(" "),t._l(t.manfInfo.brandlist,function(e,s){return[a("a",{class:{on:t.regionsSalesBrand==e.brand_id},attrs:{href:"javascript:void(0);"},on:{click:function(a){t.getRegionsSales(t.regionsSalesClass,e.brand_id)}}},[t._v(t._s(e.brand_name))])]}),t._v(" "),a("span",{staticClass:"scene-btn"},[a("a",{class:{on:0==t.regionsSalesClass},attrs:{href:"javascript:void(0)"},on:{click:function(e){t.getRegionsSales(0,t.regionsSalesBrand)}}},[t._v("本月")]),t._v(" "),a("a",{class:{on:1==t.regionsSalesClass},attrs:{href:"javascript:void(0)"},on:{click:function(e){t.getRegionsSales(1,t.regionsSalesBrand)}}},[t._v("累计")])])],2),t._v(" "),a("table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading[7],expression:"loading[7]"}],staticClass:"scene-table noboder"},[a("tr",[a("th",{attrs:{width:"10%"}},[t._v("区域划分")]),t._v(" "),a("th",{attrs:{width:"25%"}},[t._v(t._s(t.this_year)+"销量目标（同比增速）")]),t._v(" "),a("th",{attrs:{width:"30%"}},[t._v("销量（同比增速）")]),t._v(" "),a("th",{attrs:{width:"15%"}},[0==t.regionsSalesClass?a("span",[t._v(t._s(t.this_month)+"月完成率")]):t._e(),t._v(" "),1==t.regionsSalesClass?a("span",[t._v("1~"+t._s(t.this_month)+"月完成率")]):t._e()]),t._v(" "),a("th",[t._v("份额(同比变化)")])]),t._v(" "),t._l(t.regionsSalesData,function(e,s){return a("tr",{staticClass:"has-border"},[a("td",[a("font",{staticClass:"fw700"},[t._v(t._s(e.region_name))])],1),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e,field1:"ob_bq",field2:"ob_yoy"}})],1),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e,field1:"bq",field2:"yoy"}})],1),t._v(" "),a("td",[a("div",{staticStyle:{height:"15px",width:"80%",margin:"0px auto"}},[0==s&&1==t.regionsSalesClass&&t.regionsSalesData[0]?a("bi-progress",{staticStyle:{"margin-bottom":"5px"},attrs:{percentage:e.pass_time,color:"#00b4f3",height:"15"}}):t._e(),t._v(" "),a("bi-progress",{attrs:{percentage:e.pass_ratio,color:t.color_group[e.ratioColor],height:"15"}})],1)]),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e,field1:"per",field2:"per_yoy",special:!0}})],1)])})],2)])]:t._e()],2)}))],1),t._v(" "),a("bi-lift",{attrs:{panels:t.panels,scroll_selected:t.scroll_selected},on:{reachFloor:t.reachFloor,updatePanels:t.updatePanels}})],1),t._v(" "),a("div",{staticStyle:{display:"none"},attrs:{id:"tabs2"}},[a("div",{staticClass:"carlist-header"},[a("h4",{staticClass:"panel-title"},[t._v("\n            请选择筛选条件\n            "),a("span",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],attrs:{type:"text",placeholder:"请输入品牌或车型搜索"},domProps:{value:t.keyword},on:{keyup:[function(e){t.searchModelsQuick()},function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.searchModels()}],focus:function(e){t.searchModelsQuick()},input:function(e){e.target.composing||(t.keyword=e.target.value)}}}),t._v(" "),a("i",{staticClass:"iconfont icon-sousuo",on:{click:function(e){t.searchModels()}}}),t._v(" "),t.models_matches.length>0&&t.isShowModelBox?a("ul",{staticClass:"animated fadeInUp time"},t._l(t.models_matches,function(e,s){return a("li",{on:{click:function(a){t.selectModel(e.sub_model_name)}}},[a("em",[t._v(t._s(e.sub_model_name))])])})):t._e()])]),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading[8],expression:"loading[8]"}]},[a("dl",[a("dt",[t._v("品牌 ：")]),t._v(" "),a("dd",[a("span",[a("a",{class:{on:0==t.brand_id},attrs:{href:"javascript:void(0)"},on:{click:function(e){t.selectBrand(0)}}},[t._v("不限")]),t._v(" "),t._l(t.brands,function(e,s){return[a("a",{class:{on:e.brand_id==t.brand_id},attrs:{href:"javascript:void(0)"},on:{click:function(a){t.selectBrand(e.brand_id,e.brand_name)}}},[t._v(t._s(e.brand_name))])]})],2),t._v(" "),a("font",{staticStyle:{display:"none"}},[t._v("更多 "),a("i",{staticClass:"iconfont icon-xiao73"})])],1)]),t._v(" "),a("dl",[a("dt",[t._v("车型 ：")]),t._v(" "),a("dd",[a("span",[a("a",{class:{on:0==t.segment_id},attrs:{href:"javascript:void(0)"},on:{click:function(e){t.selectSegment(0)}}},[t._v("不限")]),t._v(" "),t._l(t.segments,function(e,s){return[a("a",{class:{on:e.vehicle_type_id==t.segment_id},attrs:{href:"javascript:void(0)"},on:{click:function(a){t.selectSegment(e.vehicle_type_id,e.vehicle_type_name)}}},[t._v(t._s(e.vehicle_type_name))])]})],2),t._v(" "),a("font",{staticStyle:{display:"none"}},[t._v("更多 "),a("i",{staticClass:"iconfont icon-xiao73"})])],1)])])]),t._v(" "),a("bi-panel",[a("template",{slot:"title"},[a("font",[t._v(t._s(t.brand_name)+"品牌车型")])],1),t._v(" "),a("template",{slot:"operating"},[a("a",{staticClass:"btn-col",class:{on:2==t.showType},staticStyle:{"margin-right":"5px"},attrs:{href:"javascript:;",title:"图文展示"},on:{click:function(e){t.setShowType(2)}}},[a("i",{staticClass:"iconfont icon-apps",staticStyle:{"font-size":"17px"}})]),t._v(" "),a("a",{staticClass:"btn-row",class:{on:1==t.showType},attrs:{href:"javascript:;",title:"列表展示"},on:{click:function(e){t.setShowType(1)}}},[a("i",{staticClass:"iconfont icon-fenlei",staticStyle:{"font-size":"18px"}})])]),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading8,expression:"loading8"}],staticClass:"carlist-main"},[t.models.length>0?[a("h5",[t.segment_id?a("b",[t._v(t._s(t.segment_name))]):t._e(),t._v("为您找到"),a("em",[t._v(t._s(t.models.length||0))]),t._v("款车型\n                "),a("span",{staticClass:"scene-btn"},[a("a",{class:{on:0==t.modelsSalesClass},attrs:{href:"javascript:void(0)"},on:{click:function(e){t.getModelsSales(0)}}},[t._v("本月")]),t._v(" "),a("a",{class:{on:1==t.modelsSalesClass},attrs:{href:"javascript:void(0)"},on:{click:function(e){t.getModelsSales(1)}}},[t._v("累计")])])]),t._v(" "),2==t.showType?a("div",{staticClass:"show-col"},t._l(t.models,function(e,s){return a("div",{staticClass:"cards"},[a("a",{attrs:{href:"#/scene/model?sub_model_id="+e.sub_model_id+"&ds_id="+t.ds_id+"&ym_id="+t.this_year_month+"&ymw_id="+t.warning_year_month_week,target:"_blank"}},[a("dl",[a("dt",[a("img",{attrs:{src:e.url?t.image_path+e.url:"/static/images/nocar.png",alt:e.sub_model_name}}),t._v(" "),a("span",{staticStyle:{display:"none"}},[a("em",[t._v("问题指数 : ")]),t._v(" "),a("i",[t._v(" 10 ")])])]),t._v(" "),a("dd",[a("a",{attrs:{href:"#/scene/model?sub_model_id="+e.sub_model_id+"&ds_id="+t.ds_id+"&ym_id="+t.this_year_month+"&ymw_id="+t.warning_year_month_week,target:"_blank"}},[a("font",{attrs:{title:e.sub_model_name}},[t._v(t._s(e.sub_model_name))]),t._v(" "),e.new_desc&&e.new_desc.indexOf("新车")>=0?a("span",{staticClass:"on"},[t._v(t._s(e.new_desc))]):e.new_desc?a("span",[t._v(t._s(e.new_desc))]):t._e()],1),t._v(" "),a("p",[e.tp?[t._v("\n                           TP : "),a("b",[t._v("￥"+t._s(t._f("number_format")(e.tp.lowest_tp,1))+"~"+t._s(t._f("number_format")(e.tp.higher_tp,1))+"万")])]:[t._v("\n                           TP : 亲，暂无数据。\n                           ")],t._v(" "),a("br"),t._v(" "),e.msrp?[t._v("\n                           MSRP : "),a("font",{attrs:{title:"￥"+e.msrp.lowest_msrp+"~ "+e.msrp.higher_msrp+"万"}},[t._v("￥"+t._s(t._f("number_format")(e.msrp.lowest_msrp,1))+"~"+t._s(t._f("number_format")(e.msrp.higher_msrp,1))+"万")])]:[t._v("\n                           MSRP : 亲，暂无数据。\n                           ")],t._v(" "),a("br"),t._v(" "),-1!=e.discount_max?[t._v("\n                           折扣率 : "),a("em",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.discount_min,100),1))+"~"+t._s(t._f("number_format")(t._f("multiply")(e.discount_max,100),1))+"%")])]:[t._v("\n                           折扣率 : 亲，暂无数据。\n                           ")]],2)])]),t._v(" "),a("ul",[a("li",{staticClass:"left"},[0==t.modelsSalesClass?a("div",[a("p",[t._v(t._s(t.this_month)+"月零售目标")]),t._v(" "),a("div",{staticClass:"progress-box"},[a("bi-progress",{attrs:{percentage:e.this_month_target/t.modelsSalesData.max_sales,color:"#80858c",height:"15","show-text":!1}})],1),t._v(" "),a("font",{staticStyle:{color:"#80858c"}},[t._v(t._s(t._f("number_format")(e.this_month_target)))])],1):a("div",[a("p",[t._v("全年累计零售目标")]),t._v(" "),a("div",{staticClass:"progress-box"},[a("bi-progress",{attrs:{percentage:e.ob_year/t.modelsSalesData.max_sales,color:"#80858c",height:"15","show-text":!1}})],1),t._v(" "),a("font",{staticStyle:{color:"#80858c"}},[t._v(t._s(t._f("number_format")(e.ob_year)))])],1),t._v(" "),0==t.modelsSalesClass?a("div",[a("p",[t._v(t._s(t.this_month)+"月零售实际")]),t._v(" "),a("div",{staticClass:"progress-box"},[a("bi-progress",{attrs:{percentage:e.this_month/t.modelsSalesData.max_sales,color:t.color_group[e.pass_color],height:"15","show-text":!1}})],1),t._v(" "),a("font",{staticStyle:{color:"#329acd"}},[t._v(t._s(t._f("number_format")(e.this_month)))])],1):a("div",[a("p",[t._v("1~"+t._s(t.this_month)+"月累计零售实际")]),t._v(" "),a("div",{staticClass:"progress-box"},[a("bi-progress",{attrs:{percentage:e.yearacc/t.modelsSalesData.max_sales,color:t.color_group[e.pass_color],height:"15","show-text":!1}})],1),t._v(" "),a("font",{staticStyle:{color:"#329acd"}},[t._v(t._s(t._f("number_format")(e.yearacc)))])],1)]),t._v(" "),a("li",{staticClass:"right"},[0==t.modelsSalesClass?[a("bi-progress",{staticClass:"progress-circle",attrs:{type:"circle",percentage:e.pass_ratio,circleWidth:"60","stroke-width":"5",color:"#339ace"}}),t._v(" "),a("font",[t._v(t._s(t.this_month)+"月实际完成率")])]:[a("font",[t._v("1~"+t._s(t.this_month)+"月实际累计完成率")]),t._v(" "),a("div",{staticClass:"progress-box"},[a("bi-progress",{attrs:{percentage:t.thisMonthData.pass_time,color:"#00b4f3",height:"14"}})],1),t._v(" "),a("div",{staticClass:"progress-box"},[a("bi-progress",{attrs:{percentage:e.pass_ratio,color:t.color_group[e.pass_color],height:"14"}})],1)]],2)]),t._v(" "),2!=t.ds_id&&3!=t.ds_id?a("ul",{staticClass:"noboder"},[a("li",{staticClass:"left"},[0==t.modelsSalesClass?a("div",{staticClass:"clear"},[a("p",[t._v(t._s(t.warning_month)+"月零售目标预警")]),t._v(" "),a("div",{staticClass:"progress-box"},[a("bi-progress",{attrs:{percentage:e.next_month_target/t.modelsSalesData.max_sales,color:"#80858c",height:"15","show-text":!1}})],1),t._v(" "),a("font",{staticStyle:{color:"#80858c"}},[t._v(t._s(t._f("number_format")(e.next_month_target)))])],1):t._e(),t._v(" "),a("div",{staticClass:"clear"},[a("p",[t._v(t._s(t.warning_month)+"月预警")]),t._v(" "),a("div",{staticClass:"progress-box"},[a("bi-progress",{attrs:{percentage:e.next_month_warning/t.modelsSalesData.max_sales,color:t.color_group[e.warning_pass_color],height:"15","show-text":!1}})],1),t._v(" "),a("font",{staticStyle:{color:"#329acd"}},[t._v(t._s(t._f("number_format")(e.next_month_warning)))])],1)]),t._v(" "),a("li",{staticClass:"right"},[0==t.modelsSalesClass?[a("bi-progress",{staticClass:"progress-circle",attrs:{type:"circle",percentage:e.warning_pass_ratio,circleWidth:"60","stroke-width":"5",color:"#fb6b72"}}),t._v(" "),a("font",[t._v(t._s(t.warning_month)+"月实际完成率")])]:[a("font",[t._v("1~"+t._s(t.warning_month)+"月实际累计完成率")]),t._v(" "),a("div",{staticClass:"progress-box"},[a("bi-progress",{attrs:{percentage:t.thisMonthData.pass_time,color:"#00b4f3",height:"14"}})],1),t._v(" "),a("div",{staticClass:"progress-box"},[a("bi-progress",{attrs:{percentage:e.warning_pass_ratio,color:t.color_group[e.warning_pass_color],height:"14"}})],1)]],2)]):t._e()])])})):t._e(),t._v(" "),1==t.showType?a("div",{staticClass:"show-row"},t._l(t.models,function(e,s){return a("div",{staticClass:"cards"},[a("a",{staticClass:"clear",attrs:{href:"#/scene/model?sub_model_id="+e.sub_model_id+"&ds_id="+t.ds_id+"&ym_id="+t.this_year_month+"&ymw_id="+t.warning_year_month_week}},[a("dl",[a("dt",[a("img",{attrs:{src:e.url?t.image_path+e.url:"/static/images/nocar.png",alt:e.sub_model_name}}),t._v(" "),a("span",{staticStyle:{display:"none"}},[a("em",[t._v("问题指数 : ")]),t._v(" "),a("i",[t._v(" 10 ")])])]),t._v(" "),a("dd",[a("a",{attrs:{href:"#/scene/model?sub_model_id="+e.sub_model_id+"&ds_id="+t.ds_id+"&ym_id="+t.this_year_month+"&ymw_id="+t.warning_year_month_week}},[a("font",{attrs:{title:e.sub_model_name}},[t._v(t._s(e.sub_model_name))]),t._v(" "),a("span",{staticClass:"on"},[t._v(t._s(e.new_desc))])],1),t._v(" "),a("p",[e.tp?[t._v("\n                           TP : "),a("b",[t._v("￥"+t._s(t._f("number_format")(e.tp.lowest_tp,1))+"~"+t._s(t._f("number_format")(e.tp.higher_tp,1))+"万")])]:[t._v("\n                           TP : 亲，暂无数据。\n                           ")],t._v(" "),a("br"),t._v(" "),e.msrp?[t._v("\n                           MSRP : "),a("font",{attrs:{title:"￥"+e.msrp.lowest_msrp+"~ "+e.msrp.higher_msrp+"万"}},[t._v("￥"+t._s(t._f("number_format")(e.msrp.lowest_msrp,1))+"~"+t._s(t._f("number_format")(e.msrp.higher_msrp,1))+"万")])]:[t._v("\n                           MSRP : 亲，暂无数据。\n                           ")],t._v(" "),a("br"),t._v(" "),-1!=e.discount_max?[t._v("\n                           折扣率 : "),a("em",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.discount_min,100),1))+"~"+t._s(t._f("number_format")(t._f("multiply")(e.discount_max,100),1))+"%")])]:[t._v("\n                           折扣率 : 亲，暂无数据。\n                           ")]],2)])]),t._v(" "),a("ul",[a("li",{staticClass:"left"},[0==t.modelsSalesClass?a("div",[a("p",[t._v(t._s(t.this_month)+"月零售目标")]),t._v(" "),a("div",{staticClass:"progress-box"},[a("bi-progress",{attrs:{percentage:e.this_month_target/t.modelsSalesData.max_sales,color:"#80858c",height:"15","show-text":!1}})],1),t._v(" "),a("font",{staticStyle:{color:"#80858c"}},[t._v(t._s(t._f("number_format")(e.this_month_target)))])],1):a("div",[a("p",[t._v("全年累计零售目标")]),t._v(" "),a("div",{staticClass:"progress-box"},[a("bi-progress",{attrs:{percentage:e.ob_year/t.modelsSalesData.max_sales,color:"#80858c",height:"15","show-text":!1}})],1),t._v(" "),a("font",{staticStyle:{color:"#80858c"}},[t._v(t._s(t._f("number_format")(e.ob_year)))])],1),t._v(" "),0==t.modelsSalesClass?a("div",[a("p",[t._v(t._s(t.this_month)+"月零售实际")]),t._v(" "),a("div",{staticClass:"progress-box"},[a("bi-progress",{attrs:{percentage:e.this_month/t.modelsSalesData.max_sales,color:t.color_group[e.pass_color],height:"15","show-text":!1}})],1),t._v(" "),a("font",{staticStyle:{color:"#329acd"}},[t._v(t._s(t._f("number_format")(e.this_month)))])],1):a("div",[a("p",[t._v("1~"+t._s(t.this_month)+"月累计零售实际")]),t._v(" "),a("div",{staticClass:"progress-box"},[a("bi-progress",{attrs:{percentage:e.yearacc/t.modelsSalesData.max_sales,color:t.color_group[e.pass_color],height:"15","show-text":!1}})],1),t._v(" "),a("font",{staticStyle:{color:"#329acd"}},[t._v(t._s(t._f("number_format")(e.yearacc)))])],1)]),t._v(" "),a("li",{staticClass:"right"},[0==t.modelsSalesClass?[a("bi-progress",{staticClass:"progress-circle",attrs:{type:"circle",percentage:e.pass_ratio,circleWidth:"60","stroke-width":"5",color:"#339ace"}}),t._v(" "),a("font",[t._v(t._s(t.this_month)+"月实际完成率")])]:[a("font",[t._v("1~"+t._s(t.this_month)+"月实际累计完成率")]),t._v(" "),a("div",{staticClass:"progress-box"},[a("bi-progress",{attrs:{percentage:t.thisMonthData.pass_time,color:"#00b4f3",height:"14"}})],1),t._v(" "),a("div",{staticClass:"progress-box"},[a("bi-progress",{attrs:{percentage:e.pass_ratio,color:t.color_group[e.pass_color],height:"14"}})],1)]],2)]),t._v(" "),2!=t.ds_id&&3!=t.ds_id?a("ul",{staticClass:"mr0"},[a("li",{staticClass:"left"},[0==t.modelsSalesClass?a("div",{staticClass:"clear"},[a("p",[t._v(t._s(t.warning_month)+"月零售目标预警")]),t._v(" "),a("div",{staticClass:"progress-box"},[a("bi-progress",{attrs:{percentage:e.next_month_target/t.modelsSalesData.max_sales,color:"#80858c",height:"15","show-text":!1}})],1),t._v(" "),a("font",{staticStyle:{color:"#80858c"}},[t._v(t._s(t._f("number_format")(e.next_month_target)))])],1):t._e(),t._v(" "),a("div",{staticClass:"clear"},[a("p",[t._v(t._s(t.warning_month)+"月预警")]),t._v(" "),a("div",{staticClass:"progress-box"},[a("bi-progress",{attrs:{percentage:e.next_month_warning/t.modelsSalesData.max_sales,color:t.color_group[e.warning_pass_color],height:"15","show-text":!1}})],1),t._v(" "),a("font",{staticStyle:{color:"#329acd"}},[t._v(t._s(t._f("number_format")(e.next_month_warning)))])],1)]),t._v(" "),a("li",{staticClass:"right"},[0==t.modelsSalesClass?[a("bi-progress",{staticClass:"progress-circle",attrs:{type:"circle",percentage:e.warning_pass_ratio,circleWidth:"60","stroke-width":"5",color:"#fb6b72"}}),t._v(" "),a("font",[t._v(t._s(t.warning_month)+"月实际完成率")])]:[a("font",[t._v("1~"+t._s(t.warning_month)+"月实际累计完成率")]),t._v(" "),a("div",{staticClass:"progress-box"},[a("bi-progress",{attrs:{percentage:t.thisMonthData.pass_time,color:"#00b4f3",height:"14"}})],1),t._v(" "),a("div",{staticClass:"progress-box"},[a("bi-progress",{attrs:{percentage:e.warning_pass_ratio,color:t.color_group[e.warning_pass_color],height:"14"}})],1)]],2)]):t._e()])])})):t._e()]:a("bi-empty",[t._v(t._s(t.keyword_result.trim()?"“"+t.keyword_result.trim()+"”":""))])],2)],2)],1)])])},staticRenderFns:[]};var u=function(t){a("ertR")},h=a("Z0/y")(c.a,d,!1,u,"data-v-4a32f934",null).exports,m=a("jhJU"),v=a("7ETC"),p=a("5Wde"),f=a("cTML"),g=a("B29g"),b=a("v0nF"),y=a("405r"),w=a.n(y),k=["全国销量现状","全国滚动预警","区域市场表现","车型指标综合评估"],C={name:"ModelPage",mixins:[g.a],data:function(){return{panels:k.map(function(t,e){return{name:t,index:e+1,fixed:!1,show:!0}}),dialogVisible:!1,manfs:[],modelInfo:{},thisMonthData:{},warningMonthData:{},regionsSalesData:[],modelSalesClass:1,modelSalesWarningClass:1,regionsSalesClass:0,query:{},loading:new Array(3).fill(0)}},mounted:function(){var t=this;this.getToken(function(){t.getManfs(),t.initBase(),t.getDataSource()}),this.onOver();var e=this;b.a.$on("updateConfig",function(t){e.editable=t[7]})},watch:{modelInfo:function(){this.manf_id=this.modelInfo.manf_id||this.manf_id,this.modelInfo.sub_segment_name=this.modelInfo.sub_segment_name.replace(this.modelInfo.segment_name,this.modelInfo.segment_full_name),this.modelInfo.segment_name=this.modelInfo.segment_full_name}},methods:{getManfs:function(){var t=this;this.$request.get(this.$interface.GET_MANFS,{token:this.token},function(e){t.manfs=e.data},this.failure)},getDataSource:function(){var t=this;this.$request.get(this.$interface.GET_DATA_SOURCE,{token:this.token,manf_id:this.manf_id},function(e){t.dataSource=e.data[0],t.loadData()},this.failure)},getModelInfo:function(){var t=this;this.$request.get(this.$interface.GET_MODEL_INFO,{token:this.token,submodel_id:this.sub_model_id},function(e){t.modelInfo=e.data[0]},this.failure)},loadData:function(){this.initParam(),this.getModelInfo(),this.getModelSales(),this.getModelSalesWarning(),this.getModelRegionSales()},getModelSales:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.loading[0]=!0,this.modelSalesClass=e,this.$request.get(this.$interface.GET_MODEL_SALES,{token:this.token,ds_id:this.ds_id,sub_model_id:this.sub_model_id,ym_id:this.this_year_month,seg:e},function(e){t.thisMonthData=e.data[0],t.loading[0]=!1},this.failure)},getModelSalesWarning:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.loading[1]=!0,this.modelSalesWarningClass=e,this.$request.get(this.$interface.GET_MODEL_SALES_WARNING,{token:this.token,ds_id:this.ds_id,sub_model_id:this.sub_model_id,ym_id:this.this_year_month,ymw_id:this.warning_year_month_week,seg:e},function(e){t.warningMonthData=e.data[0],t.loading[1]=!1},this.failure)},getModelRegionSales:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.loading[2]=!0,this.regionsSalesClass=e,this.$request.get(this.$interface.GET_MODEL_REGIONS_SALES,{token:this.token,ds_id:this.ds_id,sub_model_id:this.sub_model_id,ym_id:this.this_year_month,acc:e},function(e){t.regionsSalesData=e.data,t.loading[2]=!1},this.failure)},initBase:function(){var t=this.query=this.$route.query;this.ds_id=t.ds_id?t.ds_id:this.ds_id,this.sub_model_id=t.sub_model_id?t.sub_model_id:this.sub_model_id,this.this_year_month=t.ym_id?t.ym_id:this.this_year_month,this.warning_year_month_week=t.ymw_id?t.ymw_id:this.warning_year_month_week},initParam:function(){this.data_source_map()}},components:{BiTitle:m.a,BiPanel:v.a,BiCell:p.a,BiProgress:f.a,Draggable:w.a}},x={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"content-top-floor",staticStyle:{height:"50px"}}),t._v(" "),a("div",{staticClass:"content-top",attrs:{id:"content-top"}},[a("div",{staticClass:"pageinfo"},[a("bi-title",{attrs:{columnText:"当前数据："+(t.manf_name?t.manf_name:"厂商")+"-"+(t.ds_name?t.ds_name:"数据源")+"-"+(t.year_month?t.year_month:(new Date).getFullYear()+"/"+(Number((new Date).getMonth())+1))}},[a("img",{attrs:{src:t.modelInfo.submodel_logo?t.image_path+t.modelInfo.submodel_logo:"/static/images/nocar.png",alt:t.modelInfo.manf_name}}),t._v(" "),a("font",[t._v("车型看板-"+t._s(t.modelInfo.sub_model_name))])],1),t._v(" "),a("div",{staticClass:"right-box"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("首页")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/scene"}}},[t._v("销量目标管理场景")]),t._v(" "),a("el-breadcrumb-item",[t._v("车型看板-"+t._s(t.modelInfo.sub_model_name))])],1)],1)],1)]),t._v(" "),a("div",{staticClass:"content-main"},[a("draggable",{staticClass:"list-group",attrs:{element:"div",options:t.panelOptions,move:t.onMove},on:{start:t.onStart,end:t.onEnd},model:{value:t.panels,callback:function(e){t.panels=e},expression:"panels"}},[a("transition-group",{attrs:{type:"transition",name:"panel-list",tag:"div"}},t._l(t.panels,function(e){return a("bi-panel",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"element.show"}],key:e.index,attrs:{panel_key:e.index,cls:{"list-group-item":t.editable},"button-width":"210"},on:{closePanel:function(a){t.closePanel(e.index)}}},[1==e.index?[a("template",{slot:"title"},[a("font",[t._v(t._s(e.name)+"-")]),a("em",{staticClass:"font-blue"},[t._v(t._s(t.this_month)+"月")])],1),t._v(" "),a("template",{slot:"operating"},[a("span",{staticClass:"scene-btn"},[a("a",{class:{on:1==t.modelSalesClass},attrs:{href:"javascript:void(0)"},on:{click:function(e){t.getModelSales(1)}}},[t._v(t._s(t.modelInfo.segment_name))]),t._v(" "),a("a",{class:{on:2==t.modelSalesClass},attrs:{href:"javascript:void(0)"},on:{click:function(e){t.getModelSales(2)}}},[t._v(t._s(t.modelInfo.sub_segment_name))])])]),t._v(" "),a("draggable",{directives:[{name:"loading",rawName:"v-loading",value:t.loading[0],expression:"loading[0]"}],staticClass:"sales-status",attrs:{element:"ul",options:t.itemOptions[0]}},[a("li",{staticClass:"left"},[a("abbr",{staticClass:"hot-spots",attrs:{title:"拖动此区域可更改布局"}},[1==t.modelSalesClass?[a("span",[t._v(t._s(t.modelInfo.segment_name))])]:[a("span",[t._v(t._s(t.modelInfo.sub_segment_name))])],t._v(" "),a("i",{staticClass:"iconfont icon-tuodong over-move"})],2),t._v(" "),a("draggable",{attrs:{element:"div",options:t.cellOptions[0]}},[a("bi-cell",{attrs:{data:t.thisMonthData,field1:"whole_bq",field2:"whole_yoy",type:"default"}},[t._v("\n                      "+t._s(t.this_month)+"月 乘用车销量（同比增速）\n                    ")]),t._v(" "),a("bi-cell",{attrs:{data:t.thisMonthData,field1:"whole_acc_bq",field2:"whole_acc_yoy",type:"default"}},[t._v("\n                      1~"+t._s(t.this_month)+"月 乘用车销量（同比增速）\n                    ")])],1)],1),t._v(" "),a("li",{staticClass:"center"},[a("abbr",{staticClass:"hot-spots",staticStyle:{height:"auto",bottom:"0"},attrs:{title:"拖动此区域可更改布局"}},[a("i",{staticClass:"iconfont icon-tuodong over-move"})]),t._v(" "),a("img",{attrs:{src:t.modelInfo.submodel_logo?t.image_path+t.modelInfo.submodel_logo:"/static/images/nocar.png",alt:t.modelInfo.manf_name}}),t._v(" "),a("p",[t._v(t._s(t.modelInfo.sub_model_name))])]),t._v(" "),a("li",{staticClass:"right"},[a("abbr",{staticClass:"hot-spots",attrs:{title:"拖动此区域可更改布局"}},[a("i",{staticClass:"iconfont icon-tuodong over-move"})]),t._v(" "),a("draggable",{staticClass:"lattice4",attrs:{element:"div",options:t.cellOptions[1]}},[a("bi-cell",{attrs:{data:t.thisMonthData,field1:"ob_bq",field2:"ob_yoy"}},[a("em",{staticClass:"font-blue"},[t._v(t._s(t.this_month)+"月")]),t._v(" 销量目标（同比增速）\n                    ")]),t._v(" "),a("bi-cell",{attrs:{data:t.thisMonthData,field1:"bq",field2:"yoy"}},[a("em",{staticClass:"font-blue"},[t._v(t._s(t.this_month)+"月")]),t._v(" 销量实际（同比增速）\n                    ")]),t._v(" "),a("bi-cell",{attrs:{data:t.thisMonthData,field1:"pass_ratio",type:"circle"}},[a("em",{staticClass:"font-blue"},[t._v(t._s(t.this_month)+"月")]),t._v(" 实际完成率\n                    ")]),t._v(" "),a("bi-cell",{attrs:{data:t.thisMonthData,field1:"per",field2:"per_yoy",special:!0}},[a("em",{staticClass:"font-blue"},[t._v(t._s(t.this_month)+"月")]),t._v(" 份额实际（同比变化）\n                    ")]),t._v(" "),a("bi-cell",{attrs:{data:t.thisMonthData,field1:"ob_year",field2:"ob_year_yoy"}},[a("em",{staticClass:"font-blue"},[t._v(t._s(t.this_year)+"年")]),t._v(" 销量目标（环比增速）\n                    ")]),t._v(" "),a("bi-cell",{attrs:{data:t.thisMonthData,field1:"acc_bq",field2:"acc_yoy"}},[a("em",{staticClass:"font-blue"},[t._v("1~"+t._s(t.this_month)+"月")]),t._v(" 销量实际（同比增速）\n                    ")]),t._v(" "),a("bi-cell",{attrs:{data:t.thisMonthData,field1:"pass_time",field2:"pass_task",type:"bar",color:t.color_group[t.thisMonthData.accColor]}},[a("em",{staticClass:"font-blue"},[t._v("1~"+t._s(t.this_month)+"月")]),t._v(" 实际完成率\n                    ")]),t._v(" "),a("bi-cell",{attrs:{data:t.thisMonthData,field1:"acc_per",field2:"acc_per_yoy",special:!0}},[a("em",{staticClass:"font-blue"},[t._v("1~"+t._s(t.this_month)+"月")]),t._v(" 份额实际（同比变化）\n                    ")])],1)],1)])]:t._e(),t._v(" "),2==e.index?[a("template",{slot:"title"},[a("font",[t._v(t._s(e.name)+"-")]),a("em",{staticClass:"font-blue"},[t._v(t._s(t.warning_month)+"月")]),t._v(" "),a("router-link",{staticClass:"more-info",attrs:{to:"/tools/model"}},[t._v("查看更多")])],1),t._v(" "),a("template",{slot:"others"},[a("span",{staticClass:"notice"},[a("i",{staticClass:"iconfont icon-custom-wechat",on:{click:function(e){t.dialogVisible=!0}}}),t._v(" "),a("i",{staticClass:"iconfont icon-mobile",on:{click:function(e){t.dialogVisible=!0}}})]),t._v(" "),a("el-dialog",{attrs:{title:"智能推送",visible:t.dialogVisible,width:"1000px","modal-append-to-body":!0,"append-to-body":!0},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("div",{staticClass:"notice-content"},[a("h4",[t._v("智能预警  "),a("font",[t._v("(当前预警超过临界值，系统已智能推送以下人员)")])],1),t._v(" "),a("ul",[a("li",[a("i",[t._v("x")]),t._v(" "),a("img",{attrs:{src:"/static/images/linshi/user1.png",alt:""}}),t._v(" "),a("p",[a("label",[t._v("李莉")]),t._v(" "),a("span",[t._v("销售部经理")])])]),t._v(" "),a("li",[a("i",[t._v("x")]),t._v(" "),a("img",{attrs:{src:"/static/images/linshi/user3.png",alt:""}}),t._v(" "),a("p",[a("label",[t._v("李勇")]),t._v(" "),a("span",[t._v("品牌广告科")])])])]),t._v(" "),a("h4",[t._v("自定义预警 "),a("font",[t._v("(您还可以发送预警情况到相关人员)")])],1),t._v(" "),a("ul",[a("li",[a("input",{attrs:{type:"checkbox"}}),t._v(" "),a("img",{attrs:{src:"/static/images/linshi/user5.png",alt:""}}),t._v(" "),a("p",[a("label",[t._v("李永娟")]),t._v(" "),a("span",[t._v("计划销售科")])])]),t._v(" "),a("li",[a("input",{attrs:{type:"checkbox"}}),t._v(" "),a("img",{attrs:{src:"/static/images/linshi/user6.png",alt:""}}),t._v(" "),a("p",[a("label",[t._v("钟强")]),t._v(" "),a("span",[t._v("网络开发科")])])]),t._v(" "),a("li",[a("input",{attrs:{type:"checkbox"}}),t._v(" "),a("img",{attrs:{src:"/static/images/linshi/user7.png",alt:""}}),t._v(" "),a("p",[a("label",[t._v("韩磊")]),t._v(" "),a("span",[t._v("市场营销部经理")])])]),t._v(" "),a("li",[a("input",{attrs:{type:"checkbox"}}),t._v(" "),a("img",{attrs:{src:"/static/images/linshi/user4.png",alt:""}}),t._v(" "),a("p",[a("label",[t._v("林达")]),t._v(" "),a("span",[t._v("信息与产品规划科")])])])])]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("确 定")])],1)])],1),t._v(" "),a("template",{slot:"operating"},[t.modelInfo.sub_segment_count>1?a("span",{staticClass:"scene-btn"},[a("a",{class:{on:1==t.modelSalesWarningClass},attrs:{href:"javascript:void(0)"},on:{click:function(e){t.getModelSalesWarning(1)}}},[t._v(t._s(t.modelInfo.segment_name))]),t._v(" "),a("a",{class:{on:2==t.modelSalesWarningClass},attrs:{href:"javascript:void(0)"},on:{click:function(e){t.getModelSalesWarning(2)}}},[t._v(t._s(t.modelInfo.sub_segment_name))])]):t._e()]),t._v(" "),a("draggable",{directives:[{name:"loading",rawName:"v-loading",value:t.loading[1],expression:"loading[1]"}],staticClass:"sales-status warning",attrs:{element:"ul",options:t.itemOptions[1]}},[a("li",{staticClass:"left"},[a("abbr",{staticClass:"hot-spots",attrs:{title:"拖动此区域可更改布局"}},[1==t.modelSalesWarningClass?[a("span",[t._v(t._s(t.modelInfo.segment_name))])]:[a("span",[t._v(t._s(t.modelInfo.sub_segment_name))])],t._v(" "),a("i",{staticClass:"iconfont icon-tuodong over-move"})],2),t._v(" "),a("draggable",{attrs:{element:"div",options:t.cellOptions[2]}},[a("bi-cell",{attrs:{data:t.warningMonthData,field1:"whole_bq",field2:"whole_yoy",type:"default"}},[t._v("\n                      "+t._s(t.warning_month)+"月 乘用车销量预警（同比增速）\n                    ")]),t._v(" "),a("bi-cell",{attrs:{data:t.warningMonthData,field1:"whole_acc_bq",field2:"whole_acc_yoy",type:"default"}},[t._v("\n                      1~"+t._s(t.warning_month)+"月 乘用车销量预警（同比增速）\n                    ")])],1)],1),t._v(" "),a("li",{staticClass:"center"},[a("abbr",{staticClass:"hot-spots",staticStyle:{height:"auto",bottom:"0"},attrs:{title:"拖动此区域可更改布局"}},[a("i",{staticClass:"iconfont icon-tuodong over-move"})]),t._v(" "),a("img",{attrs:{src:t.modelInfo.submodel_logo?t.image_path+t.modelInfo.submodel_logo:"/static/images/nocar.png",alt:t.modelInfo.manf_name}}),t._v(" "),a("p",[t._v(t._s(t.modelInfo.sub_model_name))])]),t._v(" "),a("li",{staticClass:"right"},[a("abbr",{staticClass:"hot-spots",attrs:{title:"拖动此区域可更改布局"}},[a("i",{staticClass:"iconfont icon-tuodong over-move"})]),t._v(" "),a("draggable",{staticClass:"lattice3",attrs:{element:"div",options:t.cellOptions[3]}},[a("bi-cell",{attrs:{data:t.warningMonthData,field1:"ob_bq",field2:"ob_yoy"}},[a("em",{staticClass:"font-red"},[t._v(t._s(t.warning_month)+"月")]),t._v(" 销量目标（同比增速）\n                    ")]),t._v(" "),a("bi-cell",{attrs:{data:t.warningMonthData,field1:"bq",field2:"yoy"}},[a("em",{staticClass:"font-red"},[t._v(t._s(t.warning_month)+"月")]),t._v(" 销量预警（同比增速）\n                    ")]),t._v(" "),a("bi-cell",{attrs:{data:t.warningMonthData,field1:"pass_ratio",type:"circle"}},[a("em",{staticClass:"font-red"},[t._v(t._s(t.warning_month)+"月")]),t._v(" 预警完成率\n                    ")]),t._v(" "),a("bi-cell",{attrs:{data:t.warningMonthData,field1:"ob_year",field2:"ob_year_mom"}},[a("em",{staticClass:"font-red"},[t._v(t._s(t.warning_year)+"年")]),t._v(" 销量目标（环比增速）\n                    ")]),t._v(" "),a("bi-cell",{attrs:{data:t.warningMonthData,field1:"acc_bq",field2:"acc_yoy"}},[a("em",{staticClass:"font-red"},[t._v("1~"+t._s(t.warning_month)+"月")]),t._v(" 销量预警（同比增速）\n                    ")]),t._v(" "),a("bi-cell",{attrs:{data:t.warningMonthData,field1:"pass_time",field2:"pass_task",type:"bar",color:t.color_group[t.warningMonthData.accColor]}},[a("em",{staticClass:"font-red"},[t._v("1~"+t._s(t.warning_month)+"月")]),t._v(" 预警完成率\n                    ")])],1)],1)])]:t._e(),t._v(" "),3==e.index?[a("template",{slot:"title"},[a("font",[t._v(t._s(e.name)+" - ")]),a("em",[t._v(t._s(t.modelInfo.sub_model_name))])],1),t._v(" "),a("template",{slot:"operating"}),t._v(" "),a("div",{staticClass:"regional-market"},[a("h5",{staticClass:"scene-title optional"},[a("a",{staticClass:"on",staticStyle:{color:"#333333","font-weight":"100"},attrs:{href:"javascript:void(0);"}},[t._v("11月实际销量")]),t._v(" "),a("span",{staticClass:"scene-btn"},[a("a",{class:{on:0==t.regionsSalesClass},attrs:{href:"javascript:void(0)"},on:{click:function(e){t.getModelRegionSales(0)}}},[t._v("本月")]),t._v(" "),a("a",{class:{on:1==t.regionsSalesClass},attrs:{href:"javascript:void(0)"},on:{click:function(e){t.getModelRegionSales(1)}}},[t._v("累计")])])]),t._v(" "),a("table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading[2],expression:"loading[2]"}],staticClass:"scene-table noboder"},[a("tr",[a("th",{attrs:{width:"11%"}},[t._v("区域划分")]),t._v(" "),a("th",{attrs:{width:"30%"}},[0==t.regionsSalesClass?a("font",[t._v(" "+t._s(t.this_month)+"月销量目标（同比增速）")]):a("font",[t._v(" "+t._s(t.this_year)+"年销量目标（同比增速）")])],1),t._v(" "),a("th",{attrs:{width:"25%"}},[0==t.regionsSalesClass?a("font",[t._v("   "+t._s(t.this_month)+"月实际销量（同比增速）")]):a("font",[t._v(" 1~"+t._s(t.this_month)+"月实际销量（同比增速）")])],1),t._v(" "),a("th",{attrs:{width:"30%"}},[0==t.regionsSalesClass?a("font",[t._v(t._s(t.this_month)+"月 实际完成率")]):a("font",[t._v("1~"+t._s(t.this_month)+"月 实际完成率")])],1)]),t._v(" "),t._l(t.regionsSalesData,function(e,s){return a("tr",[a("td",[a("font",{staticClass:"fw700"},[t._v(t._s(e.region_name))])],1),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e,field1:"ob_bq",field2:"ob_yoy"}})],1),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e,field1:"bq",field2:"yoy"}})],1),t._v(" "),a("td",[a("div",{staticStyle:{height:"15px",width:"60%",margin:"0px auto"}},[0==t.regionsSalesClass?[a("bi-progress",{attrs:{percentage:e.pass_ratio,color:t.color_group[e.ratioColor],height:"11","title-width":"60"}},[t._v("任务进度")])]:[0==s?a("bi-progress",{staticStyle:{"margin-bottom":"5px"},attrs:{percentage:e.pass_time,color:"#00b4f3",height:"11","title-width":"60"}},[t._v("时间进度")]):t._e(),t._v(" "),a("bi-progress",{attrs:{percentage:e.pass_task,color:t.color_group[e.taskColor],height:"11","title-width":"60"}},[t._v("任务进度")])]],2)])])})],2)])]:t._e(),t._v(" "),4==e.index?[a("template",{slot:"title"},[a("font",[t._v("车型指标综合评估  ")])],1),t._v(" "),a("div",{staticClass:"model-norm"},[a("div",{staticClass:"round"},[a("router-link",{staticClass:"round_aa",attrs:{to:{path:"/scene/market",query:t.query},target:"_blank",title:"车型综合"}},[a("font",[t._v("车型综合")])],1),t._v(" "),a("router-link",{staticClass:"round_ba",attrs:{to:{path:"/scene/market",query:t.query},target:"_blank",title:"竞争环境"}},[a("font",[t._v("竞争环境")])],1),t._v(" "),a("router-link",{staticClass:"round_baca",attrs:{to:{path:"/scene/market",query:t.query},target:"_blank",title:"市场环境"}},[a("font",[t._v("市场环境")])],1),t._v(" "),a("router-link",{staticClass:"round_bacb",attrs:{to:{path:"/scene/compete",query:t.query},target:"_blank",title:"竞争圈"}},[a("font",[t._v("竞争圈")])],1),t._v(" "),a("router-link",{staticClass:"round_bacc",attrs:{to:{path:"/scene/funnel",query:t.query},target:"_blank",title:"销售漏斗"}},[a("font",[t._v("销售漏斗")])],1),t._v(" "),a("router-link",{staticClass:"round_bacada",attrs:{to:{path:"/scene/market",query:t.query},target:"_blank",title:"细分市场趋势"}},[a("font",[t._v("细分市场趋势")])],1),t._v(" "),a("router-link",{staticClass:"round_bacadb",attrs:{to:{path:"/scene/market",query:t.query},target:"_blank",title:"市场集中度"}},[a("font",[t._v("市场集中度")])],1),t._v(" "),a("router-link",{staticClass:"round_bacbda",attrs:{to:{path:"/scene/compete",query:t.query},target:"_blank",title:"竞争关系"}},[a("font",[t._v("竞争关系")])],1),t._v(" "),a("router-link",{staticClass:"round_bacbdb",attrs:{to:{path:"/scene/compete",query:t.query},target:"_blank",title:"竞争格局"}},[a("font",[t._v("竞争格局")])],1),t._v(" "),a("router-link",{staticClass:"round_baccda",attrs:{to:{path:"/scene/funnel",query:t.query},target:"_blank",title:"线上漏斗"}},[a("font",[t._v("线上漏斗")])],1),t._v(" "),a("router-link",{staticClass:"round_baccdb",attrs:{to:{path:"/scene/funnel",query:t.query},target:"_blank",title:"线下漏斗"}},[a("font",[t._v("线下漏斗")])],1),t._v(" "),a("router-link",{staticClass:"round_bb",attrs:{to:{path:"/scene/priceanalysis",query:t.query},target:"_blank",title:"营销指标"}},[a("font",[t._v("营销指标")])],1),t._v(" "),a("router-link",{staticClass:"round_bbca",attrs:{to:{path:"/scene/priceanalysis",query:t.query},target:"_blank",title:"价格"}},[a("font",[t._v("价格")])],1),t._v(" "),a("router-link",{staticClass:"round_bbcb",attrs:{to:{path:"/scene/productanalysis",query:t.query},target:"_blank",title:"产品"}},[a("font",[t._v("产品")])],1),t._v(" "),a("router-link",{staticClass:"round_bbcc",attrs:{to:{path:"/scene/channelsanalysis",query:t.query},target:"_blank",title:"渠道"}},[a("font",[t._v("渠道")])],1),t._v(" "),a("router-link",{staticClass:"round_bbcd",attrs:{to:{path:"/scene/salesanalysis",query:t.query},target:"_blank",title:"推广"}},[a("font",[t._v("推广")])],1),t._v(" "),a("router-link",{staticClass:"round_bbcada",attrs:{to:{path:"/scene/priceanalysis",query:t.query},target:"_blank",title:"成交价"}},[a("font",[t._v("成交价")])],1),t._v(" "),a("router-link",{staticClass:"round_bbcadb",attrs:{to:{path:"/scene/priceanalysis",query:t.query},target:"_blank",title:"终端支持"}},[a("font",[t._v("终端支持")])],1),t._v(" "),a("router-link",{staticClass:"round_bbcadc",attrs:{to:{path:"/scene/priceanalysis",query:t.query},target:"_blank",title:"单车利润"}},[a("font",[t._v("单车利润")])],1),t._v(" "),a("router-link",{staticClass:"round_bbcbda",attrs:{to:{path:"/scene/productanalysis",query:t.query},target:"_blank",title:"配置分析"}},[a("font",[t._v("配置分析")])],1),t._v(" "),a("router-link",{staticClass:"round_bbcbdb",attrs:{to:{path:"/scene/productanalysis",query:t.query},target:"_blank",title:"满意度"}},[a("font",[t._v("满意度")])],1),t._v(" "),a("router-link",{staticClass:"round_bbcbdc",attrs:{to:{path:"/scene/productanalysis",query:t.query},target:"_blank",title:"上市新车"}},[a("font",[t._v("上市新车")])],1),t._v(" "),a("router-link",{staticClass:"round_bbcbdd",attrs:{to:{path:"/scene/productanalysis",query:t.query},target:"_blank",title:"新车预测"}},[a("font",[t._v("新车预测")])],1),t._v(" "),a("router-link",{staticClass:"round_bbccda",attrs:{to:{path:"/scene/channelsanalysis",query:t.query},target:"_blank",title:"网点数"}},[a("font",[t._v("网点数")])],1),t._v(" "),a("router-link",{staticClass:"round_bbccdb",attrs:{to:{path:"/scene/channelsanalysis",query:t.query},target:"_blank",title:"网站效率"}},[a("font",[t._v("网点效率")])],1),t._v(" "),a("router-link",{staticClass:"round_bbccdc",attrs:{to:{path:"/scene/channelsanalysis",query:t.query},target:"_blank",title:"库存"}},[a("font",[t._v("库存")])],1),t._v(" "),a("router-link",{staticClass:"round_bbcdda",attrs:{to:{path:"/scene/salesanalysis",query:t.query},target:"_blank",title:"广宣"}},[a("font",[t._v("广宣")])],1),t._v(" "),a("router-link",{staticClass:"round_bbcddb",attrs:{to:{path:"/scene/salesanalysis",query:t.query},target:"_blank",title:"活动"}},[a("font",[t._v("活动")])],1),t._v(" "),a("div",{staticClass:"line_ba"}),t._v(" "),a("div",{staticClass:"line_baca"}),t._v(" "),a("div",{staticClass:"line_bacada"}),t._v(" "),a("div",{staticClass:"line_bacadb"}),t._v(" "),a("div",{staticClass:"line_bacb"}),t._v(" "),a("div",{staticClass:"line_bacbda"}),t._v(" "),a("div",{staticClass:"line_bacbdb"}),t._v(" "),a("div",{staticClass:"line_bacc"}),t._v(" "),a("div",{staticClass:"line_baccda"}),t._v(" "),a("div",{staticClass:"line_baccdb"}),t._v(" "),a("div",{staticClass:"line_bb"}),t._v(" "),a("div",{staticClass:"line_bbca"}),t._v(" "),a("div",{staticClass:"line_bbcada"}),t._v(" "),a("div",{staticClass:"line_bbcadb"}),t._v(" "),a("div",{staticClass:"line_bbcadc"}),t._v(" "),a("div",{staticClass:"line_bbcb"}),t._v(" "),a("div",{staticClass:"line_bbcbda"}),t._v(" "),a("div",{staticClass:"line_bbcbdb"}),t._v(" "),a("div",{staticClass:"line_bbcbdc"}),t._v(" "),a("div",{staticClass:"line_bbcbdd"}),t._v(" "),a("div",{staticClass:"line_bbcc"}),t._v(" "),a("div",{staticClass:"line_bbccda"}),t._v(" "),a("div",{staticClass:"line_bbccdb"}),t._v(" "),a("div",{staticClass:"line_bbccdc"}),t._v(" "),a("div",{staticClass:"line_bbcd"}),t._v(" "),a("div",{staticClass:"line_bbcdda"}),t._v(" "),a("div",{staticClass:"line_bbcddb"})],1)])]:t._e()],2)}))],1)],1)])},staticRenderFns:[]};var T,S=a("Z0/y")(C,x,!1,function(t){a("PgiI")},"data-v-3c9c85e3",null).exports,E=a("a3Yh"),O=a.n(E),D=a("L7Pj"),A=a.n(D),M=(T={name:"BiSubPanel",data:function(){return{content:"暂无内容"}},props:{width:{default:"100%"},method:{type:Function}}},O()(T,"data",function(){return{dialogVisible:!1}}),O()(T,"methods",{enlarge:function(){},close:function(){}}),T),N={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bi-subpanel",style:{width:t.width}},[a("div",{staticClass:"bi-subpanel-header"},[a("span",{staticClass:"bi-subpanel-title"},[t._t("title",[t._v("标题")])],2),t._v(" "),a("span",{staticClass:"bi-subpanel-button"},[t._t("operating",[a("a",{staticClass:"bi-subpanel-btn bi-subpanel-enlarge",attrs:{href:"javascript:void(0);"},on:{click:t.enlarge}},[t._v("□")]),t._v(" "),a("a",{staticClass:"bi-subpanel-btn bi-subpanel-close",attrs:{href:"javascript:void(0);"},on:{click:t.close}},[t._v("x")])])],2)]),t._v(" "),a("transition",{attrs:{name:"expand"}},[a("div",{staticClass:"bi-subpanel-body"},[t._t("default",[t._v("暂无内容")])],2)])],1)},staticRenderFns:[]};var G=a("Z0/y")(M,N,!1,function(t){a("GsTN")},"data-v-35e814a4",null).exports,I=a("7VF+"),R=a.n(I),P=O()({name:"BiChart",data:function(){return{}},props:{id:{type:String,required:!0},option:{type:Object,required:!0,default:{}},styles:{type:String,default:""}},mounted:function(){},methods:{init:function(){window.addEventListener("resize",function(){this.myChart.resize()}.bind(this));var t=this.myChart;b.a.$on("ResizeChart",function(){setTimeout(function(){t.resize()},50)})}},watch:{option:function(){this.myChart=R.a.init(document.querySelector("#"+this.id)),this.myChart.setOption(this.option),b.a.$emit("ResizeChart")}}},"mounted",function(){this.myChart=R.a.init(document.querySelector("#"+this.id)),this.myChart.setOption(this.option),this.init()}),F={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"chart-main",style:this.styles,attrs:{id:this.id}})},staticRenderFns:[]};var B=a("Z0/y")(P,F,!1,function(t){a("90QU")},"data-v-22df3d42",null).exports,$=a("L2I5");s.default.use($.a);var q={name:"Market",mixins:[g.a],data:function(){return{modelInfo:{},segmentTrendData:{},marketConcentrationData:{},marketConcentrationClass:1,segmentTrendClass:1,optionA:{},optionB:{},optionB2:{},optionC:{},optionD:{},loading:new Array(2).fill(0)}},computed:{last_year:function(){return this.this_year-1}},mounted:function(){var t=this;this.getToken(function(){t.getManfs(),t.initBase(),t.getDataSource()}),this.onOver();var e=this;b.a.$on("updateConfig",function(t){e.editable=t[7]})},watch:{modelInfo:function(){this.manf_id=this.modelInfo.manf_id||this.manf_id,this.modelInfo.sub_segment_name=this.modelInfo.sub_segment_name.replace(this.modelInfo.segment_name,this.modelInfo.segment_full_name),this.modelInfo.segment_name=this.modelInfo.segment_full_name}},methods:{getManfs:function(){var t=this;this.$request.get(this.$interface.GET_MANFS,{token:this.token},function(e){t.manfs=e.data},this.failure)},getDataSource:function(){var t=this;this.$request.get(this.$interface.GET_DATA_SOURCE,{token:this.token,manf_id:this.manf_id},function(e){t.dataSource=e.data[0],t.loadData()},this.failure)},getModelInfo:function(){var t=this;this.$request.get(this.$interface.GET_MODEL_INFO,{token:this.token,submodel_id:this.sub_model_id},function(e){t.modelInfo=e.data[0]},this.failure)},loadData:function(){this.getModelInfo(),this.getMarketConcentration(),this.getSegmentsTrend()},getMarketConcentration:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.loading[0]=!0,this.marketConcentrationClass=e,this.$request.get(this.$interface.GET_MARKET_CONCENTRATION,{token:this.token,ds_id:this.ds_id,sub_model_id:this.sub_model_id,ym_id:this.this_year_month,seg:e,size:12},function(e){t.marketConcentrationData=e.data[0],t.optionC=V(t,t.marketConcentrationData.sub_model_list),t.optionD=W(t,t.marketConcentrationData.sub_model_list),t.loading[0]=!1},this.failure)},getSegmentsTrend:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.loading[1]=!0,this.segmentTrendClass=e,this.$request.get(this.$interface.GET_SEGMENTS_TREND,{token:this.token,ds_id:this.ds_id,sub_model_id:this.sub_model_id,ym_id:this.this_year_month,ymw_id:this.warning_year_month_week,seg:e,size:12},function(e){t.segmentTrendData=e.data[0],t.optionA=t.getOptionA(),1==t.segmentTrendClass&&(t.optionB=t.getOptionB()),2==t.segmentTrendClass&&(t.optionB2=t.getOptionB2()),t.loading[1]=!1},this.failure)},initBase:function(){var t=this.query=this.$route.query;this.ds_id=t.ds_id?t.ds_id:this.ds_id,this.sub_model_id=t.sub_model_id?t.sub_model_id:this.sub_model_id,this.this_year_month=t.ym_id?t.ym_id:this.this_year_month,this.warning_year_month_week=t.ymw_id?t.ymw_id:this.warning_year_month_week},getOptionA:function(){return L(this,this.segmentTrendData.sales_list)},getOptionB:function(){return z(this,this.segmentTrendData)},getOptionB2:function(){return j(this,this.segmentTrendData.sub_segment_list)}},components:{BiTitle:m.a,BiPanel:v.a,BiSubPanel:G,BiCell:p.a,BiChart:B}},L=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=[],s=[],i=[],n=[],r=[],o=[],l=t.last_year,_=t.this_year;if(e)for(var c in e)a.push(e[c].month+"月"),s.push(-1===e[c].tq?"":(e[c].tq/1e4).toFixed(2)),i.push(-1===e[c].bq?"":(e[c].bq/1e4).toFixed(2)),n.push(-1===e[c].tq_per?"":(100*e[c].tq_per).toFixed(2)),r.push(-1===e[c].per?"":(100*e[c].per).toFixed(2)),o.push(-1===e[c].trendY?"":(100*e[c].trendY).toFixed(2));var d=[l+"销量",_+"销量",l+"份额",_+"份额","趋势"],u={};return u[l+"销量"]=!0,u[_+"销量"]=!0,u[l+"份额"]=!0,u[_+"份额"]=!0,u["趋势"]=!0,{tooltip:{trigger:"axis",formatter:function(t,e,a){for(var s=t[0].name,i=0,n=t.length;i<n;i++)"line"===t[i].seriesType?s+="<br/>"+t[i].seriesName+" : "+(t[i].value?t[i].value:"-")+"%":s+="<br/>"+t[i].seriesName+" : "+(t[i].value?t[i].value+"万":"-");return s}},grid:{x:"自适应",width:"自适应",height:"自适应",containLabel:!0},legend:{y:"20",data:d,selected:u},xAxis:[{type:"category",splitLine:{show:!1},axisLine:{show:!1,lineStyle:{color:"#999"}},axisLabel:{show:!0,rotate:0},axisTick:{show:!0,lineStyle:{color:"#999"}},data:a}],yAxis:[{type:"value",name:"份额",position:"right",min:0,axisLabel:{show:!1,formatter:"{value} %"},splitLine:{show:!1},axisTick:{show:!1},axisLine:{show:!1,lineStyle:{color:"#999"}}},{type:"value",name:"销量（万）",min:0,position:"left",axisLabel:{formatter:"{value} "},splitLine:{lineStyle:{color:"#f2f2f2"}},axisTick:{show:!1},axisLine:{show:!1,lineStyle:{color:"#999"}}}],series:[{name:l+"份额",type:"line",roam:!1,yAxisIndex:0,symbolSize:"9",smooth:!0,label:{normal:{show:!1,position:"top",formatter:function(t){return t.value+"%"}}},itemStyle:{normal:{color:"#5ac841",lineStyle:{color:"#5ac841"}}},lineStyle:{normal:{color:"#5ac841",width:4}},data:n},{name:_+"份额",type:"line",yAxisIndex:0,symbolSize:"9",smooth:!0,label:{normal:{show:!1,position:"top",lineStyle:{color:"#82a4a5"},formatter:function(t){return t.value+"%"}}},itemStyle:{normal:{color:"#02b4f4",lineStyle:{color:"#02b4f4"}}},lineStyle:{normal:{color:"#02b4f4",width:3,shadowColor:"rgba(0,0,0,0.4)",shadowBlur:10,shadowOffsetY:10}},data:r},{name:"趋势",type:"line",yAxisIndex:0,symbolSize:"1",label:{normal:{show:!1,position:"top",formatter:function(t){return t.value+"%"}}},itemStyle:{normal:{color:"#fb6b72",lineStyle:{color:"#fb6b72",type:"dotted"}}},lineStyle:{normal:{color:"#fb6b72",width:3,shadowColor:"rgba(0,0,0,0.4)",shadowBlur:10,shadowOffsetY:10}},data:o},{name:l+"销量",type:"bar",yAxisIndex:1,itemStyle:{normal:{color:"#5cc841"}},label:{normal:{show:!1,position:"top",textStyle:{color:"#5cc841"}}},data:s},{name:_+"销量",type:"bar",yAxisIndex:1,itemStyle:{normal:{color:"#00b4f3"}},label:{normal:{show:!1,position:"top"}},data:i}]}},z=function(t){var e=(100*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).per).toFixed(1),a=100-parseInt(e);return{tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{show:!1},series:[{name:"中型轿车占整体市场份额",type:"pie",hoverAnimation:!1,legendHoverLink:!1,radius:["35%","44%"],color:["#e7408e","#19ace0"],center:["50%","50%"],label:{normal:{position:"inner"}},labelLine:{normal:{show:!1}},tooltip:{show:!1},data:[{value:e,name:""},{value:a,name:""}]},{name:"中型轿车占整体市场份额",type:"pie",radius:["42%","60%"],color:["#ff3e99","#00b4f3"],center:["50%","50%"],label:{normal:{formatter:"{b}\n{d}%"}},data:[{value:e,name:"份额"},{value:a,name:"其它"}]}]}},j=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=[];if(e)for(var s in e)a.push({value:e[s].bq_acc,name:e[s].sub_segment_name});return{tooltip:{trigger:"item",formatter:"{b} : {c} ({d}%)"},series:[{type:"pie",radius:"55%",center:["50%","50%"],data:a}]}},V=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=[],s=[],i=[],n=[];if(e)for(var r in e)a.push(e[r].month+"月"),s.push(e[r].sub_model_count),i.push(e[r].avg_bq.toFixed(0)),n.push(e[r].avg_trend.toFixed(0));return{tooltip:{trigger:"axis"},grid:{x:"自适应",width:"自适应",containLabel:!0},legend:{y:"bottom",data:["车型数量","单车平均销量","趋势"],selected:{"车型数量":!0,"单车平均销量":!0,"趋势":!0}},xAxis:[{type:"category",splitLine:{show:!1},axisLine:{show:!1,lineStyle:{color:"#999"}},axisLabel:{show:!0,rotate:0},axisTick:{show:!0,lineStyle:{color:"#999"}},data:a}],yAxis:[{type:"value",name:"",min:0,max:1e4,position:"right",axisLabel:{formatter:"{value}"},splitLine:{show:!1},axisTick:{show:!1},axisLine:{show:!1,lineStyle:{color:"#999"}}},{type:"value",name:"",min:0,max:200,position:"left",splitLine:{show:!0},axisTick:{show:!1},axisLine:{show:!1,lineStyle:{color:"#999"}}}],series:[{name:"单车平均销量",type:"line",symbolSize:"9",smooth:!0,label:{normal:{show:!1,position:"top"}},itemStyle:{normal:{color:"#2e5ebe"}},lineStyle:{normal:{color:"#2e5ebe",width:4}},data:i},{name:"趋势",type:"line",xAxisIndex:0,symbolSize:"1",label:{normal:{show:!1,position:"top"}},itemStyle:{normal:{color:"#fb6b72",lineStyle:{color:"#fb6b72",type:"dotted"}}},lineStyle:{normal:{color:"#fb6b72",width:3,shadowColor:"rgba(0,0,0,0.4)",shadowBlur:10,shadowOffsetY:10}},data:n},{name:"车型数量",type:"bar",yAxisIndex:1,itemStyle:{normal:{color:"#00b4f3"}},label:{normal:{show:!0,position:"top"}},data:s}]}},W=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=[],s=[],i=[],n=[];if(e)for(var r in e)a.push(e[r].month+"月"),s.push(e[r].bq20),i.push((100*e[r].per20).toFixed(1)),n.push((100*e[r].per_trend).toFixed(1));var o=t.marketConcentrationData.ranking_word;return{tooltip:{trigger:"axis",formatter:function(t,e,a){for(var s=t[0].name,i=0,n=t.length;i<n;i++)"line"===t[i].seriesType?s+="<br/>"+t[i].seriesName+" : "+(t[i].value?t[i].value:"-")+"%":s+="<br/>"+t[i].seriesName+" : "+(t[i].value?t[i].value:"-");return s}},grid:{x:"自适应",width:"自适应",containLabel:!0},legend:{y:"bottom",data:[o+"车型销量",o+"车型份额","趋势"]},xAxis:[{type:"category",splitLine:{show:!1},axisLine:{show:!1,lineStyle:{color:"#999"}},axisLabel:{show:!0,rotate:0},axisTick:{show:!0,lineStyle:{color:"#999"}},data:a}],yAxis:[{type:"value",name:"",position:"right",axisLabel:{formatter:"{value} %"},splitLine:{show:!1},axisTick:{show:!1},axisLine:{show:!1,lineStyle:{color:"#999"}}},{type:"value",name:"",min:0,max:1e6,position:"left",splitLine:{show:!0},axisTick:{show:!1},axisLine:{show:!1,lineStyle:{color:"#999"}}}],series:[{name:o+"车型份额",type:"line",symbolSize:"9",smooth:!0,label:{normal:{show:!1,position:"top",formatter:function(t){return t.value+"%"}}},itemStyle:{normal:{color:"#5ac841"}},lineStyle:{normal:{color:"#5ac841",width:4}},data:i},{name:"趋势",type:"line",xAxisIndex:0,symbolSize:"1",label:{normal:{show:!1,position:"top"}},itemStyle:{normal:{color:"#fb6b72",lineStyle:{color:"#fb6b72",type:"dotted"}}},lineStyle:{normal:{color:"#fb6b72",width:3,shadowColor:"rgba(0,0,0,0.4)",shadowBlur:10,shadowOffsetY:10}},data:n},{name:o+"车型销量",type:"bar",yAxisIndex:1,itemStyle:{normal:{color:"#5ac841"}},label:{normal:{show:!0,position:"top"}},data:s}]}},Y={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"content-top-floor"}),t._v(" "),a("div",{staticClass:"content-top",attrs:{id:"content-top"}},[a("div",{staticClass:"pageinfo"},[a("bi-title",{attrs:{columnText:"当前数据："+(t.manf_name?t.manf_name:"厂商")+"-"+(t.ds_name?t.ds_name:"数据源")+"-"+(t.year_month?t.year_month:(new Date).getFullYear()+"/"+(Number((new Date).getMonth())+1))}},[a("img",{attrs:{src:t.modelInfo.submodel_logo?t.image_path+t.modelInfo.submodel_logo:"/static/images/nocar.png",alt:t.modelInfo.manf_name}}),t._v(" "),a("font",[t._v("市场环境-"+t._s(t.modelInfo.sub_model_name))])],1),t._v(" "),a("div",{staticClass:"right-box"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("首页")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/scene"}}},[t._v("销量目标管理场景")]),t._v(" "),a("el-breadcrumb-item",[t._v("市场环境-"+t._s(t.modelInfo.sub_model_name))])],1)],1)],1),t._v(" "),a("bi-tabs",{attrs:{type:"slide"}},[a("bi-tabs-item",{attrs:{targetId:"cont1",selected:"true"}},[t._v("厂商销量目标看板")]),t._v(" "),a("bi-tabs-item",{attrs:{targetId:"cont2",selected:""}},[t._v("车型列表看板")])],1)],1),t._v(" "),a("div",{staticClass:"content-main"},[a("div",{attrs:{id:"cont1"}},[a("bi-panel",{attrs:{"button-width":"200"}},[a("template",{slot:"title"},[a("font",[t._v("细分市场趋势")])],1),t._v(" "),a("template",{slot:"operating"},[a("span",{staticClass:"scene-btn"},[t.modelInfo.sub_segment_count>1?[a("a",{class:{on:1==t.segmentTrendClass},attrs:{href:"javascript:void(0)"},on:{click:function(e){t.getSegmentsTrend(1)}}},[t._v(t._s(t.modelInfo.segment_name))]),t._v(" "),a("a",{class:{on:2==t.segmentTrendClass},attrs:{href:"javascript:void(0)"},on:{click:function(e){t.getSegmentsTrend(2)}}},[t._v(t._s(t.modelInfo.sub_segment_name))])]:t._e()],2)]),t._v(" "),a("bi-sub-panel",{staticStyle:{"border-right":"1px solid #eeeeee"},attrs:{width:"70%"}},[a("template",{slot:"title"},[a("font",[a("em",{staticClass:"font-blue-c"},[t._v(t._s(1==t.segmentTrendClass?t.modelInfo.segment_name:t.modelInfo.sub_segment_name))]),t._v(" 短期份额趋势")])],1),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading[1],expression:"loading[1]"}],staticClass:"main-wraper"},[a("p",{staticClass:"outline"},[a("font",[t._v("短期份额趋势判断：")]),t._v(" "),a("em",{style:{backgroundColor:t.color_group[t.segmentTrendData.color]}},[t._v(t._s(t.segmentTrendData.trend))]),t._v(" "),a("el-tooltip",{attrs:{placement:"bottom",effect:"light"}},[a("div",{attrs:{slot:"content"},slot:"content"},[t._v("\n                    1、ways根据乘联会发布的目标，按"),a("br"),t._v("\n                    一定算法进行折算；"),a("br"),t._v("\n                    2、若客户能够提供准确目标数据，"),a("br"),t._v("\n                    分析价值将会更高。\n                  ")]),t._v(" "),a("i",[t._v("?")])])],1),t._v(" "),a("div",[a("span",{staticClass:"databox"},[a("bi-cell",{attrs:{data:t.segmentTrendData,field1:"per",field2:"per_yoy",special:!0}},[a("em",[t._v(t._s(t.this_month)+"月 实际份额/同比变化")])])],1),t._v(" "),a("span",{staticClass:"databox"},[a("bi-cell",{attrs:{data:t.segmentTrendData,field1:"acc_per",field2:"acc_per_yoy",special:!0}},[a("em",[t._v("1~"+t._s(t.this_month)+"月 累计实际份额/同比变化")])])],1),t._v(" "),a("span",{staticClass:"databox"},[a("bi-cell",{attrs:{data:t.segmentTrendData,field1:"xq",field2:"xq_yoy",cls:"font-red"}},[a("em",[t._v(t._s(t.warning_month)+"月销量预警 预测销量/同比增量")])])],1),t._v(" "),a("span",{staticClass:"databox"},[a("bi-cell",{attrs:{data:t.segmentTrendData,field1:"xq_per",field2:"xq_per_yoy",special:!0,cls:"font-red"}},[a("em",[t._v(t._s(t.warning_month)+"月份额预警预测份额/同比变化")])])],1)]),t._v(" "),a("bi-chart",{staticStyle:{height:"330px"},attrs:{id:"main_a",option:t.optionA}})],1)],2),t._v(" "),a("bi-sub-panel",{attrs:{width:"30%"}},[a("template",{slot:"title"},[a("font",[a("em",{staticClass:"font-blue-c"},[t._v(t._s(1==t.segmentTrendClass?t.modelInfo.segment_name:t.modelInfo.sub_segment_name))]),t._v(" "+t._s(1==t.segmentTrendClass?"占整体":"占细分")+"市场份额\n              ")])],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1==t.segmentTrendClass,expression:"segmentTrendClass == 1"},{name:"loading",rawName:"v-loading",value:t.loading[1],expression:"loading[1]"}],staticClass:"trend-right main-wraper"},[a("h6",[t._v(t._s(t.this_year)+"年1~ "+t._s(t.this_month)+"月累计份额")]),t._v(" "),a("span",{staticClass:"databox"},[a("bi-cell",{attrs:{data:t.segmentTrendData,field1:"acc_per",field2:"acc_per_yoy",special:!0,cls:"font-pink"}},[a("font",[t._v("累计份额/同比变化")])],1)],1),t._v(" "),a("bi-chart",{attrs:{id:"main_b",option:t.optionB,styles:"width:300px"}})],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:2==t.segmentTrendClass,expression:"segmentTrendClass == 2"},{name:"loading",rawName:"v-loading",value:t.loading[1],expression:"loading[1]"}],staticClass:"trend-right"},[a("bi-chart",{attrs:{id:"main_b2",option:t.optionB2,styles:"width:300px"}})],1)],2)],2)],1),t._v(" "),a("div",{attrs:{id:"cont2"}},[a("bi-panel",{attrs:{"button-width":"200"}},[a("template",{slot:"title"},[a("font",[t._v("市场集中度")])],1),t._v(" "),a("template",{slot:"operating"},[a("span",{staticClass:"scene-btn"},[t.modelInfo.sub_segment_count>1?[a("a",{class:{on:1==t.marketConcentrationClass},attrs:{href:"javascript:void(0)"},on:{click:function(e){t.getMarketConcentration(1)}}},[t._v(t._s(t.modelInfo.segment_name))]),t._v(" "),a("a",{class:{on:2==t.marketConcentrationClass},attrs:{href:"javascript:void(0)"},on:{click:function(e){t.getMarketConcentration(2)}}},[t._v(t._s(t.modelInfo.sub_segment_name))])]:t._e()],2)]),t._v(" "),a("bi-sub-panel",{staticStyle:{"border-right":"1px solid #eee"},attrs:{width:"50%"}},[a("template",{slot:"title"},[a("font",[t._v("竞争环境")])],1),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading[0],expression:"loading[0]"}],staticClass:"focus-left main-wraper"},[a("p",{staticClass:"outline"},[a("font",[t._v(t._s(1==t.marketConcentrationClass?t.modelInfo.segment_name:t.modelInfo.sub_segment_name)+" 竞争环境：")]),t._v(" "),t.marketConcentrationData.new_count>0?a("em",{style:{backgroundColor:t.color_group[t.marketConcentrationData.environment_color]}},[t._v(t._s(t.marketConcentrationData.environment_word))]):a("em",{style:{backgroundColor:t.color_group.red}},[t._v("下降")]),t._v(" "),a("el-tooltip",{attrs:{placement:"bottom",effect:"light"}},[a("div",{attrs:{slot:"content"},slot:"content"},[t._v("\n                    1、ways根据乘联会发布的目标，按"),a("br"),t._v("\n                    一定算法进行折算；"),a("br"),t._v("\n                    2、若客户能够提供准确目标数据，"),a("br"),t._v("\n                    分析价值将会更高。\n                  ")]),t._v(" "),a("i",[t._v("?")])])],1),t._v(" "),a("div",[a("span",{staticClass:"databox"},[a("bi-cell",{attrs:{data:t.marketConcentrationData,field1:"sub_model_count",field2:"new_count",cls:"font-red"}},[a("em",[t._v(t._s(t.this_month)+"月 车型数量/新增车")])])],1),t._v(" "),a("span",{staticClass:"databox"},[a("bi-cell",{attrs:{data:t.marketConcentrationData,field1:"avg_bq",field2:"avg_bq_mom",cls:"font-red"}},[a("em",[t._v(t._s(t.this_month)+"月 单车平均销量/环比")])])],1)]),t._v(" "),a("bi-chart",{attrs:{id:"main_c",option:t.optionC}})],1)],2),t._v(" "),a("bi-sub-panel",{attrs:{width:"50%"}},[a("template",{slot:"title"},[a("font",[t._v(t._s(t.marketConcentrationData.ranking_word)+"市场")])],1),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading[0],expression:"loading[0]"}],staticClass:"focus-right main-wraper"},[a("p",{staticClass:"outline"},[a("font",[t._v(t._s(t.modelInfo.sub_model_name)+" 所处 "+t._s(t.marketConcentrationData.ranking_word)+"市场 ：")]),t._v(" "),a("em",{style:{backgroundColor:t.color_group[t.marketConcentrationData.color]}},[t._v(t._s(t.marketConcentrationData.market_word))]),t._v(" "),a("el-tooltip",{attrs:{placement:"bottom",effect:"light"}},[a("div",{attrs:{slot:"content"},slot:"content"},[t._v("\n                    1、ways根据乘联会发布的目标，按"),a("br"),t._v("\n                    一定算法进行折算；"),a("br"),t._v("\n                    2、若客户能够提供准确目标数据，"),a("br"),t._v("\n                    分析价值将会更高。\n                  ")]),t._v(" "),a("i",[t._v("?")])])],1),t._v(" "),a("div",[a("span",{staticClass:"databox"},[a("bi-cell",{attrs:{data:t.marketConcentrationData,field1:"bq20",field2:"bq20_mom",cls:"font-red"}},[a("em",[t._v(t._s(t.this_month)+"月 "+t._s(t.marketConcentrationData.ranking_word)+" 车型销量/环比增速")])])],1),t._v(" "),a("span",{staticClass:"databox"},[a("bi-cell",{attrs:{data:t.marketConcentrationData,field1:"per20",field2:"per20_mom",special:!0,cls:"font-red"}},[a("em",[t._v(t._s(t.this_month)+"月 "+t._s(t.marketConcentrationData.ranking_word)+" 车型份额/环比变化")])])],1),t._v(" "),a("span",{staticClass:"databox"},[a("bi-cell",{attrs:{data:t.marketConcentrationData,field1:"ranking",field2:"ranking_per",cls:"font-red"}},[a("em",[t._v(t._s(t.this_month)+"月 "+t._s(t.modelInfo.sub_model_name)+" 排名/百分位")])])],1)]),t._v(" "),a("bi-chart",{attrs:{id:"main_d",option:t.optionD}})],1)],2)],2)],1)])])},staticRenderFns:[]};var U=a("Z0/y")(q,Y,!1,function(t){a("wn2B")},"data-v-958c1a3c",null).exports,H={name:"warning",mixins:[g.a],data:function(){return{ds_group:{retail:"零售量"},pageSize:15,total:0,mf_overview_page:1,seg_overview_page:0,baseInfo:{},seg_overview:[],seg_overview_all:[],mf_overview:[],warning_trend:{},optionA:{},marketConcentrationData:{},segShow:[],segExpand:[],mfShow:[],mfExpand:[]}},mounted:function(){var t=this;this.getToken(function(){t.getDataSource()})},watch:{seg_overview_all:function(){this.getMoreSegment()}},methods:{changeDataSource:function(t){this.ds_id=t,this.loadData()},triggerStatus:function(t,e){var a=this[t+"Show"],s=this[t+"Expand"];a&&s&&(a.push(""),a.pop(),a[e]=!a[e],s[e]=!s[e])},getMoreSegment:function(){if(this.seg_overview_page*this.pageSize<this.seg_overview_all.length){this.seg_overview_page+=1;var t=this.seg_overview_page*this.pageSize;for(var e in this.seg_overview=this.seg_overview_all.slice(0,t),this.seg_overview_all.length,this.seg_overview)this.segShow[e]=!1,this.segExpand[e]=!1}},getDataSource:function(){var t=this;this.$request.get(this.$interface.GET_DATA_SOURCE,{token:this.token},function(e){t.dataSource=e.data[0],t.loadData()},this.failure)},getSegOverview:function(){var t=this;this.$request.get(this.$interface.GET_SEG_OVERVIEW,{token:this.token,ds_id:this.ds_id,ym:this.this_year_month,ymw:this.warning_year_month_week},function(e){t.seg_overview_all=e.data||[]},this.failure)},getMfOverview:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.$request.get(this.$interface.GET_MF_OVERVIEW,{token:this.token,ds_id:this.ds_id,ym:this.this_year_month,ymw:this.warning_year_month_week,page:e,rows:this.pageSize},function(e){t.mf_overview=e.data[0].rows||[],t.total=e.data[0].records||0},this.failure)},getWarningTrend:function(){var t=this;this.$request.get(this.$interface.GET_WARNING_TREND,{token:this.token,ds_id:this.ds_id,ym:this.this_year_month,ymw:this.warning_year_month_week,rows:Number(this.warning_month)+12},function(e){t.warning_trend=e.data[0]||{},t.optionA=t.getOptionA()},this.failure)},loadData:function(){this.initParam(),this.getSegOverview(),this.getMfOverview(),this.getWarningTrend()},initParam:function(){var t=this.data_source_map();if(!t||0==t.size)return!1;this.ds_id&&""==this.this_year_month&&(this.this_year_month=this.end_year_month+""),this.this_year_month>this.end_year_month&&this.this_year_month<this.begin_year_month&&(this.this_year_month=this.end_year_month+""),this.warning_year_month_week=this.warning_end_year_month_week+""},getOptionA:function(){return function(t){var e=[],a=[],s=[{key:"sales",text:"销量",type:"bar",color:"#d1e0e7",labelColor:"#92a8b5",index:1,position:"top",shadowColor:"",cb:function(t){return(t/1e3).toFixed(1)}},{key:"mom",text:"销量环比",type:"line",color:"#01b3f1",labelColor:"#01b3f1",position:"top",shadowColor:"rgba(0, 180, 243, 0.46)",index:0,cb:function(t){return(100*t).toFixed(1)}},{key:"yoy",text:"销量同比",type:"line",color:"#5ac843",labelColor:"#5ac843",position:"bottom",shadowColor:"rgba(145, 187, 61, 0.7)",index:0,cb:function(t){return(100*t).toFixed(1)}}],i=[],n=[],r=t.sales_list[0];for(var o in s){var l=s[o].key,_=s[o].text,c=s[o].type,d=s[o].color,u=s[o].index,h=s[o].cb,m=s[o].position,v=s[o].labelColor,p=s[o].shadowColor;if(r.hasOwnProperty(l)){var f=r[l];e.push(_);var g=[],b=[];for(var y in f){var w=f[y];y<f.length-1?(g.push(h(w)),y==f.length-2&&"line"==c?b.push(h(w)):b.push("")):b.push(h(w))}i.push({name:_,type:c,yAxisIndex:u,symbolSize:14,smooth:!0,barWidth:30,label:{normal:{show:!0,position:m,textStyle:{color:v},formatter:function(t){if("line"==t.componentSubType)return t.value+"%"}}},itemStyle:{normal:{color:d,lineStyle:{color:d,width:4,shadowColor:p,shadowBlur:15,shadowOffsetX:3,shadowOffsetY:3}}},data:g}),n.push({name:"预警",type:c,yAxisIndex:u,symbolSize:14,smooth:!0,barWidth:30,barGap:"line"==c?"":"-100%",label:{normal:{show:!0,position:"top",formatter:function(t){if("line"==t.componentSubType)return t.value+"%"}}},itemStyle:{normal:{color:"#fb6b72",lineStyle:{color:"#fb6b72",type:"dotted",width:4,shadowColor:p,shadowBlur:15,shadowOffsetX:3,shadowOffsetY:3}}},data:b})}}for(var k in e.push("预警"),n.map(function(t){i.push(t)}),t.month_list){var f=t.month_list[k];1==f.month?a.push(f.month+"月\n"+f.year+"年"):a.push(f.month+"月")}return{backgroundColor:"#fff",tooltip:{trigger:"axis",formatter:function(t){var e=t[0],a=t[1],s=t[2];return"预警"==e.seriesName?e.name+" | "+e.seriesName+"<br>销量: "+(isNaN(e.value)?"0":e.value)+"千辆<br>销量环比: "+(isNaN(a.value)?"0":a.value)+"%<br>销量同比: "+(isNaN(s.value)?"0":s.value)+"%":e.name+"<br>"+e.seriesName+": "+(isNaN(e.value)?"":e.value)+"千辆<br>"+a.seriesName+": "+(isNaN(a.value)?"":a.value)+"%<br>"+s.seriesName+": "+(isNaN(s.value)?"":s.value)+"%"}},legend:{y:"0",data:e},grid:{x:"自适应",y:30,y2:50,width:"自适应",height:"自适应",containLabel:!0},xAxis:{axisLine:{show:!1,lineStyle:{color:"#999"}},splitLine:{show:!1},axisLabel:{show:!0,rotate:0},axisTick:{show:!1},data:a},yAxis:[{type:"value",name:"份额",min:"-60",position:"right",axisLabel:{show:!0,formatter:"{value} %"},splitLine:{show:!1},axisTick:{show:!1},axisLine:{show:!1,lineStyle:{color:"#999"}}},{type:"value",name:"   销量（千辆）",min:0,max:7e3,position:"left",axisLabel:{formatter:"{value} "},splitLine:{lineStyle:{color:"#f2f2f2"}},axisTick:{show:!1},axisLine:{show:!1,lineStyle:{color:"#999"}}}],dataZoom:[{type:"inside",start:50,end:100,zoomLock:!0},{show:!0,type:"slider",y:"90%",start:50,end:100}],series:i}}(this.warning_trend)}},components:{BiTitle:m.a,BiPanel:v.a,BiSubPanel:G,BiCell:p.a,BiProgress:f.a,BiChart:B}};var Z={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"content-top-floor",staticStyle:{height:"51px"}}),t._v(" "),a("div",{staticClass:"content-top",attrs:{id:"content-top"}},[a("div",{staticClass:"pageinfo"},[a("bi-title",{attrs:{columnTitle:"周度销量预警",columnIcon:"icon-jisuanqixian",columnText:"专业的汽车营销决策工具"}}),t._v(" "),a("div",{staticClass:"right-box"},[t._v("\n        数据源：\n        "),a("el-dropdown",{staticStyle:{float:"right",height:"30px"},on:{command:t.changeDataSource}},[a("span",{staticClass:"bi-button",staticStyle:{width:"115px"}},[t._v(t._s(t.ds_name)),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"4"}},[t._v("上险数")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"5"}},[t._v("终端零售量")])],1)],1)],1)],1)]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"content-main"},[a("bi-panel",[a("template",{slot:"title"},[a("font",[t._v("整体市场 - ")]),a("cite",{staticClass:"font-red"},[t._v(t._s(t.warning_month_week))])],1),t._v(" "),a("div",{staticClass:"all-market"},[a("div",{staticClass:"top"},[a("span",{staticClass:"databox"},[a("bi-cell",{attrs:{data:t.warning_trend,field1:"sales",cls:"font-blue"}},[a("em",[t._v(t._s(t.this_month)+"月零售量")])])],1),t._v(" "),a("span",{staticClass:"databox"},[a("bi-cell",{attrs:{data:t.warning_trend,field1:"mom",cls:"font-red",special:!0}},[a("em",[t._v(t._s(t.warning_month)+"月预测环比")])])],1),t._v(" "),a("span",{staticClass:"databox"},[a("bi-cell",{attrs:{data:t.warning_trend,field1:"warning",cls:"font-red"}},[a("em",[t._v(t._s(t.warning_month)+"月预判值")])])],1),t._v(" "),a("span",{staticClass:"databox"},[a("bi-cell",{attrs:{data:t.warning_trend,field1:"yoy",cls:"font-red",special:!0}},[a("em",[t._v(t._s(t.warning_month)+"月预测同比")])])],1)]),t._v(" "),a("bi-chart",{staticStyle:{height:"450px"},attrs:{id:"chart-va",option:t.optionA}})],1)],2),t._v(" "),a("bi-panel",[a("template",{slot:"title"},[a("font",[t._v("细分市场 - ")]),a("cite",{staticClass:"font-red"},[t._v(t._s(t.warning_month_week))])],1),t._v(" "),a("div",{staticClass:"sub-market"},[a("table",[a("thead",[a("tr",[a("th",{attrs:{width:"15%"}},[t._v("乘用车")]),t._v(" "),a("th",{attrs:{width:"15%"}},[t._v(t._s(t.this_month)+"月零售量")]),t._v(" "),a("th",{attrs:{width:"20%"}},[t._v(t._s(t.this_month)+"月市场份额")]),t._v(" "),a("th",{attrs:{width:"15%"}},[t._v(t._s(t.warning_month)+"月预测环比")]),t._v(" "),a("th",{attrs:{width:"15%"}},[t._v(t._s(t.warning_month)+"月预判值")]),t._v(" "),a("th",{attrs:{width:"15%"}},[t._v(t._s(t.warning_month)+"月预测同比")])])]),t._v(" "),t._l(t.seg_overview,function(e,s){return a("tbody",[a("tr",[a("td",[e.children?[a("i",{class:["iconfont",t.segExpand[s]?"icon-move":"icon-add2"],on:{click:function(e){t.triggerStatus("seg",s)}}}),t._v(" "),a("a",{attrs:{target:"_blank",href:"#/tools/marketdetail?segment_id="+e.id}},[t._v(t._s(e.name))])]:[0==s?a("font",{staticClass:"font-red",attrs:{target:"_blank",href:"javascript:void(0)"}},[t._v(t._s(e.name))]):a("a",{attrs:{target:"_blank",href:"/tools/marketdetail?segment_id="+e.id}},[t._v(t._s(e.name))])]],2),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e,field1:"sales",cls:"warning-text"}})],1),t._v(" "),a("td",[a("div",{staticClass:"progress-box"},[a("bi-progress",{attrs:{percentage:e.per,color:t.color_group[e.color],height:"20"}})],1)]),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e,field2:"mom"}})],1),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e,field1:"warning",cls:"font-red warning-text"}})],1),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e,field2:"yoy"}})],1)]),t._v(" "),t._l(e.children,function(i,n){return e.children&&e.children.length?a("tr",{directives:[{name:"show",rawName:"v-show",value:t.segShow[s],expression:"segShow[key]"}],staticClass:"sub-content"},[a("td",[t._v(t._s(i.name))]),t._v(" "),a("td",[a("bi-cell",{attrs:{data:i,field1:"sales",cls:"warning-text"}})],1),t._v(" "),a("td",[a("div",{staticClass:"progress-box"},[a("bi-progress",{attrs:{percentage:i.per,color:t.color_group[i.color],height:"20"}})],1)]),t._v(" "),a("td",[a("bi-cell",{attrs:{data:i,field2:"mom"}})],1),t._v(" "),a("td",[a("bi-cell",{attrs:{data:i,field1:"warning",cls:"font-red warning-text"}})],1),t._v(" "),a("td",[a("bi-cell",{attrs:{data:i,field2:"yoy"}})],1)]):t._e()})],2)})],2)])],2),t._v(" "),a("bi-panel",[a("template",{slot:"title"},[a("font",[t._v("厂商概况 - ")]),a("cite",{staticClass:"font-red"},[t._v(t._s(t.warning_month_week))])],1),t._v(" "),a("div",{staticClass:"manuf"},[a("table",[a("tr",[a("th",{attrs:{width:"15%"}},[t._v("厂商")]),t._v(" "),a("th",{attrs:{width:"15%"}},[t._v(t._s(t.this_month)+"月零售量")]),t._v(" "),a("th",{attrs:{width:"20%"}},[t._v(t._s(t.this_month)+"月市场份额")]),t._v(" "),a("th",{attrs:{width:"15%"}},[t._v(t._s(t.warning_month)+"月预测环比")]),t._v(" "),a("th",{attrs:{width:"15%"}},[t._v(t._s(t.warning_month)+"月预判值")]),t._v(" "),a("th",[t._v("\n              预警\n              "),a("el-tooltip",{attrs:{placement:"bottom",effect:"light"}},[a("div",{staticClass:"warning-explain",attrs:{slot:"content"},slot:"content"},[a("h2",[t._v("预警说明")]),t._v(" "),a("table",[a("tr",[a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(145, 187, 61)"}})]),t._v(" "),a("td",{attrs:{width:"53.33%"}},[a("p",[t._v("半月环比＞=市场均值")]),t._v(" "),a("p",[t._v("预测销量＞=过去3个月销量均值")])]),t._v(" "),a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(145, 187, 61)"}},[t._v("A")])])]),t._v(" "),a("tr",[a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(240, 173, 78)"}})]),t._v(" "),a("td",{attrs:{width:"53.33%"}},[a("p",[t._v("半月环比＞=市场均值")]),t._v(" "),a("p",[t._v("预测销量＜过去3个月销量均值")])]),t._v(" "),a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(240, 173, 78)"}},[t._v("B")])])]),t._v(" "),a("tr",[a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(252, 158, 107)"}})]),t._v(" "),a("td",{attrs:{width:"53.33%"}},[a("p",[t._v("半月环比＜市场均值")]),t._v(" "),a("p",[t._v("预测销量＞=过去3个月销量均值")])]),t._v(" "),a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(252, 158, 107)"}},[t._v("C")])])]),t._v(" "),a("tr",[a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(251, 107, 114)"}})]),t._v(" "),a("td",{attrs:{width:"53.33%"}},[a("p",[t._v("半月环比＜市场均值")]),t._v(" "),a("p",[t._v("预测销量＜过去3个月销量均值")])]),t._v(" "),a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(251, 107, 114)"}},[t._v("D")])])])])]),t._v(" "),a("i",{staticClass:"tootip-helf"},[t._v("?")])])],1)]),t._v(" "),t._l(t.mf_overview,function(e,s){return a("tbody",{key:s},[a("tr",[a("td",[e.children?[a("i",{class:["iconfont",t.mfExpand[s]?"icon-move":"icon-add2"],on:{click:function(e){t.triggerStatus("mf",s)}}}),t._v(" "),a("a",{attrs:{target:"_blank",href:"#/tools/munfdetail?manf_id="+e.id}},[t._v(t._s(e.name))])]:[0==s?a("font",{staticClass:"font-red",attrs:{target:"_blank",href:"javascript:void(0)"}},[t._v(t._s(e.name))]):a("a",{attrs:{target:"_blank",href:"/tools/munfdetail?manf_id="+e.id}},[t._v(t._s(e.name))])]],2),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e,field1:"sales",cls:"warning-text"}})],1),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e,field2:"mom"}})],1),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e,field2:"yoy"}})],1),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e,field1:"warning",cls:"font-red warning-text"}})],1),t._v(" "),a("td",[a("span",0==s?[t._v("-")]:{staticClass:"circle",style:{background:t.color_group[e.color]}})])]),t._v(" "),t._l(e.children,function(i,n){return e.children&&e.children.length?a("tr",{directives:[{name:"show",rawName:"v-show",value:1==t.mfShow[s],expression:"mfShow[key]==true"}],key:n,staticClass:"sub-content"},[a("td",[t._v(t._s(i.name))]),t._v(" "),a("td",[a("bi-cell",{attrs:{data:i,field1:"sales",cls:"warning-text"}})],1),t._v(" "),a("td",[a("bi-cell",{attrs:{data:i,field2:"mom"}})],1),t._v(" "),a("td",[a("bi-cell",{attrs:{data:i,field2:"yoy"}})],1),t._v(" "),a("td",[a("bi-cell",{attrs:{data:i,field1:"warning",cls:"font-red warning-text"}})],1),t._v(" "),a("td",[a("span",{staticClass:"circle",style:{background:t.color_group[i.color]}})])]):t._e()})],2)})],2),t._v(" "),a("div",{staticClass:"pagination-box"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","prev-text":"上一页","next-text":"下一页","page-size":t.pageSize,total:t.total},on:{"current-change":t.getMfOverview}})],1)])],2)],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"nav"},[e("a",{staticClass:"on",attrs:{href:"#/tools"}},[this._v("销量预警")]),this._v(" "),e("a",{attrs:{href:"#/tools/submarket"}},[this._v("细分市场")]),this._v(" "),e("a",{attrs:{href:"#/tools/munfsummary"}},[this._v("厂商概况")]),this._v(" "),e("a",{attrs:{href:"#/tools/modelview"}},[this._v("车型概览")])])}]};var K=a("Z0/y")(H,Z,!1,function(t){a("hNmf")},"data-v-c77e0d02",null).exports,X={name:"submarket",mixins:[g.a],data:function(){return{pageSize:10,seg_overview_page:0,baseInfo:{},segments:[],seg_overview:[],seg_overview_all:[],showMore:!0,segShow:[],segExpand:[]}},mounted:function(){var t=this;this.getToken(function(){t.getDataSource()})},methods:{changeDataSource:function(t){this.ds_id=t,this.loadData()},getDataSource:function(){var t=this;this.$request.get(this.$interface.GET_DATA_SOURCE,{token:this.token},function(e){t.dataSource=e.data[0],t.loadData()},this.failure)},triggerStatus:function(t,e){var a=this[t+"Show"],s=this[t+"Expand"];a&&s&&(a.push(""),a.pop(),a[e]=!a[e],s[e]=!s[e])},getSegment:function(){var t=this;this.$request.get(this.$interface.GET_SEG,{token:this.token},function(e){var a=e.data[0]||{},s={};["CAR","SUV","MPV","跑车"].map(function(t){s[t]=a[t]?a[t]:[]}),t.segments=s},this.failure)},getMoreSegment:function(){if(this.seg_overview_page*this.pageSize<this.seg_overview_all.length){this.seg_overview_page+=1;var t=this.seg_overview_page*this.pageSize;this.seg_overview=this.seg_overview_all.slice(0,t),t>=this.seg_overview_all.length&&(this.showMore=!1)}},getSegOverview:function(){var t=this;this.$request.get(this.$interface.GET_SEG_OVERVIEW,{token:this.token,ds_id:this.ds_id,ym:this.this_year_month,ymw:this.warning_year_month_week},function(e){t.seg_overview_all=e.data||[],t.getMoreSegment()},this.failure)},loadData:function(){this.initParam(),this.getSegment(),this.getSegOverview()},initParam:function(){var t=this.data_source_map();if(!t||0==t.size)return!1;this.ds_id&&""==this.this_year_month&&(this.this_year_month=this.end_year_month+""),this.this_year_month>this.end_year_month&&this.this_year_month<this.begin_year_month&&(this.this_year_month=this.end_year_month+""),this.warning_year_month_week=this.warning_end_year_month_week+""}},components:{BiTitle:m.a,BiPanel:v.a,BiSubPanel:G,BiCell:p.a,BiProgress:f.a}},J={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"content-top-floor",staticStyle:{height:"51px"}}),t._v(" "),a("div",{staticClass:"content-top",attrs:{id:"content-top"}},[a("div",{staticClass:"pageinfo"},[a("bi-title",{attrs:{columnTitle:"周度销量预警",columnIcon:"icon-jisuanqixian",columnText:"专业的汽车营销决策工具"}}),t._v(" "),a("div",{staticClass:"right-box"},[t._v("\n        数据源：\n        "),a("el-dropdown",{staticStyle:{float:"right",height:"30px"},on:{command:t.changeDataSource}},[a("span",{staticClass:"bi-button",staticStyle:{width:"115px"}},[t._v(t._s(t.ds_name)),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"4"}},[t._v("上险数")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"5"}},[t._v("终端零售量")])],1)],1)],1)],1)]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"content-main"},[a("bi-panel",[a("template",{slot:"title"},[a("font",[t._v("快速通道")])],1),t._v(" "),a("div",{staticClass:"fast-aisle"},t._l(t.segments,function(e,s){return a("dl",[a("dt",[t._v(t._s(s)+"：")]),t._v(" "),a("dd",t._l(e,function(e,s){return a("a",{attrs:{href:"#/tools/marketdetail?segment_id="+e.segment_id,target:"_blank"}},[t._v(t._s(e.segment_name))])}))])}))],2),t._v(" "),a("bi-panel",[a("template",{slot:"title"},[a("font",[t._v("细分市场 - ")]),a("cite",{staticClass:"font-red"},[t._v(t._s(t.warning_month_week))])],1),t._v(" "),a("div",{staticClass:"sub-market"},[a("table",[a("thead",[a("tr",[a("th",{attrs:{width:"15%"}},[t._v("乘用车")]),t._v(" "),a("th",{attrs:{width:"15%"}},[t._v(t._s(t.this_month)+"月零售量")]),t._v(" "),a("th",{attrs:{width:"20%"}},[t._v(t._s(t.this_month)+"月市场份额")]),t._v(" "),a("th",{attrs:{width:"15%"}},[t._v(t._s(t.warning_month)+"月预测环比")]),t._v(" "),a("th",{attrs:{width:"15%"}},[t._v(t._s(t.warning_month)+"月预判值")]),t._v(" "),a("th",[t._v(t._s(t.warning_month)+"月预测同比")])])]),t._v(" "),t._l(t.seg_overview,function(e,s){return a("tbody",[a("tr",[a("td",[e.children?[a("i",{class:["iconfont",t.segExpand[s]?"icon-move":"icon-add2"],on:{click:function(e){t.triggerStatus("seg",s)}}}),t._v(" "),a("a",{attrs:{target:"_blank",href:"#/tools/marketdetail?segment_id="+e.id}},[t._v(t._s(e.name))])]:[0==s?a("font",{staticClass:"font-red",attrs:{target:"_blank",href:"javascript:void(0)"}},[t._v(t._s(e.name))]):a("a",{attrs:{target:"_blank",href:"/tools/marketdetail?segment_id="+e.id}},[t._v(t._s(e.name))])]],2),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e,field1:"sales",cls:"warning-text"}})],1),t._v(" "),a("td",[a("div",{staticClass:"progress-box"},[a("bi-progress",{attrs:{percentage:e.per,color:t.color_group[e.color],height:"20"}})],1)]),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e,field2:"mom"}})],1),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e,field1:"warning",cls:"font-red warning-text"}})],1),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e,field2:"yoy"}})],1)]),t._v(" "),t._l(e.children,function(i,n){return e.children&&e.children.length?a("tr",{directives:[{name:"show",rawName:"v-show",value:t.segShow[s],expression:"segShow[key]"}],staticClass:"sub-content"},[a("td",[t._v(t._s(i.name))]),t._v(" "),a("td",[a("bi-cell",{attrs:{data:i,field1:"sales",cls:"warning-text"}})],1),t._v(" "),a("td",[a("div",{staticClass:"progress-box"},[a("bi-progress",{attrs:{percentage:i.per,color:t.color_group[i.color],height:"20"}})],1)]),t._v(" "),a("td",[a("bi-cell",{attrs:{data:i,field2:"mom"}})],1),t._v(" "),a("td",[a("bi-cell",{attrs:{data:i,field1:"warning",cls:"font-red warning-text"}})],1),t._v(" "),a("td",[a("bi-cell",{attrs:{data:i,field2:"yoy"}})],1)]):t._e()})],2)})],2),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showMore,expression:"showMore"}],staticClass:"load-more"},[a("span",{on:{click:t.getMoreSegment}},[t._v("加载更多细分市场 "),a("i",{staticClass:"iconfont icon-unfold"})])])])],2)],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"nav"},[e("a",{attrs:{href:"#/tools"}},[this._v("销量预警")]),this._v(" "),e("a",{staticClass:"on",attrs:{href:"#/tools/submarket"}},[this._v("细分市场")]),this._v(" "),e("a",{attrs:{href:"#/tools/munfsummary"}},[this._v("厂商概况")]),this._v(" "),e("a",{attrs:{href:"#/tools/modelview"}},[this._v("车型概览")])])}]};var Q=a("Z0/y")(X,J,!1,function(t){a("eLvL")},"data-v-06d317be",null).exports,tt={name:"manf",mixins:[g.a],data:function(){return{manfs_static:{"自主":[{manf_id:65,manf_name:"吉利汽车"},{manf_id:25,manf_name:"长安汽车"},{manf_id:27,manf_name:"长城汽车"},{manf_id:47,manf_name:"广汽乘用车"},{manf_id:112,manf_name:"一汽轿车"}],"德系":[{manf_id:89,manf_name:"上汽大众"},{manf_id:109,manf_name:"一汽-大众"}],"日系":[{manf_id:30,manf_name:"东风本田"},{manf_id:34,manf_name:"东风日产"},{manf_id:46,manf_name:"广汽本田"},{manf_id:48,manf_name:"广汽丰田"},{manf_id:110,manf_name:"一汽丰田"}],"美系":[{manf_id:93,manf_name:"上汽通用"},{manf_id:100,manf_name:"上汽通用五菱"},{manf_id:22,manf_name:"长安福特"}],"韩系":[{manf_id:10,manf_name:"北京现代"},{manf_id:36,manf_name:"东风悦达起亚"}],"法系":[{manf_id:98,manf_name:"神龙汽车"}]},letter_selected:"A",pageSize:15,total:0,mf_overview_page:1,seg_overview_page:0,mf_overview:[],mfShow:[],mfExpand:[],dialogFormVisible:!1}},computed:{manfsGroupByLetter:function(){var t={};for(var e in this.manfs)void 0==this.manfs[e].first_letter&&(this.manfs[e].first_letter=""),void 0==t[this.manfs[e].first_letter]&&(t[this.manfs[e].first_letter]=[]),t[this.manfs[e].first_letter].push(this.manfs[e]);return t}},mounted:function(){var t=this;this.getToken(function(){t.getManfs(),t.getDataSource()})},methods:{changeDataSource:function(t){this.ds_id=t,this.loadData()},triggerStatus:function(t,e){var a=this[t+"Show"],s=this[t+"Expand"];a&&s&&(a.push(""),a.pop(),a[e]=!a[e],s[e]=!s[e])},selectLetter:function(t){this.letter_selected=t;var e=document.querySelector('[data-key="'+t+'"]'),a=document.querySelector("#manfsBox"),s=e.offsetTop-a.offsetTop-10;setTimeout(function(){A()("#manfsBox").animate({scrollTop:s},300,"swing",function(){})},10)},getManfs:function(){var t=this;this.$request.get(this.$interface.GET_MANFS,{token:this.token},function(e){t.manfs=e.data},this.failure)},getDataSource:function(){var t=this;this.$request.get(this.$interface.GET_DATA_SOURCE,{token:this.token},function(e){t.dataSource=e.data[0],t.loadData()},this.failure)},getMfOverview:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.$request.get(this.$interface.GET_MF_OVERVIEW,{token:this.token,ds_id:this.ds_id,ym:this.this_year_month,ymw:this.warning_year_month_week,page:e,rows:this.pageSize},function(e){t.mf_overview=e.data[0].rows||[],t.total=e.data[0].records||0},this.failure)},loadData:function(){this.initParam(),this.getMfOverview()},initParam:function(){var t=this.data_source_map();if(!t||0==t.size)return!1;this.ds_id&&""==this.this_year_month&&(this.this_year_month=this.end_year_month+""),this.this_year_month>this.end_year_month&&this.this_year_month<this.begin_year_month&&(this.this_year_month=this.end_year_month+""),this.warning_year_month_week=this.warning_end_year_month_week+""}},components:{BiTitle:m.a,BiPanel:v.a,BiSubPanel:G,BiCell:p.a,BiProgress:f.a}},et={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"content-top-floor",staticStyle:{height:"51px"}}),t._v(" "),a("div",{staticClass:"content-top",attrs:{id:"content-top"}},[a("div",{staticClass:"pageinfo"},[a("bi-title",{attrs:{columnTitle:"周度销量预警",columnIcon:"icon-jisuanqixian",columnText:"专业的汽车营销决策工具"}}),t._v(" "),a("div",{staticClass:"right-box"},[t._v("\n        数据源：\n        "),a("el-dropdown",{staticStyle:{float:"right"},on:{command:t.changeDataSource}},[a("span",{staticClass:"bi-button",staticStyle:{width:"115px"}},[t._v(t._s(t.ds_name)),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"4"}},[t._v("上险数")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"5"}},[t._v("终端零售量")])],1)],1)],1)],1)]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"content-main"},[a("bi-panel",[a("template",{slot:"title"},[a("font",[t._v("快速通道 ")])],1),t._v(" "),a("div",{staticClass:"fast-aisle"},[t._l(t.manfs_static,function(e,s){return a("dl",[a("dt",[t._v(t._s(s)+"：")]),t._v(" "),a("dd",t._l(e,function(e,s){return a("a",{attrs:{href:"#/tools/munfdetail?manf_id="+e.manf_id,target:"_blank"}},[t._v(t._s(e.manf_name))])}))])}),t._v(" "),a("span",{staticClass:"more-info",on:{click:function(e){t.dialogFormVisible=!0}}},[t._v("更多厂商 "),a("i",{staticClass:"iconfont icon-unfold"})]),t._v(" "),a("el-dialog",{attrs:{title:"选择厂商",visible:t.dialogFormVisible,"modal-append-to-body":!1,width:"900px"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("div",{staticClass:"more-info-cont"},[a("h4",t._l(t.manfsGroupByLetter,function(e,s){return a("a",{class:{on:t.letter_selected==s},on:{click:function(e){t.selectLetter(s)}}},[t._v(t._s(s))])})),t._v(" "),a("ul",{attrs:{id:"manfsBox"}},t._l(t.manfsGroupByLetter,function(e,s){return a("li",[a("label",{attrs:{"data-key":s}},[t._v(t._s(s))]),t._v(" "),a("span",t._l(e,function(e,s){return a("a",{attrs:{href:"#/tools/munfdetail?manf_id="+e.manf_id,target:"_blank"}},[t._v(t._s(e.manf_name))])}))])}))])])],2)],2),t._v(" "),a("bi-panel",[a("template",{slot:"title"},[a("font",[t._v("厂商概况 - ")]),a("cite",{staticClass:"font-red"},[t._v(t._s(t.warning_month_week))])],1),t._v(" "),a("div",{staticClass:"manuf"},[a("table",[a("thead",[a("tr",[a("th",{attrs:{width:"15%"}},[t._v("厂商")]),t._v(" "),a("th",{attrs:{width:"15%"}},[t._v(t._s(t.this_month)+"月零售量")]),t._v(" "),a("th",{attrs:{width:"20%"}},[t._v(t._s(t.this_month)+"月市场份额")]),t._v(" "),a("th",{attrs:{width:"15%"}},[t._v(t._s(t.warning_month)+"月预测环比")]),t._v(" "),a("th",{attrs:{width:"15%"}},[t._v(t._s(t.warning_month)+"月预判值")]),t._v(" "),a("th",[t._v("\n                预警\n                "),a("el-tooltip",{attrs:{placement:"bottom",effect:"light"}},[a("div",{staticClass:"warning-explain",attrs:{slot:"content"},slot:"content"},[a("h2",[t._v("预警说明")]),t._v(" "),a("table",[a("tr",[a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(145, 187, 61)"}})]),t._v(" "),a("td",{attrs:{width:"53.33%"}},[a("p",[t._v("半月环比＞=市场均值")]),t._v(" "),a("p",[t._v("预测销量＞=过去3个月销量均值")])]),t._v(" "),a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(145, 187, 61)"}},[t._v("A")])])]),t._v(" "),a("tr",[a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(240, 173, 78)"}})]),t._v(" "),a("td",{attrs:{width:"53.33%"}},[a("p",[t._v("半月环比＞=市场均值")]),t._v(" "),a("p",[t._v("预测销量＜过去3个月销量均值")])]),t._v(" "),a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(240, 173, 78)"}},[t._v("B")])])]),t._v(" "),a("tr",[a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(252, 158, 107)"}})]),t._v(" "),a("td",{attrs:{width:"53.33%"}},[a("p",[t._v("半月环比＜市场均值")]),t._v(" "),a("p",[t._v("预测销量＞=过去3个月销量均值")])]),t._v(" "),a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(252, 158, 107)"}},[t._v("C")])])]),t._v(" "),a("tr",[a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(251, 107, 114)"}})]),t._v(" "),a("td",{attrs:{width:"53.33%"}},[a("p",[t._v("半月环比＜市场均值")]),t._v(" "),a("p",[t._v("预测销量＜过去3个月销量均值")])]),t._v(" "),a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(251, 107, 114)"}},[t._v("D")])])])])]),t._v(" "),a("i",{staticClass:"tootip-helf"},[t._v("?")])])],1)])]),t._v(" "),t._l(t.mf_overview,function(e,s){return a("tbody",{key:s},[a("tr",[a("td",[e.children?[a("i",{class:["iconfont",t.mfExpand[s]?"icon-move":"icon-add2"],on:{click:function(e){t.triggerStatus("mf",s)}}}),t._v(" "),a("a",{attrs:{target:"_blank",href:"#/tools/munfdetail?manf_id="+e.id}},[t._v(t._s(e.name))])]:[0==s?a("font",{staticClass:"font-red",attrs:{target:"_blank",href:"javascript:void(0)"}},[t._v(t._s(e.name))]):a("a",{attrs:{target:"_blank",href:"/tools/munfdetail?manf_id="+e.id}},[t._v(t._s(e.name))])]],2),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e,field1:"sales",cls:"warning-text"}})],1),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e,field2:"mom"}})],1),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e,field2:"yoy"}})],1),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e,field1:"warning",cls:"font-red warning-text"}})],1),t._v(" "),a("td",[a("span",0==s?[t._v("-")]:{staticClass:"circle",style:{background:t.color_group[e.color]}})])]),t._v(" "),t._l(e.children,function(i,n){return e.children&&e.children.length?a("tr",{directives:[{name:"show",rawName:"v-show",value:1==t.mfShow[s],expression:"mfShow[key]==true"}],key:n,staticClass:"sub-content"},[a("td",[t._v(t._s(i.name))]),t._v(" "),a("td",[a("bi-cell",{attrs:{data:i,field1:"sales",cls:"warning-text"}})],1),t._v(" "),a("td",[a("bi-cell",{attrs:{data:i,field2:"mom"}})],1),t._v(" "),a("td",[a("bi-cell",{attrs:{data:i,field2:"yoy"}})],1),t._v(" "),a("td",[a("bi-cell",{attrs:{data:i,field1:"warning",cls:"font-red warning-text"}})],1),t._v(" "),a("td",[a("span",{staticClass:"circle",style:{background:t.color_group[i.color]}})])]):t._e()})],2)})],2),t._v(" "),a("div",{staticClass:"pagination-box"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","prev-text":"上一页","next-text":"下一页","page-size":t.pageSize,total:t.total},on:{"current-change":t.getMfOverview}})],1)])],2)],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"nav"},[e("a",{attrs:{href:"#/tools"}},[this._v("销量预警")]),this._v(" "),e("a",{attrs:{href:"#/tools/submarket"}},[this._v("细分市场")]),this._v(" "),e("a",{staticClass:"on",attrs:{href:"#/tools/munfsummary"}},[this._v("厂商概况")]),this._v(" "),e("a",{attrs:{href:"#/tools/modelview"}},[this._v("车型概览")])])}]};var at=a("Z0/y")(tt,et,!1,function(t){a("Tg/R")},"data-v-118d2f62",null).exports,st={name:"model",mixins:[g.a],data:function(){return{manfs_static:[{id:89,manf_name:"上汽大众"},{id:109,manf_name:"一汽-大众"},{id:93,manf_name:"上汽通用"},{id:22,manf_name:"长安福特"},{id:30,manf_name:"东风本田"},{id:34,manf_name:"东风日产"},{id:25,manf_name:"长安汽车"}],manfsGroupByLetter:[],pageSize:10,sm_overview_page:0,segment_id:24,sub_segment_id:6,sub_segment_name:"A-M",subSegmentOnClass:!1,letter_selected:"A",selected_manf_id:0,selected_brand_id:0,brands:[],models:[],segments:[],sm_overview:[],sm_overview_all:[],where:[],showMore:!0,dialogFormVisible:!1}},computed:{manfs_group:function(){var t=!1;for(var e in this.manfs_static)if(this.manfs_static[e].id==this.selected_manf_id){t=!0;break}return this.selected_manf_id&&!t?[this.manfs_brands_models_map[this.selected_manf_id]].concat(this.manfs_static):this.manfs_static},manfs_brands_models_map:function(){var t=[];if(this.manfsGroupByLetter)for(var e in this.manfsGroupByLetter)for(var a in this.manfsGroupByLetter[e]){var s=this.manfsGroupByLetter[e][a];t[s.id]=s}return t}},mounted:function(){var t=this;this.getToken(function(){t.getDataSource()})},methods:{changeDataSource:function(t){this.ds_id=t,this.loadData()},selectLetter:function(t){this.letter_selected=t;var e=document.querySelector('[data-key="'+t+'"]'),a=document.querySelector("#manfsBox"),s=e.offsetTop-a.offsetTop-10;setTimeout(function(){A()("#manfsBox").animate({scrollTop:s},300,"swing",function(){})},10)},changeManf:function(t){this.selected_manf_id=t;var e=this.manfs_brands_models_map,a=e[t].manf_name;this.where.splice(0,2,{type:"manf",value:t,name:a}),this.selected_brand_id=0,this.brands=e[t]&&e[t].brand?e[t].brand:[],this.models=[],this.dialogFormVisible=!1},changeBrand:function(t){this.selected_brand_id=t;var e="",a={};for(var s in this.brands)if(t==this.brands[s].id){e=this.brands[s].brand_name,a=this.brands[s];break}this.where.splice(1,1,{type:"brand",value:t,name:e}),this.models=a.model},changeSubSegment:function(t,e){this.sub_segment_id=t,this.sub_segment_name=e,this.subSegmentOnClass=!1,this.getSmOverview({sub_segment_id:t})},clearSelectedManf:function(){this.selected_manf_id=0,this.selected_brand_id=0,this.brands=[],this.models=[],this.where.splice(0,2)},clearSelectedBrand:function(){this.selected_brand_id=0,this.models=[],this.where.splice(1,1)},deleteItem:function(t){"manf"==t&&this.clearSelectedManf(),"brand"==t&&this.clearSelectedBrand()},clearAll:function(){this.selected_manf_id=0,this.selected_brand_id=0,this.brands=[],this.models=[],this.where.splice(0,2)},getDataSource:function(){var t=this;this.$request.get(this.$interface.GET_DATA_SOURCE,{token:this.token},function(e){t.dataSource=e.data[0],t.loadData()},this.failure)},getBaseInfo:function(){var t=this;this.$request.get(this.$interface.GET_NEWS_BASE_INFO,{token:this.token},function(e){t.manfsGroupByLetter=e.data[0].manf_brand},this.failure)},getSubSegment:function(){var t=this;this.$request.get(this.$interface.GET_SEG_SUBSEG,{token:this.token},function(e){t.segments=e.data},this.failure)},getSmOverview:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{sub_segment_id:this.sub_segment_id};this.$request.get(this.$interface.GET_SM_OVERVIEW,{token:this.token,ds_id:this.ds_id,ym:this.this_year_month,ymw:this.warning_year_month_week,sub_segment_id:e.sub_segment_id},function(e){t.sm_overview=e.data||[]},this.failure)},loadData:function(){this.initParam(),this.getBaseInfo(),this.getSubSegment(),this.getSmOverview()},initParam:function(){var t=this.data_source_map();if(!t||0==t.size)return!1;this.ds_id&&""==this.this_year_month&&(this.this_year_month=this.end_year_month+""),this.this_year_month>this.end_year_month&&this.this_year_month<this.begin_year_month&&(this.this_year_month=this.end_year_month+""),this.warning_year_month_week=this.warning_end_year_month_week+""}},components:{BiTitle:m.a,BiPanel:v.a,BiSubPanel:G,BiCell:p.a}},it={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"content-top-floor",staticStyle:{height:"51px"}}),t._v(" "),a("div",{staticClass:"content-top",attrs:{id:"content-top"}},[a("div",{staticClass:"pageinfo"},[a("bi-title",{attrs:{columnTitle:"周度销量预警",columnIcon:"icon-jisuanqixian",columnText:"专业的汽车营销决策工具"}}),t._v(" "),a("div",{staticClass:"right-box"},[t._v("\n        数据源：\n        "),a("el-dropdown",{staticStyle:{float:"right",height:"30px"},on:{command:t.changeDataSource}},[a("span",{staticClass:"bi-button",staticStyle:{width:"115px"}},[t._v(t._s(t.ds_name)),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"4"}},[t._v("上险数")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"5"}},[t._v("终端零售量")])],1)],1)],1)],1)]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"content-main"},[a("bi-panel",[a("template",{slot:"title"},[a("font",[t._v("快速通道")])],1),t._v(" "),a("div",{staticClass:"fast-aisle"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.where.length>0,expression:"where.length > 0"}],staticClass:"condition"},[a("em",[t._v("已选条件：")]),t._v(" "),t._l(t.where,function(e,s){return a("font",{key:s},[t._v(" "+t._s(e.name)+" "),a("i",{on:{click:function(a){t.deleteItem(e.type)}}},[t._v("x")])])}),t._v(" "),a("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.clearAll()}}},[t._v("重置条件")])],2),t._v(" "),a("dl",[a("dt",[t._v("热门厂商：")]),t._v(" "),a("dd",t._l(t.manfs_group,function(e,s){return a("a",{class:{on:e.id==t.selected_manf_id},attrs:{href:"javascript:void(0)","data-value":e.manf_id},on:{click:function(a){t.changeManf(e.id)}}},[t._v(t._s(e.manf_name))])}))]),t._v(" "),a("span",{staticClass:"more-info",on:{click:function(e){t.dialogFormVisible=!0}}},[t._v("更多 "),a("i",{staticClass:"iconfont icon-unfold"})]),t._v(" "),a("el-dialog",{attrs:{title:"选择厂商",visible:t.dialogFormVisible,"modal-append-to-body":!1,width:"900px"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("div",{staticClass:"more-info-cont"},[a("h4",t._l(t.manfsGroupByLetter,function(e,s){return a("a",{class:{on:t.letter_selected==s},on:{click:function(e){t.selectLetter(s)}}},[t._v(t._s(s))])})),t._v(" "),a("ul",{attrs:{id:"manfsBox"}},t._l(t.manfsGroupByLetter,function(e,s){return a("li",[a("label",{attrs:{"data-key":s}},[t._v(t._s(s))]),t._v(" "),a("span",t._l(e,function(e,s){return a("a",{class:{on:e.id==t.selected_manf_id},attrs:{href:"javascript:void(0)"},on:{click:function(a){t.changeManf(e.id)}}},[t._v(t._s(e.manf_name))])}))])}))])]),t._v(" "),t.brands.length>0?a("dl",[a("dt",[t._v("品牌：")]),t._v(" "),a("dd",[t._l(t.brands,function(e,s){return[a("a",{class:{on:e.id==t.selected_brand_id},attrs:{href:"javascript:void(0)","data-value":e.id},on:{click:function(a){t.changeBrand(e.id)}}},[t._v(t._s(e.brand_name))])]})],2)]):t._e(),t._v(" "),t.models.length>0?a("dl",[a("dt",[t._v("车型：")]),t._v(" "),a("dd",{staticStyle:{height:"auto",width:"calc( 100% - 80px )"}},[t._l(t.models,function(e,s){return[a("a",{attrs:{href:"#/tools/modeldetail?sub_model_id="+e._id,target:"_blank"}},[t._v(t._s(e.model_name))])]})],2)]):t._e()],1)],2),t._v(" "),a("bi-panel",[a("template",{slot:"title"},[a("font",[t._v(t._s(t.sub_segment_name)+" - ")]),a("cite",{staticClass:"font-red"},[t._v(t._s(t.warning_month_week))]),t._v(" "),a("el-popover",{attrs:{placement:"bottom",width:"540",trigger:"click","popper-class":"padding0"},model:{value:t.subSegmentOnClass,callback:function(e){t.subSegmentOnClass=e},expression:"subSegmentOnClass"}},[a("i",{staticClass:"iconfont icon-unfold reference",attrs:{slot:"reference"},slot:"reference"}),t._v(" "),a("div",{staticClass:"popover-cont"},t._l(t.segments,function(e,s){return a("dl",[a("dt",[t._v(t._s(e.segment_name))]),t._v(" "),a("dd",t._l(e.sub_segment,function(e,s){return a("span",{class:{on:e.sub_segment_id==t.sub_segment_id},on:{click:function(a){t.changeSubSegment(e.sub_segment_id,e.sub_segment_name)}}},[t._v(t._s(e.sub_segment_name))])}))])}))])],1),t._v(" "),a("div",{staticClass:"manuf"},[a("table",[a("thead",[a("tr",[a("th",{attrs:{width:"15%"}},[t._v("车型")]),t._v(" "),a("th",{attrs:{width:"15%"}},[t._v(t._s(t.this_month)+"月零售量")]),t._v(" "),a("th",{attrs:{width:"20%"}},[t._v(t._s(t.this_month)+"月市场份额")]),t._v(" "),a("th",{attrs:{width:"15%"}},[t._v(t._s(t.warning_month)+"月预判值")]),t._v(" "),a("th",{attrs:{width:"15%"}},[t._v(t._s(t.warning_month)+"月预测环比")]),t._v(" "),a("th",{attrs:{width:"15%"}},[t._v(t._s(t.warning_month)+"月预测同比")])])]),t._v(" "),a("tbody",t._l(t.sm_overview,function(e,s){return 0!=s?a("tr",[a("td",[a("a",{attrs:{href:"#/tools/modeldetail?sub_model_id="+e.id,target:"_blank"}},[t._v(t._s(e.name))])]),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e,field1:"sales",cls:"warning-text"}})],1),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e,field2:"per"}})],1),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e,field1:"warning",cls:"font-red warning-text"}})],1),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e,field2:"mom"}})],1),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e,field2:"yoy"}})],1)]):t._e()}))])])],2)],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"nav"},[e("a",{attrs:{href:"#/tools"}},[this._v("销量预警")]),this._v(" "),e("a",{attrs:{href:"#/tools/submarket"}},[this._v("细分市场")]),this._v(" "),e("a",{attrs:{href:"#/tools/munfsummary"}},[this._v("厂商概况")]),this._v(" "),e("a",{staticClass:"on",attrs:{href:"#/tools/modelview"}},[this._v("车型概览")])])}]};var nt=a("Z0/y")(st,it,!1,function(t){a("k0qu")},"data-v-59a91273",null).exports,rt={name:"marketDetail",mixins:[g.a],data:function(){return{segment_id:this.$route.query.segment_id,selected_sub_segment:0,checked_sub_segments:{sales:[],yoy:[],mom:[]},selectOnClass:{sales:!1,yoy:!1,mom:!1},maxSeries:3,pageSize:15,baseInfo:{},warning_trend:{},sm_overview:[],option:{sales:{},yoy:{},mom:{}}}},mounted:function(){var t=this;this.segment_id?this.getToken(function(){t.getDataSource()}):this.$router.push({path:"/tools/submarket"})},methods:{checkSubSegments:function(t,e){this.checked_sub_segments[t].length>this.maxSeries&&this.checked_sub_segments[t].splice(0,1)},checkSubSegmentsSubmit:function(t){this.option[t]=ot(this,this.warning_trend,t),this.selectOnClass[t]=!1},selectSegment:function(t){this.selected_sub_segment=t,this.getSmOverview()},getDataSource:function(){var t=this;this.$request.get(this.$interface.GET_DATA_SOURCE,{token:this.token},function(e){t.dataSource=e.data[0],t.loadData()},this.failure)},getWarningTrend:function(){var t=this;this.$request.get(this.$interface.GET_WARNING_TREND,{token:this.token,ds_id:this.ds_id,ym:this.this_year_month,ymw:this.warning_year_month_week,segment_id:this.segment_id,rows:Number(this.warning_month)+12},function(e){var a=t;for(var s in t.warning_trend=e.data?e.data[0]:[],t.selected_sub_segment=t.warning_trend.sales_list[2].id||t.segment_id,t.warning_trend.sales_list){var i=t.warning_trend.sales_list[s];1==s&&["sales","yoy","mom"].map(function(t){a.checked_sub_segments[t].push(i.id)})}t.option=ot(t,t.warning_trend),t.getSmOverview()},this.failure)},getSmOverview:function(){var t=this;this.$request.get(this.$interface.GET_SM_OVERVIEW,{token:this.token,ds_id:this.ds_id,ym:this.this_year_month,ymw:this.warning_year_month_week,sub_segment_id:this.selected_sub_segment},function(e){t.sm_overview=e.data||[]},this.failure)},loadData:function(){this.initParam(),this.getWarningTrend()},initParam:function(){var t=this.data_source_map();if(!t||0==t.size)return!1;this.ds_id&&""==this.this_year_month&&(this.this_year_month=this.end_year_month+""),this.this_year_month>this.end_year_month&&this.this_year_month<this.begin_year_month&&(this.this_year_month=this.end_year_month+""),this.warning_year_month_week=this.warning_end_year_month_week+""}},components:{BiTitle:m.a,BiPanel:v.a,BiCell:p.a,BiChart:B}},ot=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=[];for(var i in e.month_list){1==(x=e.month_list[i]).month?s.push(x.month+"月\n"+x.year+"年"):s.push(x.month+"月")}var n=[{key:"sales",text:"销量",type:"line",target:"chart_sales",symbolSize:14,yName:"    销量（千辆）",line:{width:4,shadowBlur:25,shadowOX:3,shadowOY:3},cb:function(t){return(t/1e3).toFixed(1)}},{key:"yoy",text:"销量同比",type:"line",target:"chart_yoy",symbolSize:8,yName:"同比（%）",line:{width:2,shadowBlur:0,shadowOX:0,shadowOY:0},cb:function(t){return(100*t).toFixed(1)}},{key:"mom",text:"销量环比",type:"line",target:"chart_mom",symbolSize:8,yName:"环比（%）",line:{width:2,shadowBlur:0,shadowOX:0,shadowOY:0},cb:function(t){return(100*t).toFixed(1)}}],r={},o=e.sales_list;for(var l in n){var _=n[l].key,c=(n[l].text,n[l].type),d=(n[l].target,n[l].yName),u=n[l].cb,h=["#01b3f1","#fc9e6b","#fb6b72","#d1e0e7"],m=0,v=n[l].symbolSize,p=n[l].line,f={},g=[],b=[],y=[];for(var w in o){var k=o[w],C=k.id+"",x=k[_],T=k.name,S=h[m++];if(k.hasOwnProperty(_)){-1==t.$helper.inArray(C,t.checked_sub_segments[_])?f[T]=!1:(g.push(T),f[T]=!0);var E=[],O=[];for(var D in x){var A=x[D];D<x.length-1?(E.push(u(A)),D==x.length-2&&"line"==c?O.push(u(A)):O.push("")):(O.push(u(A)),E.push(""))}b.push({name:T,type:c,symbolSize:v,smooth:!0,label:{normal:{show:!0,position:"top",formatter:function(t){if("line"==t.componentSubType)return t.value}}},itemStyle:{normal:{color:S,lineStyle:{color:S,width:p.width}}},data:E}),1==f[T]?(f[T+"预警"]=!0,y.push({name:T+"预警",type:c,symbolSize:v,smooth:!0,label:{normal:{show:!0,position:"top",formatter:function(t){if("line"==t.componentSubType)return t.value}}},itemStyle:{normal:{color:"#fb6b72",lineStyle:{color:"#fb6b72",type:"dotted",width:p.width}}},data:O})):f[T+"预警"]=!1}}if(y.map(function(t){b.push(t)}),r[_]={backgroundColor:"#fff",tooltip:{trigger:"axis",formatter:function(t){var e="",a=(t[0].seriesName,t[0].name),s=(t.length,E.length),i=o.length;if(t[0].dataIndex!=s-1)for(var n in e+=a,t)t[n].seriesName.indexOf("预警")>=0||(e+="<br>"+t[n].marker+t[n].seriesName+": "+t[n].value);else for(var n in e+=a+" | 预警",t)if(!(t[n].seriesName.indexOf("预警")<0)){var r=t[n].seriesIndex-i;t[r].seriesName.indexOf("预警")>=0||(e+="<br>"+t[r].marker+t[r].seriesName+": "+t[n].value)}return e}},legend:{y:0,selectedMode:!1,selected:f,data:g},grid:{x:"32",y:44,width:"97%",height:230},xAxis:{axisLine:{show:!0,lineStyle:{color:"#999"}},axisLabel:{show:!0,rotate:0},axisTick:{show:!0},data:s},yAxis:[{type:"value",name:"  "+d,position:"left",splitLine:{lineStyle:{color:"#f2f2f2"}},axisTick:{show:!1},axisLine:{show:!1,lineStyle:{color:"#999"}},axisLabel:{formatter:"{value} "}}],dataZoom:[{type:"inside",start:50,end:100,zoomLock:!0},{show:!0,type:"slider",y:"90%",start:50,end:100}],series:b},a&&a==_)return r[_]}return r},lt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"content-top-floor",staticStyle:{height:"51px"}}),t._v(" "),a("div",{staticClass:"content-top",attrs:{id:"content-top"}},[a("div",{staticClass:"pageinfo"},[a("bi-title",{attrs:{columnTitle:"周度销量预警",columnIcon:"icon-jisuanqixian",columnText:"专业的汽车营销决策工具"}}),t._v(" "),a("div",{staticClass:"right-box"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("首页")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/tools"}}},[t._v("周度销量预警")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/tools/submarket"}}},[t._v("细分市场")]),t._v(" "),a("el-breadcrumb-item",[t._v("数据源："+t._s(t.warning_trend.name))])],1)],1)],1)]),t._v(" "),a("div",{staticClass:"content-main"},[a("div",{staticClass:"summary"},[a("h2",[a("i",{staticClass:"iconfont icon-chexian"}),t._v("\n          "+t._s(t.warning_trend.name)+" 细分市场 - "),a("em",{staticClass:"font-red"},[t._v(t._s(t.warning_month_week))]),t._v(" "),a("font",{staticClass:"right-text"},[t._v("数据源："+t._s(t.ds_name))])],1),t._v(" "),a("div",{staticClass:"cont"},[a("span",{staticClass:"databox"},[a("bi-cell",{attrs:{data:t.warning_trend,field1:"sales",cls:"font-blue"}},[a("em",[t._v(t._s(t.this_month)+"月 零售量")])])],1),t._v(" "),a("span",{staticClass:"databox"},[a("bi-cell",{attrs:{data:t.warning_trend,field1:"mom",cls:"font-red",special:!0}},[a("em",[t._v(t._s(t.warning_month)+"月 预测环比")])])],1),t._v(" "),a("span",{staticClass:"databox"},[a("bi-cell",{attrs:{data:t.warning_trend,field1:"warning",cls:"font-red"}},[a("em",[t._v(t._s(t.warning_month)+"月 预判值")])])],1),t._v(" "),a("span",{staticClass:"databox"},[a("bi-cell",{attrs:{data:t.warning_trend,field1:"yoy",cls:"font-red",special:!0}},[a("em",[t._v(t._s(t.warning_month)+"月 预测同比")])])],1)])]),t._v(" "),a("bi-panel",{attrs:{"title-type":"border",button:{}}},[a("template",{slot:"title"},[a("font",[t._v("销量")])],1),t._v(" "),a("div",{staticClass:"sales"},[a("div",{staticClass:"button-box"},[a("el-popover",{attrs:{placement:"bottom",trigger:"click",title:"请选择"},model:{value:t.selectOnClass.sales,callback:function(e){t.$set(t.selectOnClass,"sales",e)},expression:"selectOnClass['sales']"}},[a("span",{staticClass:"bi-button",attrs:{slot:"reference"},slot:"reference"},[a("em",[t._v("+")]),t._v(" 二级细分市场")]),t._v(" "),a("div",{staticClass:"popover-cont"},[a("el-checkbox-group",{staticClass:"checkbox-ground",on:{change:function(e){t.checkSubSegments("sales")}},model:{value:t.checked_sub_segments.sales,callback:function(e){t.$set(t.checked_sub_segments,"sales",e)},expression:"checked_sub_segments['sales']"}},t._l(t.warning_trend.sales_list,function(e,s){return a("el-checkbox",{key:e.id,staticClass:"check-box",attrs:{label:e.id}},[t._v(t._s(e.name))])})),t._v(" "),a("p",[a("span",{on:{click:function(e){t.checkSubSegmentsSubmit("sales")}}},[t._v("确定")]),t._v(" "),a("span",{on:{click:function(e){t.selectOnClass.sales=!1}}},[t._v("取消")])])],1)])],1),t._v(" "),a("bi-chart",{staticStyle:{height:"350px"},attrs:{id:"chart_sales",option:t.option.sales}})],1)],2),t._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:12}},[a("bi-panel",{attrs:{"title-type":"border"}},[a("template",{slot:"title"},[a("font",[t._v("同比")])],1),t._v(" "),a("div",{staticClass:"sales"},[a("div",{staticClass:"button-box"},[a("el-popover",{attrs:{placement:"bottom",trigger:"click",title:"请选择"},model:{value:t.selectOnClass.yoy,callback:function(e){t.$set(t.selectOnClass,"yoy",e)},expression:"selectOnClass['yoy']"}},[a("span",{staticClass:"bi-button",attrs:{slot:"reference"},slot:"reference"},[a("em",[t._v("+")]),t._v(" 二级细分市场")]),t._v(" "),a("div",{staticClass:"popover-cont"},[a("el-checkbox-group",{staticClass:"checkbox-ground",on:{change:function(e){t.checkSubSegments("yoy")}},model:{value:t.checked_sub_segments.yoy,callback:function(e){t.$set(t.checked_sub_segments,"yoy",e)},expression:"checked_sub_segments['yoy']"}},t._l(t.warning_trend.sales_list,function(e,s){return a("el-checkbox",{key:e.id,staticClass:"check-box",attrs:{label:e.id}},[t._v(t._s(e.name))])})),t._v(" "),a("p",[a("span",{on:{click:function(e){t.checkSubSegmentsSubmit("yoy")}}},[t._v("确定")]),t._v(" "),a("span",{on:{click:function(e){t.selectOnClass.yoy=!1}}},[t._v("取消")])])],1)])],1),t._v(" "),a("bi-chart",{staticStyle:{height:"350px"},attrs:{id:"chart_yoy",option:t.option.yoy}})],1)],2)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("bi-panel",{attrs:{"title-type":"border"}},[a("template",{slot:"title"},[a("font",[t._v("环比")])],1),t._v(" "),a("div",{staticClass:"sales"},[a("div",{staticClass:"button-box"},[a("el-popover",{attrs:{placement:"bottom",trigger:"click",title:"请选择"},model:{value:t.selectOnClass.mom,callback:function(e){t.$set(t.selectOnClass,"mom",e)},expression:"selectOnClass['mom']"}},[a("span",{staticClass:"bi-button",attrs:{slot:"reference"},slot:"reference"},[a("em",[t._v("+")]),t._v(" 二级细分市场")]),t._v(" "),a("div",{staticClass:"popover-cont"},[a("el-checkbox-group",{staticClass:"checkbox-ground",on:{change:function(e){t.checkSubSegments("mom")}},model:{value:t.checked_sub_segments.mom,callback:function(e){t.$set(t.checked_sub_segments,"mom",e)},expression:"checked_sub_segments['mom']"}},t._l(t.warning_trend.sales_list,function(e,s){return a("el-checkbox",{key:e.id,staticClass:"check-box",attrs:{label:e.id}},[t._v(t._s(e.name))])})),t._v(" "),a("p",[a("span",{on:{click:function(e){t.checkSubSegmentsSubmit("mom")}}},[t._v("确定")]),t._v(" "),a("span",{on:{click:function(e){t.selectOnClass.mom=!1}}},[t._v("取消")])])],1)])],1),t._v(" "),a("bi-chart",{staticStyle:{height:"350px"},attrs:{id:"chart_mom",option:t.option.mom}})],1)],2)],1)],1),t._v(" "),a("bi-panel",[a("template",{slot:"title"},[a("font",[t._v("二级细分市场 ")])],1),t._v(" "),a("div",{staticClass:"market"},[a("h2",t._l(t.warning_trend.sales_list,function(e,s){return 0!=s&&1!=s?a("span",{class:{on:t.selected_sub_segment==e.id},on:{click:function(a){t.selectSegment(e.id)}}},[t._v(t._s(e.name))]):t._e()})),t._v(" "),a("div",{staticClass:"cont"},[a("table",[a("tr",[a("th",{attrs:{width:"15%"}},[t._v("车型")]),t._v(" "),a("th",{attrs:{width:"15%"}},[t._v(t._s(t.this_month)+"月零售量")]),t._v(" "),a("th",{attrs:{width:"20%"}},[t._v(t._s(t.warning_month)+"月预测环比")]),t._v(" "),a("th",{attrs:{width:"15%"}},[t._v(t._s(t.warning_month)+"月预判值")]),t._v(" "),a("th",{attrs:{width:"15%"}},[t._v(t._s(t.warning_month)+"月预测同比")]),t._v(" "),a("th",[t._v("\n                  预警\n                  "),a("el-tooltip",{attrs:{placement:"bottom",effect:"light"}},[a("div",{staticClass:"warning-explain",attrs:{slot:"content"},slot:"content"},[a("h2",[t._v("预警说明")]),t._v(" "),a("table",[a("tr",[a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(145, 187, 61)"}})]),t._v(" "),a("td",{attrs:{width:"53.33%"}},[a("p",[t._v("半月环比＞=市场均值")]),t._v(" "),a("p",[t._v("预测销量＞=过去3个月销量均值")])]),t._v(" "),a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(145, 187, 61)"}},[t._v("A")])])]),t._v(" "),a("tr",[a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(240, 173, 78)"}})]),t._v(" "),a("td",{attrs:{width:"53.33%"}},[a("p",[t._v("半月环比＞=市场均值")]),t._v(" "),a("p",[t._v("预测销量＜过去3个月销量均值")])]),t._v(" "),a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(240, 173, 78)"}},[t._v("B")])])]),t._v(" "),a("tr",[a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(252, 158, 107)"}})]),t._v(" "),a("td",{attrs:{width:"53.33%"}},[a("p",[t._v("半月环比＜市场均值")]),t._v(" "),a("p",[t._v("预测销量＞=过去3个月销量均值")])]),t._v(" "),a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(252, 158, 107)"}},[t._v("C")])])]),t._v(" "),a("tr",[a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(251, 107, 114)"}})]),t._v(" "),a("td",{attrs:{width:"53.33%"}},[a("p",[t._v("半月环比＜市场均值")]),t._v(" "),a("p",[t._v("预测销量＜过去3个月销量均值")])]),t._v(" "),a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(251, 107, 114)"}},[t._v("D")])])])])]),t._v(" "),a("i",{staticClass:"tootip-helf"},[t._v("?")])])],1)]),t._v(" "),t._l(t.sm_overview,function(e,s){return 0!=s?a("tr",[a("td",[a("a",0==s?{staticStyle:{cursor:"text","text-decoration":"none"},attrs:{href:"javascript:void(0)"}}:{attrs:{target:"_blank",href:"#/tools/modeldetail?sub_model_id="+e.id}},[t._v(t._s(e.name))])]),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e,field1:"sales",cls:"warning-text"}})],1),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e,field2:"mom",special:!0}})],1),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e,field1:"warning",cls:"font-red"}})],1),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e,field2:"yoy",special:!0}})],1),t._v(" "),a("td",[a("span",{staticClass:"circle",style:{background:t.color_group[e.color]}})])]):t._e()})],2)])])],2)],1)])},staticRenderFns:[]};var _t=a("Z0/y")(rt,lt,!1,function(t){a("GZo9")},"data-v-822488c0",null).exports,ct={name:"munfDetail",mixins:[g.a],data:function(){return{manf_id:this.$route.query.manf_id,brand_id:0,pageSize:15,currentPage:1,records:0,trend_selected:0,sm_selected_brand:0,region_selected_brand:0,warning_trend:{extend:""},brand_warning_trend:[],sm_overview:[],region_overview:[],checked_manfs:{sales:[Number(this.$route.query.manf_id)],yoy:[Number(this.$route.query.manf_id)],mom:[Number(this.$route.query.manf_id)]},checked_brands:{sales:[],yoy:[],mom:[]},selectAOnClass:{sales:!1,yoy:!1,mom:!1},selectBOnClass:{sales:!1,yoy:!1,mom:!1},optionA:{sales:{},yoy:{},mom:{}},optionB:{sales:{},yoy:{},mom:{}},maxSeries:3}},mounted:function(){var t=this;this.manf_id?(this.getToken(function(){t.getDataSource()}),setTimeout(function(){document.querySelector("#shouqi").click()},500)):this.$router.push({path:"/tools/munfsummary"})},methods:{checkManfs:function(t,e){this.checked_manfs[t].length>this.maxSeries&&this.checked_manfs[t].splice(0,1)},checkBrands:function(t,e){this.checked_brands[t].length>this.maxSeries&&this.checked_brands[t].splice(0,1)},checkManfsSubmit:function(t){this.optionA[t]=dt(this,this.warning_trend,t),this.selectAOnClass[t]=!1},checkBrandsSubmit:function(t){this.optionB[t]=ut(this,this.brand_warning_trend,t),this.selectBOnClass[t]=!1},selectTreadChart:function(t){this.trend_selected=t},selectBrand:function(t,e){"sm"==(e=void 0!=e?e:"sm")?(this.sm_selected_brand=t,this.getSmOverview()):(this.region_selected_brand=t,this.getRegionOverview(1))},getDataSource:function(){var t=this;this.$request.get(this.$interface.GET_DATA_SOURCE,{token:this.token},function(e){t.dataSource=e.data[0],t.loadData()},this.failure)},getWarningTrend:function(){var t=this;this.$request.get(this.$interface.GET_WARNING_TREND,{token:this.token,ds_id:this.ds_id,ym:this.this_year_month,ymw:this.warning_year_month_week,manf_id:this.manf_id,rows:Number(this.warning_month)+12},function(e){t.warning_trend=e.data[0]||{},t.optionA=dt(t,t.warning_trend),t.getBrandWarningTrend()},this.failure)},getBrandWarningTrend:function(){var t=this;this.$request.get(this.$interface.GET_WARNING_TREND,{token:this.token,ds_id:this.ds_id,ym:this.this_year_month,ymw:this.warning_year_month_week,manf_id:"-"+this.manf_id,rows:Number(this.warning_month)+12},function(e){var a=t,s=e.data;if(t.brand_warning_trend=s?s[0]:[],void 0!=t.brand_warning_trend.sales_list){for(var i in t.sm_selected_brand=t.brand_warning_trend.sales_list[0].id,t.brand_warning_trend.sales_list){var n=t.brand_warning_trend.sales_list[i];["sales","yoy","mom"].map(function(t){a.checked_brands[t].push(n.id)})}t.optionB=ut(t,t.brand_warning_trend)}},this.failure)},getSmOverview:function(){var t=this;this.$request.get(this.$interface.GET_SM_OVERVIEW,{token:this.token,ds_id:this.ds_id,ym:this.this_year_month,ymw:this.warning_year_month_week,manf_id:this.manf_id,brand_id:this.sm_selected_brand},function(e){t.sm_overview=e.data||[]},this.failure)},getRegionOverview:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.$request.get(this.$interface.GET_REGION_OVERVIEW,{token:this.token,ds_id:this.ds_id,ym:this.this_year_month,ymw:this.warning_year_month_week,manf_id:this.manf_id,brand_id:this.region_selected_brand,page:e,rows:this.pageSize},function(a){t.region_overview=a.data[0]&&a.data[0].rows?a.data[0].rows:[],t.records=a.data[0]&&a.data[0].records?a.data[0].records:[],t.currentPage=e},this.failure)},loadData:function(){this.initParam(),this.getWarningTrend(),this.getSmOverview(),this.getRegionOverview()},initParam:function(){var t=this.data_source_map();if(!t||0==t.size)return!1;this.ds_id&&""==this.this_year_month&&(this.this_year_month=this.end_year_month+""),this.this_year_month>this.end_year_month&&this.this_year_month<this.begin_year_month&&(this.this_year_month=this.end_year_month+""),this.warning_year_month_week=this.warning_end_year_month_week+""}},components:{BiTitle:m.a,BiPanel:v.a,BiCell:p.a,BiChart:B}},dt=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=[];for(var i in e.month_list){1==(C=e.month_list[i]).month?s.push(C.month+"月\n"+C.year+"年"):s.push(C.month+"月")}var n=[{key:"sales",text:"销量",type:"line",target:"chartVa",symbolSize:14,yName:"  销量（千辆）",line:{width:4,shadowBlur:25,shadowOX:3,shadowOY:3},cb:function(t){return(t/1e3).toFixed(1)}},{key:"yoy",text:"销量同比",type:"line",target:"chartVb",symbolSize:8,yName:"同比（%）",line:{width:2,shadowBlur:0,shadowOX:0,shadowOY:0},cb:function(t){return(100*t).toFixed(1)}},{key:"mom",text:"销量环比",type:"line",target:"chartVc",symbolSize:8,yName:"环比（%）",line:{width:2,shadowBlur:0,shadowOX:0,shadowOY:0},cb:function(t){return(100*t).toFixed(1)}}],r={},o=e.sales_list;for(var l in n){var _=n[l].key,c=(n[l].text,n[l].type),d=(n[l].target,n[l].yName),u=n[l].cb,h=["#01b3f1","#fc9e6b","#fb6b72","#d1e0e7"],m=0,v=n[l].symbolSize,p=n[l].line,f={},g=[],b=[],y=[];for(var i in o)if(0!=i){var w=o[i],k=w.id,C=w[_],x=w.name,T=h[m++];if(w.hasOwnProperty(_)){-1!=t.$helper.inArray(k,t.checked_manfs[_])&&g.push(x),f[x]=-1!=t.$helper.inArray(k,t.checked_manfs[_]);var S=[],E=[];for(var O in C){var D=C[O];O<C.length-1?(S.push(u(D)),O==C.length-2&&"line"==c?E.push(u(D)):E.push("")):(E.push(u(D)),S.push(""))}b.push({name:x,type:c,symbolSize:v,smooth:!0,label:{normal:{show:!0,position:"top",formatter:function(t){if("line"==t.componentSubType)return t.value}}},itemStyle:{normal:{color:T,lineStyle:{color:T,width:p.width}}},data:S}),1==f[x]?(f[x+"预警"]=!0,y.push({name:x+"预警",type:c,symbolSize:v,smooth:!0,label:{normal:{show:!0,position:"top",formatter:function(t){if("line"==t.componentSubType)return t.value}}},itemStyle:{normal:{color:"#fb6b72",lineStyle:{color:"#fb6b72",type:"dotted",width:p.width}}},data:E})):f[x+"预警"]=!1}}if(y.map(function(t){b.push(t)}),r[_]={backgroundColor:"#fff",tooltip:{trigger:"axis",formatter:function(t){var e="",a=(t[0].seriesName,t[0].name),s=(t.length,S.length),i=o.length-1;if(t[0].dataIndex!=s-1)for(var n in e+=a,t)t[n].seriesName.indexOf("预警")>=0||(e+="<br>"+t[n].marker+t[n].seriesName+": "+t[n].value);else for(var n in e+=a+" | 预警",t)if(!(t[n].seriesName.indexOf("预警")<0)){var r=t[n].seriesIndex-i;t[r].seriesName.indexOf("预警")>=0||(e+="<br>"+t[r].marker+t[r].seriesName+": "+t[n].value)}return e}},legend:{y:0,selectedMode:!1,selected:f,data:g},grid:{x:29,y:44,width:"97%",height:230},xAxis:{axisLine:{show:!0,lineStyle:{color:"#999"}},axisLabel:{show:!0,rotate:0},axisTick:{show:!0},data:s},yAxis:[{type:"value",name:"  "+d,position:"left",splitLine:{lineStyle:{color:"#f2f2f2"}},axisTick:{show:!1},axisLine:{show:!1,lineStyle:{color:"#999"}},axisLabel:{formatter:"{value}"}}],dataZoom:[{type:"inside",start:50,end:100,zoomLock:!0},{show:!0,type:"slider",y:"90%",start:50,end:100}],series:b},a&&a==_)return r[_]}return r},ut=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=[];for(var i in e.month_list){1==(C=e.month_list[i]).month?s.push(C.month+"月\n"+C.year+"年"):s.push(C.month+"月")}var n=[{key:"sales",text:"销量",type:"line",target:"chartVd",symbolSize:14,yName:"  销量（千辆）",line:{width:4,shadowBlur:25,shadowOX:3,shadowOY:3},cb:function(t){return(t/1e3).toFixed(1)}},{key:"yoy",text:"销量同比",type:"line",target:"chartVe",symbolSize:14,yName:"同比（%）",line:{width:4,shadowBlur:25,shadowOX:3,shadowOY:3},cb:function(t){return(100*t).toFixed(1)}},{key:"mom",text:"销量环比",type:"line",target:"chartVf",symbolSize:14,yName:"环比（%）",line:{width:4,shadowBlur:25,shadowOX:3,shadowOY:3},cb:function(t){return(100*t).toFixed(1)}}],r={},o=e.sales_list;for(var l in n){var _=n[l].key,c=(n[l].text,n[l].type),d=(n[l].target,n[l].yName),u=n[l].cb,h=["#01b3f1","#fc9e6b","#fb6b72","#d1e0e7"],m=0,v=n[l].symbolSize,p=n[l].line,f={},g=[],b=[],y=[];for(var l in o){var w=o[l],k=w.id+"",C=w[_],x=t.warning_trend.name+" | "+w.name,T=h[m++];if(w.hasOwnProperty(_)){-1!=t.$helper.inArray(k,t.checked_brands[_])&&g.push(x),f[x]=-1!=t.$helper.inArray(k,t.checked_brands[_]);var S=[],E=[];for(var O in C){var D=C[O];O<C.length-1?(S.push(u(D)),O==C.length-2&&"line"==c?E.push(u(D)):E.push("")):(E.push(u(D)),S.push(""))}b.push({name:x,type:c,symbolSize:v,smooth:!0,label:{normal:{show:!0,position:"top",formatter:function(t){if("line"==t.componentSubType)return t.value}}},itemStyle:{normal:{color:T,lineStyle:{color:T,width:p.width}}},data:S}),1==f[x]?(f[x+"预警"]=!0,y.push({name:x+"预警",type:c,symbolSize:v,smooth:!0,label:{normal:{show:!0,position:"top",formatter:function(t){if("line"==t.componentSubType)return t.value}}},itemStyle:{normal:{color:"#fb6b72",lineStyle:{color:"#fb6b72",type:"dotted",width:p.width}}},data:E})):f[x+"预警"]=!1}}if(y.map(function(t){b.push(t)}),r[_]={backgroundColor:"#fff",tooltip:{trigger:"axis",formatter:function(t){var e="",a=(t[0].seriesName,t[0].name),s=(t.length,S.length),i=o.length;if(t[0].dataIndex!=s-1)for(var n in e+=a,t)t[n].seriesName.indexOf("预警")>=0||(e+="<br>"+t[n].marker+t[n].seriesName+": "+t[n].value);else for(var n in e+=a+" | 预警",t)if(!(t[n].seriesName.indexOf("预警")<0)){var r=t[n].seriesIndex-i;t[r].seriesName.indexOf("预警")>=0||(e+="<br>"+t[r].marker+t[r].seriesName+": "+t[n].value)}return e}},legend:{y:0,selectedMode:!1,selected:f,data:g},grid:{x:32,y:44,width:"97%",height:230},xAxis:{axisLine:{show:!0,lineStyle:{color:"#999"}},axisLabel:{show:!0,rotate:0},axisTick:{show:!0},data:s},yAxis:[{type:"value",name:d,position:"left",splitLine:{lineStyle:{color:"#f2f2f2"}},axisTick:{show:!1},axisLine:{show:!1,lineStyle:{color:"#999"}},axisLabel:{formatter:"{value}"}}],dataZoom:[{type:"inside",start:50,end:100,zoomLock:!0},{show:!0,type:"slider",y:"90%",start:50,end:100}],series:b},a&&a==_)return r[_]}return r},ht={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"content-top-floor",staticStyle:{height:"51px"}}),t._v(" "),a("div",{staticClass:"content-top",attrs:{id:"content-top"}},[a("div",{staticClass:"pageinfo"},[a("bi-title",{attrs:{columnTitle:"周度销量预警",columnIcon:"icon-jisuanqixian",columnText:"厂商详情"}}),t._v(" "),a("div",{staticClass:"right-box"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("首页")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/tools"}}},[t._v("周度销量预警")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/tools/munfsummary"}}},[t._v("厂商")]),t._v(" "),a("el-breadcrumb-item",[t._v(t._s(t.warning_trend.name))])],1)],1)],1)]),t._v(" "),a("div",{staticClass:"content-main"},[a("div",{staticClass:"summary"},[a("h2",[a("img",{attrs:{src:"http://image.way-s.cn"+t.warning_trend.extend,alt:""}}),t._v("\n        "+t._s(t.warning_trend.name)+" - "),a("font",{staticClass:"font-red"},[t._v(t._s(t.warning_month_week))]),t._v(" "),a("font",{staticClass:"right-text"},[t._v("数据源："+t._s(t.ds_name))])],1),t._v(" "),a("div",{staticClass:"cont"},[a("span",{staticClass:"databox"},[a("bi-cell",{attrs:{data:t.warning_trend,field1:"sales",cls:"font-blue"}},[a("em",[t._v(t._s(t.this_month)+"月 零售量")])])],1),t._v(" "),a("span",{staticClass:"databox"},[a("bi-cell",{attrs:{data:t.warning_trend,field1:"mom",cls:"font-red",special:!0}},[a("em",[t._v(t._s(t.warning_month)+"月 预测环比")])])],1),t._v(" "),a("span",{staticClass:"databox"},[a("bi-cell",{attrs:{data:t.warning_trend,field1:"warning",cls:"font-blue"}},[a("em",[t._v(t._s(t.warning_month)+"月 预判值")])])],1),t._v(" "),a("span",{staticClass:"databox"},[a("bi-cell",{attrs:{data:t.warning_trend,field1:"yoy",cls:"font-red",special:!0}},[a("em",[t._v(t._s(t.warning_month)+"月 预测同比")])])],1)])]),t._v(" "),a("bi-panel",{attrs:{"title-type":"border"}},[a("template",{slot:"title"},[a("font",[t._v("销量")])],1),t._v(" "),a("div",{staticClass:"sales"},[a("div",{staticClass:"button-box"},[a("el-popover",{attrs:{placement:"bottom",trigger:"click",title:"请选择"},model:{value:t.selectAOnClass.sales,callback:function(e){t.$set(t.selectAOnClass,"sales",e)},expression:"selectAOnClass['sales']"}},[a("span",{staticClass:"bi-button",attrs:{slot:"reference"},slot:"reference"},[a("em",[t._v("+")]),t._v(" 请选择对比厂商")]),t._v(" "),a("div",{staticClass:"popover-cont"},[a("el-checkbox-group",{staticClass:"checkbox-ground",on:{change:function(e){t.checkManfs("sales")}},model:{value:t.checked_manfs.sales,callback:function(e){t.$set(t.checked_manfs,"sales",e)},expression:"checked_manfs['sales']"}},t._l(t.warning_trend.sales_list,function(e,s){return 0!=e.id?a("el-checkbox",{key:e.id,staticClass:"check-box",attrs:{label:e.id}},[t._v(t._s(e.name))]):t._e()})),t._v(" "),a("p",[a("span",{on:{click:function(e){t.checkManfsSubmit("sales")}}},[t._v("确定")]),t._v(" "),a("span",{on:{click:function(e){t.selectAOnClass.sales=!1}}},[t._v("取消")])])],1)])],1),t._v(" "),a("bi-chart",{staticStyle:{height:"350px"},attrs:{id:"chart_sales",option:t.optionA.sales}})],1)],2),t._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:12}},[a("bi-panel",{attrs:{"title-type":"border"}},[a("template",{slot:"title"},[a("font",[t._v("同比")])],1),t._v(" "),a("div",{staticClass:"sales"},[a("div",{staticClass:"button-box"},[a("el-popover",{attrs:{placement:"bottom",trigger:"click",title:"请选择"},model:{value:t.selectAOnClass.yoy,callback:function(e){t.$set(t.selectAOnClass,"yoy",e)},expression:"selectAOnClass['yoy']"}},[a("span",{staticClass:"bi-button",attrs:{slot:"reference"},slot:"reference"},[a("em",[t._v("+")]),t._v(" 请选择对比厂商")]),t._v(" "),a("div",{staticClass:"popover-cont"},[a("el-checkbox-group",{staticClass:"checkbox-ground",on:{change:function(e){t.checkManfs("yoy")}},model:{value:t.checked_manfs.yoy,callback:function(e){t.$set(t.checked_manfs,"yoy",e)},expression:"checked_manfs['yoy']"}},t._l(t.warning_trend.sales_list,function(e,s){return 0!=e.id?a("el-checkbox",{key:e.id,staticClass:"check-box",attrs:{label:e.id}},[t._v(t._s(e.name))]):t._e()})),t._v(" "),a("p",[a("span",{on:{click:function(e){t.checkManfsSubmit("yoy")}}},[t._v("确定")]),t._v(" "),a("span",{on:{click:function(e){t.selectAOnClass.yoy=!1}}},[t._v("取消")])])],1)])],1),t._v(" "),a("bi-chart",{staticStyle:{height:"350px"},attrs:{id:"chart_yoy",option:t.optionA.yoy}})],1)],2)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("bi-panel",{attrs:{"title-type":"border"}},[a("template",{slot:"title"},[a("font",[t._v("环比")])],1),t._v(" "),a("div",{staticClass:"sales"},[a("div",{staticClass:"button-box"},[a("el-popover",{attrs:{placement:"bottom",trigger:"click",title:"请选择"},model:{value:t.selectAOnClass.mom,callback:function(e){t.$set(t.selectAOnClass,"mom",e)},expression:"selectAOnClass['mom']"}},[a("span",{staticClass:"bi-button",attrs:{slot:"reference"},slot:"reference"},[a("em",[t._v("+")]),t._v(" 请选择对比厂商")]),t._v(" "),a("div",{staticClass:"popover-cont"},[a("el-checkbox-group",{staticClass:"checkbox-ground",on:{change:function(e){t.checkManfs("mom")}},model:{value:t.checked_manfs.mom,callback:function(e){t.$set(t.checked_manfs,"mom",e)},expression:"checked_manfs['mom']"}},t._l(t.warning_trend.sales_list,function(e,s){return 0!=e.id?a("el-checkbox",{key:e.id,staticClass:"check-box",attrs:{label:e.id}},[t._v(t._s(e.name))]):t._e()})),t._v(" "),a("p",[a("span",{on:{click:function(e){t.checkManfsSubmit("mom")}}},[t._v("确定")]),t._v(" "),a("span",{on:{click:function(e){t.selectAOnClass.mom=!1}}},[t._v("取消")])])],1)])],1),t._v(" "),a("bi-chart",{staticStyle:{height:"350px"},attrs:{id:"chart_mom",option:t.optionA.mom}})],1)],2)],1)],1),t._v(" "),a("bi-panel",[a("template",{slot:"title"},[a("font",[t._v("品牌表现 ")])],1),t._v(" "),a("div",{staticClass:"brand"},[a("div",{staticClass:"cont"},[a("table",[a("tr",[a("th",{attrs:{width:"15%"}},[t._v("厂商|品牌")]),t._v(" "),a("th",{attrs:{width:"15%"}},[t._v(t._s(t.this_month)+"月零售量")]),t._v(" "),a("th",{attrs:{width:"20%"}},[t._v(t._s(t.warning_month)+"月预测环比")]),t._v(" "),a("th",{attrs:{width:"15%"}},[t._v(t._s(t.warning_month)+"月预判值")]),t._v(" "),a("th",{attrs:{width:"15%"}},[t._v(t._s(t.warning_month)+"月预测同比")]),t._v(" "),a("th",[t._v("\n                预警\n                "),a("el-tooltip",{attrs:{placement:"bottom",effect:"light"}},[a("div",{staticClass:"warning-explain",attrs:{slot:"content"},slot:"content"},[a("h2",[t._v("预警说明")]),t._v(" "),a("table",[a("tr",[a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(145, 187, 61)"}})]),t._v(" "),a("td",{attrs:{width:"53.33%"}},[a("p",[t._v("半月环比＞=市场均值")]),t._v(" "),a("p",[t._v("预测销量＞=过去3个月销量均值")])]),t._v(" "),a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(145, 187, 61)"}},[t._v("A")])])]),t._v(" "),a("tr",[a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(240, 173, 78)"}})]),t._v(" "),a("td",{attrs:{width:"53.33%"}},[a("p",[t._v("半月环比＞=市场均值")]),t._v(" "),a("p",[t._v("预测销量＜过去3个月销量均值")])]),t._v(" "),a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(240, 173, 78)"}},[t._v("B")])])]),t._v(" "),a("tr",[a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(252, 158, 107)"}})]),t._v(" "),a("td",{attrs:{width:"53.33%"}},[a("p",[t._v("半月环比＜市场均值")]),t._v(" "),a("p",[t._v("预测销量＞=过去3个月销量均值")])]),t._v(" "),a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(252, 158, 107)"}},[t._v("C")])])]),t._v(" "),a("tr",[a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(251, 107, 114)"}})]),t._v(" "),a("td",{attrs:{width:"53.33%"}},[a("p",[t._v("半月环比＜市场均值")]),t._v(" "),a("p",[t._v("预测销量＜过去3个月销量均值")])]),t._v(" "),a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(251, 107, 114)"}},[t._v("D")])])])])]),t._v(" "),a("i",{staticClass:"tootip-helf"},[t._v("?")])])],1)]),t._v(" "),t._l(t.brand_warning_trend.sales_list,function(e,s){return a("tr",[a("td",[t._v("\n                "+t._s(t.warning_trend.name)+" | "+t._s(e.name)+"\n              ")]),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e.sales_vo,field1:"sales",cls:"warning-text"}})],1),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e.sales_vo,field2:"mom",special:!0}})],1),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e.sales_vo,field1:"warning",cls:"font-red"}})],1),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e.sales_vo,field2:"yoy",special:!0}})],1),t._v(" "),a("td",[a("span",{staticClass:"circle",style:{background:t.color_group[e.sales_vo.color]}})])])})],2),t._v(" "),a("h2",[a("span",{class:{on:1==t.trend_selected},on:{click:function(e){t.selectTreadChart(1)}}},[t._v("销量")]),t._v(" "),a("span",{class:{on:2==t.trend_selected},on:{click:function(e){t.selectTreadChart(2)}}},[t._v("同比")]),t._v(" "),a("span",{class:{on:3==t.trend_selected},on:{click:function(e){t.selectTreadChart(3)}}},[t._v("环比")])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1==t.trend_selected||0==t.trend_selected,expression:"trend_selected == 1 || trend_selected == 0"}],staticClass:"sales"},[a("span",[t._v("销量")]),t._v(" "),a("div",{staticClass:"button-box"},[a("el-popover",{attrs:{placement:"bottom",trigger:"click",title:"请选择"},model:{value:t.selectBOnClass.sales,callback:function(e){t.$set(t.selectBOnClass,"sales",e)},expression:"selectBOnClass['sales']"}},[a("span",{staticClass:"bi-button",attrs:{slot:"reference"},slot:"reference"},[a("em",[t._v("+")]),t._v(" 添加对比品牌")]),t._v(" "),a("div",{staticClass:"popover-cont"},[a("el-checkbox-group",{staticClass:"checkbox-ground",on:{change:function(e){t.checkBrands("sales")}},model:{value:t.checked_brands.sales,callback:function(e){t.$set(t.checked_brands,"sales",e)},expression:"checked_brands['sales']"}},t._l(t.brand_warning_trend.sales_list,function(e,s){return a("el-checkbox",{key:e.id,staticClass:"check-box",attrs:{label:e.id}},[t._v(t._s(e.name))])})),t._v(" "),a("p",[a("span",{on:{click:function(e){t.checkBrandsSubmit("sales")}}},[t._v("确定")]),t._v(" "),a("span",{on:{click:function(e){t.selectBOnClass.sales=!1}}},[t._v("取消")])])],1)])],1),t._v(" "),a("bi-chart",{staticStyle:{width:"100%",height:"350px"},attrs:{id:"chart_brand_sales",option:t.optionB.sales}})],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:2==t.trend_selected||0==t.trend_selected,expression:"trend_selected == 2 || trend_selected == 0"}],staticClass:"sales"},[a("span",[t._v("同比")]),t._v(" "),a("div",{staticClass:"button-box"},[a("el-popover",{attrs:{placement:"bottom",trigger:"click",title:"请选择"},model:{value:t.selectBOnClass.yoy,callback:function(e){t.$set(t.selectBOnClass,"yoy",e)},expression:"selectBOnClass['yoy']"}},[a("span",{staticClass:"bi-button",attrs:{slot:"reference"},slot:"reference"},[a("em",[t._v("+")]),t._v(" 添加对比品牌")]),t._v(" "),a("div",{staticClass:"popover-cont"},[a("el-checkbox-group",{staticClass:"checkbox-ground",on:{change:function(e){t.checkBrands("yoy")}},model:{value:t.checked_brands.yoy,callback:function(e){t.$set(t.checked_brands,"yoy",e)},expression:"checked_brands['yoy']"}},t._l(t.brand_warning_trend.sales_list,function(e,s){return a("el-checkbox",{key:e.id,staticClass:"check-box",attrs:{label:e.id}},[t._v(t._s(e.name))])})),t._v(" "),a("p",[a("span",{on:{click:function(e){t.checkBrandsSubmit("yoy")}}},[t._v("确定")]),t._v(" "),a("span",{on:{click:function(e){t.selectBOnClass.yoy=!1}}},[t._v("取消")])])],1)])],1),t._v(" "),a("bi-chart",{staticStyle:{width:"100%",height:"350px"},attrs:{id:"chart_brand_yoy",option:t.optionB.yoy}})],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:3==t.trend_selected||0==t.trend_selected,expression:"trend_selected == 3 || trend_selected == 0"}],staticClass:"sales"},[a("span",[t._v("环比")]),t._v(" "),a("div",{staticClass:"button-box"},[a("el-popover",{attrs:{placement:"bottom",trigger:"click",title:"请选择"},model:{value:t.selectBOnClass.mom,callback:function(e){t.$set(t.selectBOnClass,"mom",e)},expression:"selectBOnClass['mom']"}},[a("span",{staticClass:"bi-button",attrs:{slot:"reference"},slot:"reference"},[a("em",[t._v("+")]),t._v(" 添加对比品牌")]),t._v(" "),a("div",{staticClass:"popover-cont"},[a("el-checkbox-group",{staticClass:"checkbox-ground",on:{change:function(e){t.checkBrands("mom")}},model:{value:t.checked_brands.mom,callback:function(e){t.$set(t.checked_brands,"mom",e)},expression:"checked_brands['mom']"}},t._l(t.brand_warning_trend.sales_list,function(e,s){return a("el-checkbox",{key:e.id,staticClass:"check-box",attrs:{label:e.id}},[t._v(t._s(e.name))])})),t._v(" "),a("p",[a("span",{on:{click:function(e){t.checkBrandsSubmit("mom")}}},[t._v("确定")]),t._v(" "),a("span",{on:{click:function(e){t.selectBOnClass.mom=!1}}},[t._v("取消")])])],1)])],1),t._v(" "),a("bi-chart",{staticStyle:{width:"100%",height:"350px"},attrs:{id:"chart_brand_mom",option:t.optionB.mom}})],1),t._v(" "),a("div",{staticClass:"load-more"},[a("span",{directives:[{name:"show",rawName:"v-show",value:0!=t.trend_selected,expression:"trend_selected != 0"}],on:{click:function(e){t.selectTreadChart(0)}}},[t._v("加载更多图表 "),a("i",{staticClass:"iconfont icon-unfold"})]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:0==t.trend_selected,expression:"trend_selected == 0"}],attrs:{id:"shouqi"},on:{click:function(e){t.selectTreadChart(1)}}},[t._v("收起图表 "),a("i",{staticClass:"iconfont icon-unfold"})])])])])],2),t._v(" "),a("bi-panel",[a("template",{slot:"title"},[a("font",[t._v("车型概览 ")])],1),t._v(" "),a("div",{staticClass:"model"},[a("h2",t._l(t.brand_warning_trend.sales_list,function(e,s){return a("span",{class:{on:t.sm_selected_brand===e.id},on:{click:function(a){t.selectBrand(e.id)}}},[t._v(t._s(t.warning_trend.name)+" | "+t._s(e.name))])})),t._v(" "),a("div",{staticClass:"cont"},[t._l(t.sm_overview,function(e,s){return[a("h4",[t._v(t._s(e.name))]),t._v(" "),a("table",[a("tr",[a("th",{attrs:{width:"15%"}},[t._v("车型")]),t._v(" "),a("th",{attrs:{width:"15%"}},[t._v(t._s(t.this_month)+"月零售量")]),t._v(" "),a("th",{attrs:{width:"20%"}},[t._v(t._s(t.warning_month)+"月预测环比")]),t._v(" "),a("th",{attrs:{width:"15%"}},[t._v(t._s(t.warning_month)+"月预判值")]),t._v(" "),a("th",{attrs:{width:"15%"}},[t._v(t._s(t.warning_month)+"月预测同比")]),t._v("\n                  预警\n                  "),a("el-tooltip",{attrs:{placement:"bottom",effect:"light"}},[a("div",{staticClass:"warning-explain",attrs:{slot:"content"},slot:"content"},[a("h2",[t._v("预警说明")]),t._v(" "),a("table",[a("tr",[a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(145, 187, 61)"}})]),t._v(" "),a("td",{attrs:{width:"53.33%"}},[a("p",[t._v("半月环比＞=市场均值")]),t._v(" "),a("p",[t._v("预测销量＞=过去3个月销量均值")])]),t._v(" "),a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(145, 187, 61)"}},[t._v("A")])])]),t._v(" "),a("tr",[a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(240, 173, 78)"}})]),t._v(" "),a("td",{attrs:{width:"53.33%"}},[a("p",[t._v("半月环比＞=市场均值")]),t._v(" "),a("p",[t._v("预测销量＜过去3个月销量均值")])]),t._v(" "),a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(240, 173, 78)"}},[t._v("B")])])]),t._v(" "),a("tr",[a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(252, 158, 107)"}})]),t._v(" "),a("td",{attrs:{width:"53.33%"}},[a("p",[t._v("半月环比＜市场均值")]),t._v(" "),a("p",[t._v("预测销量＞=过去3个月销量均值")])]),t._v(" "),a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(252, 158, 107)"}},[t._v("C")])])]),t._v(" "),a("tr",[a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(251, 107, 114)"}})]),t._v(" "),a("td",{attrs:{width:"53.33%"}},[a("p",[t._v("半月环比＜市场均值")]),t._v(" "),a("p",[t._v("预测销量＜过去3个月销量均值")])]),t._v(" "),a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(251, 107, 114)"}},[t._v("D")])])])])]),t._v(" "),a("i",{staticClass:"tootip-helf"},[t._v("?")])])],1),t._v(" "),t._l(e.children,function(e,s){return a("tr",[a("td",[a("a",{attrs:{href:"#/tools/modeldetail?sub_model_id="+e.id,target:"_blank"}},[t._v(t._s(e.name))])]),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e,field1:"sales",cls:"warning-text"}})],1),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e,field2:"mom",special:!0}})],1),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e,field1:"warning",cls:"font-red"}})],1),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e,field2:"yoy",special:!0}})],1),t._v(" "),a("td",[a("span",{staticClass:"circle",style:{background:t.color_group[e.color]}})])])})],2)]})],2)])],2),t._v(" "),a("bi-panel",[a("template",{slot:"title"},[a("font",[t._v("区域概况 ")])],1),t._v(" "),a("div",{staticClass:"area"},[a("h2",[a("span",{class:{on:0===t.region_selected_brand},on:{click:function(e){t.selectBrand(0,"region")}}},[t._v(t._s(t.warning_trend.name))]),t._v(" "),t._l(t.brand_warning_trend.sales_list,function(e,s){return a("span",{class:{on:t.region_selected_brand===e.id},on:{click:function(a){t.selectBrand(e.id,"region")}}},[t._v(t._s(t.warning_trend.name)+" | "+t._s(e.name))])})],2),t._v(" "),a("div",{staticClass:"cont"},[a("table",[a("tr",[a("th",{attrs:{width:"15%"}},[t._v("区域")]),t._v(" "),a("th",{attrs:{width:"15%"}},[t._v(t._s(t.this_month)+"月零售量")]),t._v(" "),a("th",{attrs:{width:"20%"}},[t._v(t._s(t.warning_month)+"月预测环比")]),t._v(" "),a("th",{attrs:{width:"15%"}},[t._v(t._s(t.warning_month)+"月预判值")]),t._v(" "),a("th",{attrs:{width:"15%"}},[t._v(t._s(t.warning_month)+"月预测同比")]),t._v(" "),a("th",[t._v("\n                预警\n                "),a("el-tooltip",{attrs:{placement:"bottom",effect:"light"}},[a("div",{staticClass:"warning-explain",attrs:{slot:"content"},slot:"content"},[a("h2",[t._v("预警说明")]),t._v(" "),a("table",[a("tr",[a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(145, 187, 61)"}})]),t._v(" "),a("td",{attrs:{width:"53.33%"}},[a("p",[t._v("半月环比＞=市场均值")]),t._v(" "),a("p",[t._v("预测销量＞=过去3个月销量均值")])]),t._v(" "),a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(145, 187, 61)"}},[t._v("A")])])]),t._v(" "),a("tr",[a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(240, 173, 78)"}})]),t._v(" "),a("td",{attrs:{width:"53.33%"}},[a("p",[t._v("半月环比＞=市场均值")]),t._v(" "),a("p",[t._v("预测销量＜过去3个月销量均值")])]),t._v(" "),a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(240, 173, 78)"}},[t._v("B")])])]),t._v(" "),a("tr",[a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(252, 158, 107)"}})]),t._v(" "),a("td",{attrs:{width:"53.33%"}},[a("p",[t._v("半月环比＜市场均值")]),t._v(" "),a("p",[t._v("预测销量＞=过去3个月销量均值")])]),t._v(" "),a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(252, 158, 107)"}},[t._v("C")])])]),t._v(" "),a("tr",[a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(251, 107, 114)"}})]),t._v(" "),a("td",{attrs:{width:"53.33%"}},[a("p",[t._v("半月环比＜市场均值")]),t._v(" "),a("p",[t._v("预测销量＜过去3个月销量均值")])]),t._v(" "),a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(251, 107, 114)"}},[t._v("D")])])])])]),t._v(" "),a("i",{staticClass:"tootip-helf"},[t._v("?")])])],1)]),t._v(" "),t._l(t.region_overview,function(e,s){return a("tr",[a("td",[t._v(t._s(e.name))]),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e,field1:"sales",cls:"warning-text"}})],1),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e,field2:"mom",special:!0}})],1),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e,field1:"warning",cls:"font-red"}})],1),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e,field2:"yoy",special:!0}})],1),t._v(" "),a("td",[0!=s?a("span",{staticClass:"circle",style:{background:t.color_group[e.color]}}):a("font",[t._v("-")])],1)])})],2),t._v(" "),a("div",{staticClass:"pagination-box"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","prev-text":"上一页","next-text":"下一页","current-page":t.currentPage,"page-size":t.pageSize,total:t.records},on:{"current-change":t.getRegionOverview}})],1)])])],2)],1)])},staticRenderFns:[]};var mt=a("Z0/y")(ct,ht,!1,function(t){a("5nMx")},"data-v-03a20a2d",null).exports,vt={name:"modelDetail",mixins:[g.a],data:function(){return{sub_model_id:this.$route.query.sub_model_id,pageSize:15,currentPage:1,records:0,warning_trend:{},region_overview:[],parent_info:{extend:"",name:""},checked_models:{sales:[this.$route.query.sub_model_id],yoy:[this.$route.query.sub_model_id],mom:[this.$route.query.sub_model_id]},selectOnClass:{sales:!1,yoy:!1,mom:!1},option:{sales:{},yoy:{},mom:{}},maxSeries:3}},mounted:function(){var t=this;this.sub_model_id?this.getToken(function(){t.getDataSource()}):this.$router.push({path:"/tools/modelview"})},methods:{checkModels:function(t,e){this.checked_models[t].length>this.maxSeries&&this.checked_models[t].splice(0,1)},checkModelsSubmit:function(t){this.option[t]=pt(this,this.warning_trend,t),this.selectOnClass[t]=!1},getDataSource:function(){var t=this;this.$request.get(this.$interface.GET_DATA_SOURCE,{token:this.token},function(e){t.dataSource=e.data[0],t.loadData()},this.failure)},getWarningTrend:function(){var t=this;this.$request.get(this.$interface.GET_WARNING_TREND,{token:this.token,ds_id:this.ds_id,ym:this.this_year_month,ymw:this.warning_year_month_week,sub_model_id:this.sub_model_id,rows:Number(this.warning_month)+12},function(e){var a=t,s=e.data;for(var i in t.warning_trend=s?s[0]:[],t.warning_trend.sales_list){var n=t.warning_trend.sales_list[i];n.id==t.sub_model_id&&["sales","yoy","mom"].map(function(t){a.checked_models[t].push(n.id)})}t.parent_info=t.warning_trend.parent_info,t.option=pt(t,t.warning_trend)},this.failure)},getRegionOverview:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.$request.get(this.$interface.GET_REGION_OVERVIEW,{token:this.token,ds_id:this.ds_id,ym:this.this_year_month,ymw:this.warning_year_month_week,sub_model_id:this.sub_model_id,page:e,rows:this.pageSize},function(a){t.region_overview=a.data[0]&&a.data[0].rows?a.data[0].rows:[],t.records=a.data[0]&&a.data[0].records?a.data[0].records:[],t.currentPage=e},this.failure)},loadData:function(){this.initParam(),this.getWarningTrend(),this.getRegionOverview()},initParam:function(){var t=this.data_source_map();if(!t||0==t.size)return!1;this.ds_id&&""==this.this_year_month&&(this.this_year_month=this.end_year_month+""),this.this_year_month>this.end_year_month&&this.this_year_month<this.begin_year_month&&(this.this_year_month=this.end_year_month+""),this.warning_year_month_week=this.warning_end_year_month_week+""}},components:{BiTitle:m.a,BiPanel:v.a,BiCell:p.a,BiChart:B}},pt=function(t,e,a){var s=[];for(var i in e.month_list){1==(C=e.month_list[i]).month?s.push(C.month+"月\n"+C.year+"年"):s.push(C.month+"月")}var n=[{key:"sales",text:"销量",type:"line",target:"chartVa",symbolSize:14,yName:"销量（辆）",line:{width:4,shadowBlur:25,shadowOX:3,shadowOY:3},cb:function(t){return t}},{key:"yoy",text:"销量同比",type:"line",target:"chartVb",symbolSize:8,yName:"同比（%）",line:{width:2,shadowBlur:0,shadowOX:0,shadowOY:0},cb:function(t){return(100*t).toFixed(1)}},{key:"mom",text:"销量环比",type:"line",target:"chartVc",symbolSize:8,yName:"环比（%）",line:{width:2,shadowBlur:0,shadowOX:0,shadowOY:0},cb:function(t){return(100*t).toFixed(1)}}],r={},o=e.sales_list;for(var l in n){var _=n[l].key,c=(n[l].text,n[l].type),d=(n[l].target,n[l].yName),u=n[l].cb,h=["#01b3f1","#fc9e6b","#fb6b72","#d1e0e7"],m=0,v=n[l].symbolSize,p=n[l].line,f={},g=[],b=[],y=[];for(var i in o){var w=o[i],k=w.id+"",C=w[_],x=w.name,T=h[m++];if(w.hasOwnProperty(_)){-1!=t.$helper.inArray(k,t.checked_models[_])&&g.push(x),f[x]=-1!=t.$helper.inArray(k,t.checked_models[_]);var S=[],E=[];for(var O in C){var D=C[O];O<C.length-1?(S.push(u(D)),O==C.length-2&&"line"==c?E.push(u(D)):E.push("")):(E.push(u(D)),S.push(""))}b.push({name:x,type:c,symbolSize:v,smooth:!0,label:{normal:{show:!0,position:"top",formatter:function(t){if("line"==t.componentSubType)return t.value}}},itemStyle:{normal:{color:T,lineStyle:{color:T,width:p.width}}},data:S}),1==f[x]?(f[x+"预警"]=!0,y.push({name:x+"预警",type:c,symbolSize:v,smooth:!0,label:{normal:{show:!0,position:"top",formatter:function(t){if("line"==t.componentSubType)return t.value}}},itemStyle:{normal:{color:"#fb6b72",lineStyle:{color:"#fb6b72",type:"dotted",width:p.width}}},data:E})):f[x+"预警"]=!1}}if(y.map(function(t){b.push(t)}),r[_]={backgroundColor:"#fff",tooltip:{trigger:"axis",formatter:function(t){var e="",a=(t[0].seriesName,t[0].name),s=(t.length,S.length),i=o.length;if(t[0].dataIndex!=s-1)for(var n in e+=a,t)t[n].seriesName.indexOf("预警")>=0||(e+="<br>"+t[n].marker+t[n].seriesName+": "+t[n].value);else for(var n in e+=a+" | 预警",t)if(!(t[n].seriesName.indexOf("预警")<0)){var r=t[n].seriesIndex-i;t[r].seriesName.indexOf("预警")>=0||(e+="<br>"+t[r].marker+t[r].seriesName+": "+t[n].value)}return e}},legend:{y:0,selectedMode:!1,selected:f,data:g},grid:{x:"5%",y:44,width:"97%",height:230},xAxis:{axisLine:{show:!0,lineStyle:{color:"#999"}},axisLabel:{show:!0,rotate:0},axisTick:{show:!0},data:s},yAxis:[{type:"value",name:"  "+d,position:"left",splitLine:{lineStyle:{color:"#f2f2f2"}},axisTick:{show:!1},axisLine:{show:!1,lineStyle:{color:"#999"}},axisLabel:{formatter:"{value}"}}],dataZoom:[{type:"inside",start:50,end:100,zoomLock:!0},{show:!0,type:"slider",y:"90%",start:50,end:100}],series:b},a&&a==_)return r[_]}return r},ft={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"content-top-floor",staticStyle:{height:"51px"}}),t._v(" "),a("div",{staticClass:"content-top",attrs:{id:"content-top"}},[a("div",{staticClass:"pageinfo"},[a("bi-title",{attrs:{columnTitle:"周度销量预警",columnIcon:"icon-jisuanqixian",columnText:"专业的汽车营销决策工具"}}),t._v(" "),a("div",{staticClass:"right-box"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("首页")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/tools"}}},[t._v("周度销量预警")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/tools/modelview"}}},[t._v("车型")]),t._v(" "),a("el-breadcrumb-item",[t._v(t._s(t.warning_trend.name))])],1)],1)],1)]),t._v(" "),a("div",{staticClass:"content-main"},[a("div",{staticClass:"summary"},[a("h2",[a("img",{attrs:{src:"",alt:""}}),t._v("\n          "+t._s(t.parent_info.name)+" | "+t._s(t.warning_trend.name)+" - "),a("font",{staticClass:"font-red"},[t._v(t._s(t.warning_month_week))]),t._v(" "),a("font",{staticClass:"right-text"},[t._v("数据源："+t._s(t.ds_name))])],1),t._v(" "),a("div",{staticClass:"cont"},[a("span",{staticClass:"databox"},[a("bi-cell",{attrs:{data:t.warning_trend,field1:"sales",cls:"font-blue"}},[a("em",[t._v(t._s(t.this_month)+"月 零售量")])])],1),t._v(" "),a("span",{staticClass:"databox"},[a("bi-cell",{attrs:{data:t.warning_trend,field1:"mom",cls:"font-red",special:!0}},[a("em",[t._v(t._s(t.warning_month)+"月 预测环比")])])],1),t._v(" "),a("span",{staticClass:"databox"},[a("bi-cell",{attrs:{data:t.warning_trend,field1:"warning",cls:"font-blue"}},[a("em",[t._v(t._s(t.warning_month)+"月 预判值")])])],1),t._v(" "),a("span",{staticClass:"databox"},[a("bi-cell",{attrs:{data:t.warning_trend,field1:"yoy",cls:"font-red",special:!0}},[a("em",[t._v(t._s(t.warning_month)+"月 预测同比")])])],1)])]),t._v(" "),a("bi-panel",{attrs:{"title-type":"border"}},[a("template",{slot:"title"},[a("font",[t._v("销量")])],1),t._v(" "),a("div",{staticClass:"sales"},[a("div",{staticClass:"button-box"},[a("el-popover",{attrs:{placement:"bottom",trigger:"click",title:"请选择"},model:{value:t.selectOnClass.sales,callback:function(e){t.$set(t.selectOnClass,"sales",e)},expression:"selectOnClass['sales']"}},[a("span",{staticClass:"bi-button",attrs:{slot:"reference"},slot:"reference"},[a("em",[t._v("+")]),t._v(" 对比车型")]),t._v(" "),a("div",{staticClass:"popover-cont"},[a("el-checkbox-group",{staticClass:"checkbox-ground",on:{change:function(e){t.checkModels("sales")}},model:{value:t.checked_models.sales,callback:function(e){t.$set(t.checked_models,"sales",e)},expression:"checked_models['sales']"}},t._l(t.warning_trend.sales_list,function(e,s){return 0!=e.id?a("el-checkbox",{key:e.id,staticClass:"check-box",attrs:{label:e.id}},[t._v(t._s(e.name))]):t._e()})),t._v(" "),a("p",[a("span",{on:{click:function(e){t.checkModelsSubmit("sales")}}},[t._v("确定")]),t._v(" "),a("span",{on:{click:function(e){t.selectOnClass.sales=!1}}},[t._v("取消")])])],1)])],1),t._v(" "),a("bi-chart",{staticStyle:{height:"350px"},attrs:{id:"chart_sales",option:t.option.sales}})],1)],2),t._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:12}},[a("bi-panel",{attrs:{"title-type":"border"}},[a("template",{slot:"title"},[a("font",[t._v("同比")])],1),t._v(" "),a("div",{staticClass:"sales"},[a("div",{staticClass:"button-box"},[a("el-popover",{attrs:{placement:"bottom",trigger:"click",title:"请选择"},model:{value:t.selectOnClass.yoy,callback:function(e){t.$set(t.selectOnClass,"yoy",e)},expression:"selectOnClass['yoy']"}},[a("span",{staticClass:"bi-button",attrs:{slot:"reference"},slot:"reference"},[a("em",[t._v("+")]),t._v(" 对比车型")]),t._v(" "),a("div",{staticClass:"popover-cont"},[a("el-checkbox-group",{staticClass:"checkbox-ground",on:{change:function(e){t.checkModels("yoy")}},model:{value:t.checked_models.yoy,callback:function(e){t.$set(t.checked_models,"yoy",e)},expression:"checked_models['yoy']"}},t._l(t.warning_trend.sales_list,function(e,s){return 0!=e.id?a("el-checkbox",{key:e.id,staticClass:"check-box",attrs:{label:e.id}},[t._v(t._s(e.name))]):t._e()})),t._v(" "),a("p",[a("span",{on:{click:function(e){t.checkModelsSubmit("yoy")}}},[t._v("确定")]),t._v(" "),a("span",{on:{click:function(e){t.selectOnClass.yoy=!1}}},[t._v("取消")])])],1)])],1),t._v(" "),a("bi-chart",{staticStyle:{height:"350px"},attrs:{id:"chart_yoy",option:t.option.yoy}})],1)],2)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("bi-panel",{attrs:{"title-type":"border"}},[a("template",{slot:"title"},[a("font",[t._v("环比")])],1),t._v(" "),a("div",{staticClass:"sales"},[a("div",{staticClass:"button-box"},[a("el-popover",{attrs:{placement:"bottom",trigger:"click",title:"请选择"},model:{value:t.selectOnClass.mom,callback:function(e){t.$set(t.selectOnClass,"mom",e)},expression:"selectOnClass['mom']"}},[a("span",{staticClass:"bi-button",attrs:{slot:"reference"},slot:"reference"},[a("em",[t._v("+")]),t._v(" 对比车型")]),t._v(" "),a("div",{staticClass:"popover-cont"},[a("el-checkbox-group",{staticClass:"checkbox-ground",on:{change:function(e){t.checkModels("mom")}},model:{value:t.checked_models.mom,callback:function(e){t.$set(t.checked_models,"mom",e)},expression:"checked_models['mom']"}},t._l(t.warning_trend.sales_list,function(e,s){return 0!=e.id?a("el-checkbox",{key:e.id,staticClass:"check-box",attrs:{label:e.id}},[t._v(t._s(e.name))]):t._e()})),t._v(" "),a("p",[a("span",{on:{click:function(e){t.checkModelsSubmit("mom")}}},[t._v("确定")]),t._v(" "),a("span",{on:{click:function(e){t.selectOnClass.mom=!1}}},[t._v("取消")])])],1)])],1),t._v(" "),a("bi-chart",{staticStyle:{height:"350px"},attrs:{id:"chart_mom",option:t.option.mom}})],1)],2)],1)],1),t._v(" "),a("bi-panel",[a("template",{slot:"title"},[a("font",[t._v("区域概况 ")])],1),t._v(" "),a("div",{staticClass:"area"},[a("table",[a("tr",[a("th",{attrs:{width:"15%"}},[t._v("区域")]),t._v(" "),a("th",{attrs:{width:"15%"}},[t._v(t._s(t.this_month)+"月零售量")]),t._v(" "),a("th",{attrs:{width:"20%"}},[t._v(t._s(t.warning_month)+"月预测环比")]),t._v(" "),a("th",{attrs:{width:"15%"}},[t._v(t._s(t.warning_month)+"月预判值")]),t._v(" "),a("th",{attrs:{width:"15%"}},[t._v(t._s(t.warning_month)+"月预测同比")]),t._v(" "),a("th",[t._v("\n                预警\n                "),a("el-tooltip",{attrs:{placement:"bottom",effect:"light"}},[a("div",{staticClass:"warning-explain",attrs:{slot:"content"},slot:"content"},[a("h2",[t._v("预警说明")]),t._v(" "),a("table",[a("tr",[a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(145, 187, 61)"}})]),t._v(" "),a("td",{attrs:{width:"53.33%"}},[a("p",[t._v("半月环比＞=市场均值")]),t._v(" "),a("p",[t._v("预测销量＞=过去3个月销量均值")])]),t._v(" "),a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(145, 187, 61)"}},[t._v("A")])])]),t._v(" "),a("tr",[a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(240, 173, 78)"}})]),t._v(" "),a("td",{attrs:{width:"53.33%"}},[a("p",[t._v("半月环比＞=市场均值")]),t._v(" "),a("p",[t._v("预测销量＜过去3个月销量均值")])]),t._v(" "),a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(240, 173, 78)"}},[t._v("B")])])]),t._v(" "),a("tr",[a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(252, 158, 107)"}})]),t._v(" "),a("td",{attrs:{width:"53.33%"}},[a("p",[t._v("半月环比＜市场均值")]),t._v(" "),a("p",[t._v("预测销量＞=过去3个月销量均值")])]),t._v(" "),a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(252, 158, 107)"}},[t._v("C")])])]),t._v(" "),a("tr",[a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(251, 107, 114)"}})]),t._v(" "),a("td",{attrs:{width:"53.33%"}},[a("p",[t._v("半月环比＜市场均值")]),t._v(" "),a("p",[t._v("预测销量＜过去3个月销量均值")])]),t._v(" "),a("td",{attrs:{width:"23.33%"}},[a("span",{staticStyle:{"background-color":"rgb(251, 107, 114)"}},[t._v("D")])])])])]),t._v(" "),a("i",{staticClass:"tootip-helf"},[t._v("?")])])],1)]),t._v(" "),t._l(t.region_overview,function(e,s){return a("tr",[a("td",[t._v(t._s(e.name))]),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e,field1:"sales",cls:"warning-text"}})],1),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e,field2:"mom",special:!0}})],1),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e,field1:"warning",cls:"font-red"}})],1),t._v(" "),a("td",[a("bi-cell",{attrs:{data:e,field2:"yoy",special:!0}})],1),t._v(" "),a("td",[0!=s?a("span",{staticClass:"circle",style:{background:t.color_group[e.color]}}):a("font",[t._v("-")])],1)])})],2),t._v(" "),a("div",{staticClass:"pagination-box"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","prev-text":"上一页","next-text":"下一页","current-page":t.currentPage,"page-size":t.pageSize,total:t.records},on:{"current-change":t.getRegionOverview}})],1)])],2)],1)])},staticRenderFns:[]};var gt=a("Z0/y")(vt,ft,!1,function(t){a("pEtW")},"data-v-0195d0ad",null).exports,bt=a("3cXf"),yt=a.n(bt),wt=a("hAsJ");s.default.use($.a);var kt={name:"News",mixins:[g.a],data:function(){return{selectedTab:this.$route.query.tab||"index",letter_selected:{manfsBoxForIndex:"A",manfsBoxForSearch:"A",brandsBoxForSearch:"A"},selectOnClass:!1,brands:[],models:[],baseInfo:{},news_types:[],toutiao:[],totalHot:0,tuijian:new Array(5).fill({}),pageTuijian:1,totalTuijian:0,loading:{},panels:JSON.parse(localStorage.getItem("PANELS_SORT"))||[],string_manf_ids:"0",string_brand_ids:"0",string_model_ids:"0",selected_manfs_text:"",selected_brands_text:"",selected_models_text:"",boxData:{},selectedSubTab:"manf",pageHotIndex:1,hotNewsIndex:new Array(5).fill({}),listData:[],listTuijian:[],pageHotList:1,hotNewsList:new Array(5).fill({}),page:1,pageSize:10,listRecords:0,sort:1,sortClass:1,type_id:this.$route.query.tid||"0",showClass:localStorage.getItem("NEWS_SHOW_TYPE")||0,typeBoxOpen:!1,searchData:[],searchPage:1,searchRecords:0,pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.$emit("pick",[a,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-2592e6),t.$emit("pick",[a,e])}},{text:"最近三个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-7776e6),t.$emit("pick",[a,e])}}]},manfs_map:{},manfOnClass:!1,manfNotClass:!1,brandOnClass:!1,brandNotClass:!0,modelOnClass:!1,modelNotClass:!0,typeOnClass:!1,typeActiveClass:!1,sourceOnClass:!1,sourceActiveClass:!1,keywordActiveClass:!1,lookErrorClass:!1,lookManfIds:[],lookManfId:"",key_word:this.$route.query.keyword||"",where:[],searchType:this.$route.query.searchType||"",maxItem:10,manfName:"",selected_manf_ids:this.$route.query.manf_ids?this.$route.query.manf_ids.split(",").map(function(t){return Number(t)}):[],selected_brand_ids:this.$route.query.brand_ids?this.$route.query.brand_ids.split(",").map(function(t){return Number(t)}):[],selected_model_ids:this.$route.query.model_ids?this.$route.query.model_ids.split(",").map(function(t){return Number(t)}):[],type:Number(this.$route.query.type)||0,source:this.$route.query.source||"全部",dateRange:[this.$route.query.start_date||"",this.$route.query.end_date||""]}},mounted:function(){var t=this;this.getToken(function(){t.getBaseInfo()});var e=this;b.a.$on("updateConfig",function(t){e.editable=t[7]});this.loading={tuijianIndex:!0,hotIndex:!0,box:{},list:!0,tuijianList:!0,hotList:!0,search:!0}},watch:{selected_manf_ids:function(){var t=this,e=this.manfs_map,a=[];this.selected_manf_ids.map(function(s){e.hasOwnProperty(s)&&e[s].brand.map(function(e){t.selected_brand_ids.includes(e.id)&&a.push(e.id)})}),this.selected_brand_ids=a},selected_brand_ids:function(){var t=this;this.manfNotClass=!1,0==this.selected_manf_ids.length&&this.selected_brand_ids.length>0&&(this.manfNotClass=!0);var e=this.brands_map,a=[];this.selected_brand_ids.map(function(s){e.hasOwnProperty(s)&&e[s].model.map(function(e){t.selected_model_ids.includes(e._id)&&a.push(e._id)})}),this.selected_model_ids=a},news_types:function(){if(0!=this.panels.length)return this.panels;var t=[],e={};this.news_types.map(function(a,s){var i=a.type_name||"",n=a._id||"";t.push({name:i,type_id:n,fixed:!1,show:!0}),e[n]=!1}),this.panels=t}},computed:{brands_map:function(){var t={};for(var e in this.baseInfo.brand){var a=this.baseInfo.brand[e];for(var s in a){var i=a[s];t[i.id]=i}}return t},brands_grouped:function(){var t=[],e=this.manfs_map;return this.selected_manf_ids.length>0?this.selected_manf_ids.map(function(a){if(e.hasOwnProperty(a)){var s=e[a];t.push(s)}}):t=this.baseInfo.brand||[],t},models_grouped:function(){var t=this.brands_map,e=[];return this.selected_brand_ids.length>0&&this.selected_brand_ids.map(function(a){if(t.hasOwnProperty(a)){var s=t[a];e.push(s)}}),this.modelNotClass=0==e.length,e},selected_manfs:function(){var t=this.manfs_map,e=[];return this.selected_manf_ids.map(function(a){if(t.hasOwnProperty(a)){var s=t[a];e.push({id:s.id,name:s.manf_name})}}),e},selected_brands:function(){var t=this.brands_map,e=[];return this.selected_brand_ids.map(function(a){if(t.hasOwnProperty(a)){var s=t[a];e.push({id:s.id,name:s.brand_name})}}),e},selected_models:function(){var t=this,e=this.brands_map,a=[];return this.selected_brand_ids.map(function(s){e.hasOwnProperty(s)&&e[s].model.map(function(e){t.selected_model_ids.includes(e._id)&&a.push({id:e._id,name:e.model_name})})}),a},types_map:function(){var t={0:{_id:0,type_name:"全部"}};for(var e in this.baseInfo.news_type){var a=this.baseInfo.news_type[e];t[a._id]=a}return t},panelOptions:function(){return{draggable:".bi-panel",animation:10,group:"panel",disabled:!this.editable,filter:".bi-panel-body",preventOnFilter:!0,chosenClass:"sortable-chosen",dragClass:"sortable-drag",ghostClass:"sortable-ghost"}},searchStatusText:function(){return this.searchType?"搜索":"下一步"}},filters:{date:function(t){var e=new RegExp(/\d+/g);return t.match(e).slice(0,3).join("/")}},methods:{tabsClick:function(t){var e=t.replace("tabs","");this.$router.push({query:{tab:e}}),this.selectedTab=e},selectLetter:function(t,e){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.letter_selected[t]=e;var s=document.querySelector("#"+t);if(s){var i=s.querySelector('[data-key="'+e+'"]').offsetTop-s.offsetTop-10;setTimeout(function(){a?A()("#"+t).animate({scrollTop:i},300,"swing"):A()("#"+t).scrollTop(i)},10)}},lookManf:function(t){var e=this.manfName.trim(),a="";if(this.lookErrorClass=!0,e){for(var s in this.manfs){var i=this.manfs[s];if(this.matchName(e,i.manf_name)&&!this.lookManfIds.includes(i.id)){a=i.first_letter,this.lookManfId=i.id,this.lookManfIds.push(i.id);break}s==this.manfs.length-1&&(this.lookManfId="",this.lookManfIds=[])}a&&(this.selectLetter(t,a),this.lookErrorClass=!1)}},matchName:function(t,e){return!!t&&RegExp(""+t).test(e)},showPopover:function(t){var e=this;if(!(s=e.letter_selected[t])||"A"==s){var a=this.selected_manf_ids[0]||"";if(a&&this.manfs_map.hasOwnProperty(a))var s=this.manfs_map[a].first_letter}setTimeout(function(){e.selectLetter(t,s,!1)},200)},hidePopover:function(t){},cancelManf:function(){this.manfOnClass=!1,this.letter_selected.manfsBoxForSearch="A",this.selected_manf_ids=[],this.selected_brand_ids=[],this.selected_model_ids=[]},cancelBrand:function(){this.brandOnClass=!1,this.letter_selected.brandsBoxForSearch="A",this.selected_brand_ids=[],this.selected_model_ids=[]},cancelModel:function(){this.modelOnClass=!1,this.selected_model_ids=[]},checkModel:function(t){var e=this.selected_model_ids.findIndex(function(e){return e==t});e>=0?this.selected_model_ids.splice(e,1):this.selected_model_ids.push(t)},gotoback:function(){this.searchType="",this.searchRecords=0,this.searchData=[],this.clearAll(),this.initWhere(),this.$router.push({query:{tab:"search"}})},submitSearchData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.searchType=t,1==t)var e={tab:"search",manf_ids:this.selected_manf_ids.join(","),brand_ids:this.selected_brand_ids.join(","),model_ids:this.selected_model_ids.join(","),type:0!=this.type?this.type:void 0,source:"全部"!=this.source?this.source:void 0,start_date:this.dateRange[0],end_date:this.dateRange[1],searchType:t};else if(2==t)e={tab:"search",keyword:this.key_word.trim()||"",searchType:t};this.$router.push({query:e}),this.getSearchData()},initWhere:function(){var t=[];if(this.selected_manfs.length>0){var e=this.selected_manfs.length>1?"...":"";t.push({type:"manf",value:this.selected_manfs[0].id,name:this.selected_manfs[0].name+e})}if(this.selected_brands.length>0){e=this.selected_brands.length>1?"...":"";t.push({type:"brand",value:this.selected_brands[0].id,name:this.selected_brands[0].name+e})}if(this.selected_models.length>0){e=this.selected_models.length>1?"...":"";t.push({type:"model",value:this.selected_models[0].id,name:this.selected_models[0].name+e})}this.type>0&&t.push({type:"type",value:this.types_map[this.type]._id,name:this.types_map[this.type].type_name}),"全部"!=this.source&&t.push({type:"source",value:this.source,name:this.source}),2==this.dateRange.length&&this.dateRange[0]&&this.dateRange[1]&&t.push({type:"date",value:this.dateRange[0]+"/"+this.dateRange[1],name:this.dateRange[0]+"到"+this.dateRange[1]}),""!=this.key_word&&t.push({type:"keyword",value:this.key_word,name:this.key_word}),this.where=t},deleteItem:function(t){this.clearItem(t),this.submitSearchData(this.searchType)},clearItem:function(t){switch(t){case"manf":this.selected_manf_ids=[],this.selected_manf_ids.length||(this.selectedSubTab="manf");case"brand":this.selected_brand_ids=[],this.selected_manf_ids.length&&!this.selected_brand_ids.length&&(this.selectedSubTab="brand");case"model":this.selected_model_ids=[];break;case"type":this.type=0;break;case"source":this.source="全部";break;case"date":this.dateRange=["",""];break;case"keyword":this.key_word=""}},clearSubItem:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";switch(t){case"manf":var a=this.selected_manf_ids.findIndex(function(t){return t==e});this.selected_manf_ids.splice(a,1),this.selected_manf_ids.length||(this.selectedSubTab="manf");break;case"brand":a=this.selected_brand_ids.findIndex(function(t){return t==e});this.selected_brand_ids.splice(a,1),this.selected_manf_ids.length&&!this.selected_brand_ids.length&&(this.selectedSubTab="brand");break;case"model":a=this.selected_model_ids.findIndex(function(t){return t==e});this.selected_model_ids.splice(a,1)}},deleteAll:function(){this.clearAll(),this.submitSearchData(this.searchType)},clearAll:function(){var t=this;["manf","brand","model","type","source","date","keyword"].map(function(e){t.clearItem(e)})},changeType:function(t,e){if(this.type_id=t,e>9){var a=this.news_types.splice(e,1)[0];this.news_types.unshift(a)}this.page=1,this.typeBoxOpen=!1,this.getListData(this.page,t),this.getTuijian("List",t)},changeSort:function(t){this.sort=t,this.sortClass=t,this.getListData(this.page,this.type_id)},cancelIndexData:function(){this.selectOnClass=!1},submitIndexData:function(){this.string_manf_ids=this.selected_manf_ids.join(","),this.string_brand_ids=this.selected_brand_ids.join(","),this.string_model_ids=this.selected_model_ids.join(","),this.selected_manfs_text=this.selected_manfs.map(function(t){return t.name}).join("|"),this.selected_brands_text=this.selected_brands.map(function(t){return t.name}).join("|"),this.selected_models_text=this.selected_models.map(function(t){return t.name}).join("|"),this.sort=1,this.loadData()},onDragEnd:function(){localStorage.setItem("PANELS_SORT",yt()(this.panels))},getBaseInfo:function(){var t=this;this.$request.get(this.$interface.GET_NEWS_BASE_INFO,{token:this.token},function(e){t.baseInfo=e.data[0],t.news_types=t.baseInfo.news_type.map(function(t){return t});var a={},s=[];for(var i in t.baseInfo.manf_brand){var n=t.baseInfo.manf_brand[i];for(var r in n){var o=n[r];a[o.id]=o,s.push(o)}}t.manfs_map=a,t.manfs=s,t.loadData()},this.failure)},getTuijian:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Index",e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.loading["tuijian"+t]=!0,this.$request.get(this.$interface.GET_NEWS_RECOMMEND,{token:this.token,manf_id:this.string_manf_ids||0,brand_id:this.string_brand_ids||0,model_id:this.string_model_ids||0,type_id:0==a?-1:a,page:s,rows:5,orderby:1},function(s){-1==a?(e.totalTuijian=e.totalTuijian||s.data[0].total,(e.pageTuijian>=e.totalTuijian||5*e.pageTuijian>s.data[0].records||e.pageTuijian>=5)&&(e.pageTuijian=1),e.tuijian=s.data[0].rows||[]):e.listTuijian=s.data[0].rows||e.tuijian,e.listTuijian=e.listTuijian||e.tuijian,e.loading["tuijian"+t]=!1},this.failure)},getToutiao:function(){var t=this;this.$request.get(this.$interface.GET_NEWS_PAGE,{token:this.token,manf_id:this.string_manf_ids||0,brand_id:this.string_brand_ids||0,model_id:this.string_model_ids||0,type_id:-2,rows:5,orderby:this.sort},function(e){t.toutiao=e.data[0].rows||[]},this.failure)},getHot:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Index",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.loading["hot"+e]=!0,this.$request.get(this.$interface.GET_NEWS_HOT,{token:this.token,page:a,rows:5},function(a){t.totalHot=t.totalHot||a.data[0].total,(t["pageHot"+e]>=t.totalHot||5*t["pageHot"+e]>a.data[0].records||t["pageHot"+e]>5)&&(t["pageHot"+e]=1),t["hotNews"+e]=a.data[0].rows||[],t.loading["hot"+e]=!1},this.failure)},getBoxData:function(){var t=this;this.selectOnClass=!1;var e=this;this.news_types.map(function(a){e.loading.box[a._id]=!0,e.$request.get(t.$interface.GET_NEWS_PAGE,{token:t.token,manf_id:t.string_manf_ids||0,brand_id:t.string_brand_ids||0,model_id:t.string_model_ids||0,type_id:a._id,rows:10,orderby:t.sort},function(t){e.loading.box[a._id]=!1,e.boxData[a._id]=t},t.failure)})},getListData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.type_id;this.loading.list=!0,this.$request.get(this.$interface.GET_NEWS_PAGE,{token:this.token,manf_id:this.string_manf_ids||0,brand_id:this.string_brand_ids||0,model_id:this.string_model_ids||0,type_id:a,rows:40,orderby:this.sort,page:e},function(e){var a=e.data[0];t.listData=a.rows,t.listRecords=a.records,t.loading.list=!1},this.failure)},getSearchData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.initWhere(),this.loading.search=!0,this.$request.get(this.$interface.GET_NEWS_PAGE,{token:this.token,key_word:this.key_word.trim()||"",manf_id:this.selected_manf_ids.join(",")||0,brand_id:this.selected_brand_ids.join(",")||0,model_id:this.selected_model_ids.join(",")||0,type_id:this.type||0,source:"全部"!==this.source?this.source:"",start_date:this.dateRange[0]||"",end_date:this.dateRange[1]||"",orderby:this.sort,page:e,rows:20},function(e){var a=e.data[0];t.searchData=a.rows||[],t.searchRecords=a.records,t.loading.search=!1},this.failure)},loadData:function(){this.pageTuijian=1,this.selectOnClass=!1,this.getTuijian("Index",-1,this.pageTuijian++),this.getTuijian("List",this.type_id),this.getHot("Index",this.pageHotIndex++),this.getHot("List",this.pageHotList++),this.getBoxData(),this.getListData()}},components:{BiTitle:m.a,BiPanel:v.a,BiCell:p.a,BiProgress:f.a,BiEmpty:wt.a,Draggable:w.a}},Ct={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"news"},[a("div",{staticClass:"content-top",style:{"z-index":["search"!=t.selectedTab?"999":"2020"]},attrs:{id:"content-top"}},[a("div",{staticClass:"pageinfo"},[a("bi-title",{attrs:{columnTitle:"新闻舆情",columnIcon:"icon-bingtu"}},["search"!=t.selectedTab&&t.selected_manfs_text?a("span",[t._v("\n            当前数据\n            "),t.selected_manfs_text?a("span",[t._v("厂商："),a("em",{staticClass:"text-box"},[t._v(t._s(t.selected_manfs_text))])]):t._e(),t._v(" "),t.selected_brands_text?a("span",[t._v("品牌："),a("em",{staticClass:"text-box"},[t._v(t._s(t.selected_brands_text))])]):t._e(),t._v(" "),t.selected_models_text?a("span",[t._v("车型："),a("em",{staticClass:"text-box"},[t._v(t._s(t.selected_models_text))])]):t._e()]):a("span",[t._v("专业的汽车资讯平台")])]),t._v(" "),"search"!=t.selectedTab?a("div",{staticClass:"change-button"},[a("el-popover",{attrs:{placement:"bottom-start",width:"600","popper-class":"padding0"},on:{show:function(e){t.showPopover("manfsBoxForIndex")}},model:{value:t.selectOnClass,callback:function(e){t.selectOnClass=e},expression:"selectOnClass"}},[a("div",{staticClass:"news-search-popover-cont",staticStyle:{width:"630px"}},[a("h4",{staticClass:"popover-title",staticStyle:{"max-height":"126px"}},[a("p",[a("cite",[t._v("厂商： ")]),t._v(" "),a("span",[t._l(t.selected_manfs,function(e,s){return a("em",[t._v("\n                      "+t._s(e.name)+"\n                      "),a("i",{on:{click:function(a){t.clearSubItem("manf",e.id)}}},[t._v("x")])])}),t._v(" "),a("font",{on:{click:function(e){t.clearItem("manf")}}},[t._v("重置条件")])],2)]),t._v(" "),t.selected_brands.length>0?a("p",[a("cite",[t._v("品牌： ")]),t._v(" "),a("span",[t._l(t.selected_brands,function(e,s){return a("em",[t._v("\n                       "+t._s(e.name)+"\n                       "),a("i",{on:{click:function(a){t.clearSubItem("brand",e.id)}}},[t._v("x")])])}),t._v(" "),a("font",{on:{click:function(e){t.clearItem("brand")}}},[t._v("重置条件")])],2)]):t._e(),t._v(" "),t.selected_models.length>0?a("p",[a("cite",[t._v("车型： ")]),t._v(" "),a("span",[t._l(t.selected_models,function(e,s){return a("em",[t._v("\n                       "+t._s(e.name)+"\n                       "),a("i",{on:{click:function(a){t.clearSubItem("model",e.id)}}},[t._v("x")])])}),t._v(" "),a("font",{on:{click:function(e){t.clearItem("model")}}},[t._v("重置条件")])],2)]):t._e()]),t._v(" "),a("el-tabs",{attrs:{type:"border-card"},model:{value:t.selectedSubTab,callback:function(e){t.selectedSubTab=e},expression:"selectedSubTab"}},[a("el-tab-pane",{attrs:{name:"manf"}},[a("span",{attrs:{slot:"label"},slot:"label"},[t._v("厂商")]),t._v(" "),a("dl",{staticClass:"popover-main_va"},[a("dt",[t._l(t.baseInfo.manf_brand,function(e,s){return a("em",{class:{on:s==t.letter_selected.manfsBoxForIndex},on:{click:function(e){t.selectLetter("manfsBoxForIndex",s)}}},[t._v(t._s(s))])}),t._v(" "),a("span",[a("font",[t._v("搜索")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.manfName,expression:"manfName"}],class:{on:t.lookErrorClass},attrs:{type:"text"},domProps:{value:t.manfName},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.lookManf("manfsBoxForIndex")},input:function(e){e.target.composing||(t.manfName=e.target.value)}}}),t._v(" "),a("i",{staticClass:"iconfont icon-sousuo",on:{click:function(e){t.lookManf("manfsBoxForIndex")}}})],1)],2),t._v(" "),a("dd",{attrs:{id:"manfsBoxForIndex"}},[a("el-checkbox-group",{attrs:{size:"mini",max:10},model:{value:t.selected_manf_ids,callback:function(e){t.selected_manf_ids=e},expression:"selected_manf_ids"}},t._l(t.baseInfo.manf_brand,function(e,s){return a("dl",[a("dt",{attrs:{"data-key":s}},[t._v(t._s(s))]),t._v(" "),a("dd",t._l(e,function(e,s){return a("span",{staticClass:"radio-item"},[a("el-checkbox",{key:e.id,class:{on:t.matchName(t.manfName,e.manf_name)&&t.lookManfId==e.id},attrs:{label:e.id}},[t._v(t._s(e.manf_name))])],1)}))])}))],1)])]),t._v(" "),t.brands_grouped.length>0?a("el-tab-pane",{attrs:{name:"brand"}},[a("span",{attrs:{slot:"label"},slot:"label"},[t._v("品牌")]),t._v(" "),t.selected_manfs.length>0?a("div",{staticClass:"popover-main_vb"},t._l(t.brands_grouped,function(e,s){return a("dl",[a("dt",[t._v(t._s(e.manf_name))]),t._v(" "),a("dd",[a("el-checkbox-group",{model:{value:t.selected_brand_ids,callback:function(e){t.selected_brand_ids=e},expression:"selected_brand_ids"}},t._l(e.brand,function(e,s){return a("el-checkbox-button",{key:e.id,attrs:{label:e.id}},[t._v(t._s(e.brand_name))])}))],1)])})):t._e()]):t._e(),t._v(" "),t.models_grouped.length>0?a("el-tab-pane",{attrs:{name:"model"}},[a("span",{attrs:{slot:"label"},slot:"label"},[t._v("车型")]),t._v(" "),t.selected_brands.length>0?a("div",{staticClass:"popover-main_vb"},t._l(t.models_grouped,function(e,s){return a("dl",[a("dt",[t._v(t._s(e.brand_name))]),t._v(" "),a("dd",t._l(e.model,function(e,s){return a("span",{class:{on:t.selected_model_ids.includes(e._id)},attrs:{title:e.model_name},on:{click:function(a){t.checkModel(e._id)}}},[t._v(t._s(e.model_name))])}))])})):t._e()]):t._e()],1),t._v(" "),a("div",{staticClass:"popover-footer"},[a("a",{attrs:{href:"javascript:void(0);"},on:{click:t.cancelIndexData}},[t._v("取消")]),t._v(" "),a("a",{staticClass:"on",attrs:{href:"javascript:void(0);"},on:{click:t.submitIndexData}},[t._v("确定")])])],1)])],1):t._e(),t._v(" "),a("div",{staticClass:"right-box"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("首页")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/news"}}},[t._v("新闻舆情")])],1)],1)],1),t._v(" "),a("bi-tabs",{on:{tabsClick:t.tabsClick}},[a("bi-tabs-item",{attrs:{targetId:"tabsindex",selected:"index"==t.selectedTab}},[t._v("新闻首页")]),t._v(" "),a("bi-tabs-item",{attrs:{targetId:"tabslist",selected:"list"==t.selectedTab}},[t._v("新闻列表")]),t._v(" "),a("bi-tabs-item",{attrs:{targetId:"tabssearch",selected:"search"==t.selectedTab}},[t._v("新闻搜索")])],1)],1),t._v(" "),a("div",{staticClass:"content-main"},[a("div",{attrs:{id:"tabsindex"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:17}},[a("bi-panel",[a("div",{staticClass:"focus-point"},[t.tuijian.length?a("ul",{directives:[{name:"loading",rawName:"v-loading",value:t.loading.tuijianIndex,expression:"loading['tuijianIndex']"}]},t._l(t.tuijian,function(e,s){return a("li",[a("figure",[a("a",{attrs:{href:"javascript:void(0)"}},[a("img",{attrs:{src:e.pic&&e.pic[0]?e.pic[0]:"/static/images/nocar.png",alt:"暂无图片"}})]),t._v(" "),a("figcaption",[a("div",[a("h2",[a("a",{attrs:{href:"client.html#/news/detail?id="+e.id,target:"_blank",title:e.news_title}},[t._v(t._s(e.news_title))])]),t._v(" "),a("p",[t._v(t._s(e.text))])])])])])})):t._e(),t._v(" "),a("span",{staticClass:"change-info",on:{click:function(e){t.getTuijian("Index",-1,t.pageTuijian++)}}},[t._v("换一批")])])])],1),t._v(" "),a("el-col",{attrs:{span:7}},[a("bi-panel",{attrs:{"title-type":"border"}},[a("template",{slot:"title"},[a("font",{staticClass:"fs16"},[t._v("热门文章")])],1),t._v(" "),a("template",{slot:"operating"},[a("a",{staticClass:"more-btn",attrs:{href:"javascript:;"},on:{click:function(e){t.getHot("Index",t.pageHotIndex++)}}},[t._v("换一批")])]),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading.hotIndex,expression:"loading['hotIndex']"}],staticClass:"headline"},t._l(t.hotNewsIndex,function(e,s){return a("p",[a("a",{attrs:{href:"client.html#/news/detail?id="+e.id,target:"_blank"}},[t._v(t._s(e.news_title))]),t._v(" "),0==s?a("span",[t._v(t._s(e.text))]):t._e()])}))],2)],1)],1),t._v(" "),a("div",{staticClass:"cont-list"},[a("draggable",{staticClass:"list-group",attrs:{element:"div",options:t.panelOptions,move:t.onMove},on:{start:t.onStart,end:t.onDragEnd},model:{value:t.panels,callback:function(e){t.panels=e},expression:"panels"}},[a("transition-group",{attrs:{type:"transition",name:"panel-list",tag:"div"}},t._l(t.panels,function(e){return a("bi-panel",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"element.show"}],key:e.type_id,staticClass:"list",attrs:{operating:!1,panel_key:e.type_id,cls:{"list-group-item":t.editable},"title-type":"border"},on:{closePanel:function(a){t.closePanel(e.type_id)}}},[a("template",{slot:"title"},[a("font",[t._v(t._s(e.name))])],1),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading.box[e.type_id],expression:"loading['box'][element.type_id]"}],staticStyle:{height:"376px",overflow:"hidden"}},[t.boxData[e.type_id]&&t.boxData[e.type_id].data&&t.boxData[e.type_id].data[0].rows?a("ul",[t._l(t.boxData[e.type_id].data[0].rows,function(e){return a("li",[a("a",{attrs:{href:"client.html#/news/detail?id="+e.id,target:"_blank",title:e.news_title}},[t._v(t._s(e.news_title))]),t._v(" "),a("cite",[t._v(t._s(t._f("date")(e.post_time)))])])}),t._v(" "),a("a",{staticClass:"more",attrs:{href:"#/news?tab=list&tid="+e.type_id,target:"_blank"}},[t._v("查看更多")])],2):a("div",{staticStyle:{padding:"0 20px"}},[t.loading.box[e.type_id]?t._e():a("bi-empty",{attrs:{"show-result":!1}},[a("template",{slot:"tips"},[t._v("暂时没有相关数据")])],2)],1)])],2)}))],1)],1)],1),t._v(" "),a("div",{staticStyle:{display:"none"},attrs:{id:"tabslist"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:18}},[a("bi-panel",[a("div",{staticClass:"classification"},[a("ul",[a("li",{staticClass:"category"},[a("span",{staticClass:"left"},[a("font",{class:{on:0==t.type_id},attrs:{href:"javascript:void(0)"},on:{click:function(e){t.changeType(0)}}},[t._v("全部")]),t._v(" "),a("font",{class:{on:-2==t.type_id},attrs:{href:"javascript:void(0)"},on:{click:function(e){t.changeType(-2)}}},[t._v("个性化推荐")]),t._v(" "),t._l(t.news_types,function(e,s){return s<=9?a("font",{key:e._id,class:{on:t.type_id==e._id},attrs:{href:"javascript:void(0)"},on:{click:function(a){t.changeType(e._id)}}},[t._v(t._s(e.type_name))]):t._e()})],2),t._v(" "),a("el-popover",{attrs:{placement:"bottom-end",trigger:"click"},model:{value:t.typeBoxOpen,callback:function(e){t.typeBoxOpen=e},expression:"typeBoxOpen"}},[a("em",{attrs:{slot:"reference"},slot:"reference"},[t._v("更多 "),a("i",{class:["iconfont",t.typeBoxOpen?"icon-fold ":"icon-xiao73"]})]),t._v(" "),a("div",{staticClass:"classification-popover-cont"},t._l(t.news_types,function(e,s){return a("a",{key:e._id,class:{on:t.type_id==e._id},attrs:{href:"javascript:void(0)"},on:{click:function(a){t.changeType(e._id,s)}}},[t._v(t._s(e.type_name))])}))])],1),t._v(" "),a("li",{staticClass:"sort"},[a("span",[t._v("\n                      浏览模式："),a("em",{class:{on:0==t.showClass},on:{click:function(e){t.showClass=0}}},[a("i",{staticClass:"iconfont icon-apps"}),t._v(" 标题模式")]),t._v(" "),a("em",{class:{on:1==t.showClass},on:{click:function(e){t.showClass=1}}},[a("i",{staticClass:"iconfont icon-sort"}),t._v(" 图文模式")])]),t._v(" "),a("span",[t._v("\n                      排序："),a("em",{class:{on:1==t.sortClass},on:{click:function(e){t.changeSort(1)}}},[a("i",{staticClass:"iconfont icon-time"}),t._v(" 按时间排序")]),t._v(" | "),a("em",{class:{on:2==t.sortClass},on:{click:function(e){t.changeSort(2)}}},[a("i",{staticClass:"iconfont icon-favor"}),t._v(" 按热度排序")])])])]),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading.list,expression:"loading['list']"}],staticStyle:{"min-height":"300px"}},[t.listData.length>0?[a("ol",{staticClass:"caption-mode",style:{display:0==t.showClass?"block":"none"}},t._l(t.listData,function(e,s){return a("li",[e.news_type?a("font",[t._v("【"+t._s(e.news_type.type_name)+"】")]):a("font",[t._v("【综合】")]),t._v(" "),a("a",{attrs:{href:"client.html#/news/detail?id="+e.id,target:"_blank"}},[t._v(t._s(e.news_title))]),t._v(" "),a("cite",[t._v(t._s(t._f("date")(e.post_time)))])],1)})),t._v(" "),a("ol",{staticClass:"graphic-mode",style:{display:1==t.showClass?"block":"none"}},t._l(t.listData,function(e,s){return a("li",[a("span",[a("a",{attrs:{href:"client.html#/news/detail?id="+e.id,target:"_blank"}},[a("img",{attrs:{src:e.pic&&e.pic[0]?e.pic[0]:"/static/images/nocar.png",alt:"暂无图片"}})])]),t._v(" "),a("div",[a("h2",[a("a",{attrs:{href:"client.html#/news/detail?id="+e.id,target:"_blank"}},[t._v(t._s(e.news_title))]),t._v(" "),a("p",[t._v(t._s(e.text))])]),t._v(" "),e.news_type?a("p",[t._v("\n                            分类："),a("a",{attrs:{href:"client.html#/news?tab=list&tid="+e.news_type._id,target:"_blank"}},[t._v(t._s(e.news_type.type_name))]),t._v(" "),a("cite",[t._v(t._s(t._f("date")(e.post_time)))])]):t._e()])])})),t._v(" "),a("div",{staticClass:"pagination-box"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","prev-text":"上一页","next-text":"下一页","current-page":t.page,"page-size":40,total:t.listRecords},on:{"current-change":t.getListData,"update:currentPage":function(e){t.page=e}}})],1)]:t._e(),t._v(" "),0==t.listData.length?a("div",[t.loading.list?t._e():a("bi-empty",{attrs:{"show-result":!0}},[a("template",{slot:"tips"})],2)],1):t._e()],2)])])],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("bi-panel",{attrs:{"title-type":"border"}},[a("template",{slot:"title"},[a("font",[t._v("推荐新闻")])],1),t._v(" "),a("ul",{directives:[{name:"loading",rawName:"v-loading",value:t.loading.tuijianList,expression:"loading['tuijianList']"}],staticClass:"recommend",staticStyle:{"min-height":"150px"}},t._l(t.listTuijian,function(e,s){return a("li",[0==s?a("figure",[a("a",{attrs:{href:"client.html#/news/detail?id="+e.id,target:"_blank"}},[a("img",{attrs:{src:e.pic&&e.pic[0]?e.pic[0]:"/static/images/nocar.png",alt:"暂无图片"}})]),t._v(" "),a("figcaption",[a("h3",[a("a",{attrs:{href:"client.html#/news/detail?id="+e.id,target:"_blank"}},[t._v(t._s(e.news_title))])]),t._v(" "),a("p",[t._v("["+t._s(e.news_type.type_name)+"] ]  "+t._s(t._f("date")(e.post_time)))])])]):a("dl",[a("dt",[a("a",{attrs:{href:"client.html#/news/detail?id="+e.id,target:"_blank"}},[a("img",{attrs:{src:e.pic&&e.pic[0]?e.pic[0]:"/static/images/nocar.png",alt:"暂无图片"}})])]),t._v(" "),a("dd",[a("a",{attrs:{href:"client.html#/news/detail?id="+e.id,target:"_blank"}},[t._v(t._s(e.news_title))]),t._v(" "),a("p",[t._v(t._s(e.text))])])])])}))],2),t._v(" "),a("bi-panel",{attrs:{"title-type":"border"}},[a("template",{slot:"title"},[a("font",{staticClass:"fs16"},[t._v("热门文章")])],1),t._v(" "),a("template",{slot:"operating"},[a("a",{staticClass:"more-btn",attrs:{href:"javascript:;"},on:{click:function(e){t.getHot("List",t.pageHotList++)}}},[t._v("换一批")])]),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading.hotList,expression:"loading['hotList']"}],staticClass:"headline"},t._l(t.hotNewsList,function(e,s){return a("p",[a("a",{attrs:{href:"client.html#/news/detail?id="+e.id,target:"_blank"}},[t._v(t._s(e.news_title))]),t._v(" "),a("span",[t._v(t._s(e.text))])])}))],2)],1)],1)],1)]),t._v(" "),a("div",{staticStyle:{display:"none"},attrs:{id:"tabssearch"}},[a("div",{staticClass:"search"},[a("h2",{directives:[{name:"show",rawName:"v-show",value:t.where.length>0,expression:"where.length > 0"}],staticClass:"panel-selected"},[t._v("\n            当前已选条件：\n            "),t._l(t.where,function(e,s){return a("span",[t._v(" "+t._s(e.name)+" "),a("i",{staticClass:"iconfont icon-close",on:{click:function(a){t.deleteItem(e.type)}}})])}),t._v(" "),a("font",{on:{click:function(e){t.deleteAll()}}},[t._v("重置条件")])],2),t._v(" "),a("bi-panel",{directives:[{name:"show",rawName:"v-show",value:2!=t.searchType,expression:"searchType != 2"}],attrs:{"title-type":"border"}},[a("template",{slot:"title"},[a("font",[t._v("按条件搜索")])],1),t._v(" "),a("div",{staticClass:"search-condition"},[a("div",{staticClass:"clear",staticStyle:{"margin-bottom":"20px"}},[a("div",{staticClass:"popover-box",class:{on:t.manfOnClass&&!t.manfNotClass,ban:t.manfNotClass}},[a("label",{staticClass:"popover-label"},[t._v("请选择厂商")]),t._v(" "),a("el-popover",{attrs:{placement:"bottom-start","popper-class":"padding0",disabled:t.manfNotClass},on:{show:function(e){t.showPopover("manfsBoxForSearch")},hide:function(e){t.hidePopover("manfsBoxForSearch")}},model:{value:t.manfOnClass,callback:function(e){t.manfOnClass=e},expression:"manfOnClass"}},[a("span",{staticClass:"popover-input",attrs:{slot:"reference"},slot:"reference"},[0==t.selected_manfs.length?a("em",[t._v("全部")]):a("em",[t._v("\n                        已选择了\n                        "),t._l(t.selected_manfs,function(e,a){return[t._v(t._s(e.name)+"\n                        ")]})],2),t._v(" "),a("i",{staticClass:"iconfont icon-xiao73"})]),t._v(" "),a("div",{staticClass:"news-search-popover-cont",staticStyle:{width:"600px"}},[a("h4",{staticClass:"popover-title"},[a("cite",[t._v("当前已选择：")]),t._v(" "),a("span",[t._l(t.selected_manfs,function(e,s){return a("em",{attrs:{manfId:e.id}},[t._v(t._s(e.name)),a("i",{on:{click:function(a){t.clearSubItem("manf",e.id)}}},[t._v("x")])])}),t._v(" "),a("font",{on:{click:function(e){t.clearItem("manf")}}},[t._v("重置条件")])],2)]),t._v(" "),a("dl",{staticClass:"popover-main_va"},[a("dt",[t._l(t.baseInfo.manf_brand,function(e,s){return a("em",{class:{on:s==t.letter_selected.manfsBoxForSearch},on:{click:function(e){t.selectLetter("manfsBoxForSearch",s)}}},[t._v(t._s(s))])}),t._v(" "),a("span",[a("font",[t._v("搜索")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.manfName,expression:"manfName"}],class:{on:t.lookErrorClass},attrs:{type:"text"},domProps:{value:t.manfName},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.lookManf("manfsBoxForSearch")},input:function(e){e.target.composing||(t.manfName=e.target.value)}}}),t._v(" "),a("i",{staticClass:"iconfont icon-sousuo",on:{click:function(e){t.lookManf("manfsBoxForSearch")}}})],1)],2),t._v(" "),a("dd",{attrs:{id:"manfsBoxForSearch"}},[a("el-checkbox-group",{attrs:{size:"mini",max:10},model:{value:t.selected_manf_ids,callback:function(e){t.selected_manf_ids=e},expression:"selected_manf_ids"}},t._l(t.baseInfo.manf_brand,function(e,s){return a("dl",[a("dt",{attrs:{"data-key":s}},[t._v(t._s(s))]),t._v(" "),a("dd",t._l(e,function(e,s){return a("span",{staticClass:"radio-item"},[a("el-checkbox",{key:e.id,class:{on:t.matchName(t.manfName,e.manf_name)&&t.lookManfId==e.id},attrs:{label:e.id}},[t._v(t._s(e.manf_name))])],1)}))])}))],1)]),t._v(" "),a("div",{staticClass:"popover-footer"},[a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.cancelManf()}}},[t._v("取消")]),t._v(" "),a("a",{staticClass:"on",attrs:{href:"javascript:;"},on:{click:function(e){t.manfOnClass=!1}}},[t._v("确定")])])])])],1),t._v(" "),a("div",{staticClass:"popover-box",class:{on:t.brandOnClass}},[a("label",{staticClass:"popover-label"},[t._v("请选择品牌")]),t._v(" "),a("el-popover",{attrs:{placement:"bottom-start","popper-class":"padding0"},on:{show:function(e){t.showPopover("brandsBoxForSearch")},hide:function(e){t.hidePopover("brandsBoxForSearch")}},model:{value:t.brandOnClass,callback:function(e){t.brandOnClass=e},expression:"brandOnClass"}},[a("span",{staticClass:"popover-input",attrs:{slot:"reference"},slot:"reference"},[0==t.brands_grouped.length||0==t.selected_brands.length?a("em",[t._v("全部")]):a("em",[t._v("已选择了\n                        "),t._l(t.selected_brands,function(e,a){return[t._v("\n                          "+t._s(e.name)+"\n                        ")]})],2),t._v(" "),a("i",{staticClass:"iconfont icon-xiao73"})]),t._v(" "),a("div",{staticClass:"news-search-popover-cont",staticStyle:{"min-width":"440px","max-width":"600px"}},[a("h4",{staticClass:"popover-title"},[a("cite",[t._v("当前已选择：")]),t._v(" "),a("span",[t._l(t.selected_brands,function(e,s){return a("em",{attrs:{brandId:e.id}},[t._v(t._s(e.name)),a("i",{on:{click:function(a){t.clearSubItem("brand",e.id)}}},[t._v("x")])])}),t._v(" "),a("font",{on:{click:function(e){t.clearItem("brand")}}},[t._v("重置条件")])],2)]),t._v(" "),t.selected_manfs.length>0?a("div",{staticClass:"popover-main_vb"},t._l(t.brands_grouped,function(e,s){return a("dl",[a("dt",[t._v(t._s(e.manf_name))]),t._v(" "),a("dd",[a("el-checkbox-group",{model:{value:t.selected_brand_ids,callback:function(e){t.selected_brand_ids=e},expression:"selected_brand_ids"}},t._l(e.brand,function(e,s){return a("el-checkbox-button",{key:e.id,attrs:{label:e.id}},[t._v(t._s(e.brand_name))])}))],1)])})):a("div",{staticClass:"popover-main_va"},[a("dt",t._l(t.brands_grouped,function(e,s){return a("em",{class:{on:s==t.letter_selected.brandsBoxForSearch},staticStyle:{"margin-right":"10px"},on:{click:function(e){t.selectLetter("brandsBoxForSearch",s)}}},[t._v(t._s(s))])})),t._v(" "),a("dd",{attrs:{id:"brandsBoxForSearch"}},[a("el-checkbox-group",{attrs:{size:"mini",max:10},model:{value:t.selected_brand_ids,callback:function(e){t.selected_brand_ids=e},expression:"selected_brand_ids"}},t._l(t.brands_grouped,function(e,s){return a("dl",[a("dt",{attrs:{"data-key":s}},[t._v(t._s(s))]),t._v(" "),a("dd",t._l(e,function(e,s){return a("span",{staticClass:"radio-item"},[a("el-checkbox",{key:e.id,attrs:{label:e.id}},[t._v(t._s(e.brand_name))])],1)}))])}))],1)]),t._v(" "),a("div",{staticClass:"popover-footer"},[a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.cancelBrand()}}},[t._v("取消")]),t._v(" "),a("a",{staticClass:"on",attrs:{href:"javascript:;"},on:{click:function(e){t.brandOnClass=!1}}},[t._v("确定")])])])])],1),t._v(" "),a("div",{staticClass:"popover-box",class:{on:t.modelOnClass&&!t.modelNotClass,ban:t.modelNotClass}},[a("label",{staticClass:"popover-label"},[t._v("请选择车型")]),t._v(" "),a("el-popover",{attrs:{placement:"bottom-start","popper-class":"padding0",disabled:t.modelNotClass},model:{value:t.modelOnClass,callback:function(e){t.modelOnClass=e},expression:"modelOnClass"}},[a("span",{staticClass:"popover-input",attrs:{slot:"reference"},slot:"reference"},[0==t.models_grouped.length||0==t.selected_models.length?a("em",[t._v("全部")]):a("em",[t._v("已选择了\n                        "),t._l(t.selected_models,function(e,a){return[t._v("\n                          "+t._s(e.name)+"\n                        ")]})],2),t._v(" "),a("i",{staticClass:"iconfont icon-xiao73"})]),t._v(" "),a("div",{staticClass:"news-search-popover-cont",staticStyle:{"min-width":"440px","max-width":"520px"}},[a("h4",{staticClass:"popover-title"},[a("cite",[t._v("当前已选择：")]),t._v(" "),a("span",[t._l(t.selected_models,function(e,s){return a("em",{attrs:{modelId:e.id}},[t._v(t._s(e.name)),a("i",{on:{click:function(a){t.clearSubItem("model",e.id)}}},[t._v("x")])])}),t._v(" "),a("font",{on:{click:function(e){t.clearItem("model")}}},[t._v("重置条件")])],2)]),t._v(" "),t.selected_brands.length>0?a("div",{staticClass:"popover-main_vb"},t._l(t.models_grouped,function(e,s){return a("dl",[a("dt",[t._v(t._s(e.brand_name))]),t._v(" "),a("dd",t._l(e.model,function(e,s){return a("span",{class:{on:t.selected_model_ids.includes(e._id)},attrs:{title:e.model_name},on:{click:function(a){t.checkModel(e._id)}}},[t._v(t._s(e.model_name))])}))])})):t._e(),t._v(" "),a("div",{staticClass:"popover-footer"},[a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.cancelModel()}}},[t._v("取消")]),t._v(" "),a("a",{staticClass:"on",attrs:{href:"javascript:;"},on:{click:function(e){t.modelOnClass=!1}}},[t._v("确定")])])])])],1),t._v(" "),a("div",{staticClass:"popover-box",class:{active:t.typeActiveClass,on:t.typeOnClass}},[a("label",{staticClass:"popover-label"},[t._v("请选择新闻类型")]),t._v(" "),a("el-select",{attrs:{placeholder:"全部",value:"全部"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},t._l(t.types_map,function(t,e){return a("el-option",{key:t._id,attrs:{label:t.type_name,value:t._id}})}))],1),t._v(" "),a("div",{staticClass:"popover-box",class:{active:t.sourceActiveClass,on:t.sourceOnClass}},[a("label",{staticClass:"popover-label"},[t._v("请选择信息来源")]),t._v(" "),a("el-select",{attrs:{placeholder:"全部"},model:{value:t.source,callback:function(e){t.source=e},expression:"source"}},t._l(["全部"].concat(t.baseInfo.news_source),function(t,e){return a("el-option",{key:t,attrs:{label:t,value:t}})}))],1)]),t._v(" "),a("div",{staticClass:"clear",staticStyle:{"margin-bottom":"20px"}},[a("p",{staticClass:"segmentation"},[t._v("请选择日期")]),t._v(" "),a("el-date-picker",{staticStyle:{width:"34%","min-width":"380px"},attrs:{type:"daterange",format:"yyyy/MM/dd","value-format":"yyyyMMdd",align:"left","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.pickerOptions},model:{value:t.dateRange,callback:function(e){t.dateRange=e},expression:"dateRange"}})],1),t._v(" "),a("a",{staticClass:"submit",attrs:{href:"javascript:void(0);"},on:{click:function(e){t.submitSearchData(1)}}},[t._v(t._s(t.searchStatusText))]),t._v(" "),a("a",{directives:[{name:"show",rawName:"v-show",value:1==t.searchType,expression:"searchType==1"}],staticClass:"submit-back",attrs:{href:"javascript:void(0);"},on:{click:function(e){t.gotoback()}}},[t._v("返回上一步")])])],2),t._v(" "),a("bi-panel",{directives:[{name:"show",rawName:"v-show",value:1!=t.searchType,expression:"searchType != 1"}],attrs:{"title-type":"border"}},[a("template",{slot:"title"},[a("font",[t._v("按关键词搜索")])],1),t._v(" "),a("div",{staticClass:"search-keyword"},[a("p",{staticClass:"segmentation"},[t._v("请输入关键字")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.key_word,expression:"key_word"}],attrs:{type:"text",placeholder:"如：通用汽车"},domProps:{value:t.key_word},on:{input:function(e){e.target.composing||(t.key_word=e.target.value)}}}),t._v(" "),a("a",{staticClass:"submit",attrs:{href:"javascript:void(0);"},on:{click:function(e){t.submitSearchData(2)}}},[t._v(t._s(t.searchStatusText))]),t._v(" "),a("a",{directives:[{name:"show",rawName:"v-show",value:2==t.searchType,expression:"searchType==2"}],staticClass:"submit-back",attrs:{href:"javascript:void(0);"},on:{click:function(e){t.gotoback()}}},[t._v("返回上一步")])])],2),t._v(" "),a("h2",{directives:[{name:"show",rawName:"v-show",value:""!=t.searchType,expression:"searchType != ''"}],staticClass:"panel-selected"},[t._v("\n            为您找到 "),a("b",{staticClass:"font-red"},[t._v(t._s(t.searchRecords))]),t._v(" 个结果\n          ")]),t._v(" "),a("bi-panel",{directives:[{name:"show",rawName:"v-show",value:""!=t.searchType,expression:"searchType != ''"},{name:"loading",rawName:"v-loading",value:t.loading.search,expression:"loading['search']"}],staticStyle:{"min-height":"300px","background-color":"#fff"},attrs:{"title-type":"border"}},[a("div",[t.searchRecords>0?a("div",{staticClass:"search-result"},[a("table",[a("thead",[a("tr",[a("th",{attrs:{width:"5%"}},[t._v("ID")]),t._v(" "),a("th",{attrs:{width:"9%"}},[t._v("ID-厂商")]),t._v(" "),a("th",{attrs:{width:"9%"}},[t._v("ID-品牌")]),t._v(" "),a("th",{attrs:{width:"9%"}},[t._v("ID-车型")]),t._v(" "),a("th",{attrs:{width:"7%"}},[t._v("新闻类别")]),t._v(" "),a("th",{attrs:{width:"8%"}},[t._v("发布时间")]),t._v(" "),a("th",[t._v("标题")]),t._v(" "),a("th",{attrs:{width:"12%"}},[t._v("信息来源")]),t._v(" "),a("th",{attrs:{width:"8%"}},[t._v("热度")])])]),t._v(" "),a("tbody",t._l(t.searchData,function(e,s){return a("tr",[a("td",[t._v(t._s(s+1))]),t._v(" "),a("td",[e.manf&&e.manf[0]?a("p",[t._v(t._s(e.manf[0].id)+"-"+t._s(e.manf[0].manf_name))]):a("p",[t._v("暂无厂商")])]),t._v(" "),a("td",[e.brand&&e.brand[0]?a("p",[t._v("\n                          "+t._s(e.brand[0].id)+"-"+t._s(e.brand[0].brand_name)+"\n                        ")]):a("p",[t._v("暂无品牌")])]),t._v(" "),a("td",[e.model&&e.model[0]?a("p",[t._v(t._s(e.model[0]._id)+"-"+t._s(e.model[0].model_name))]):a("p",[t._v("暂无车型")])]),t._v(" "),a("td",[e.news_type?a("a",{attrs:{href:"#/news?tab=list&tid="+e.news_type._id}},[t._v(t._s(e.news_type.type_name))]):a("em",[t._v("暂无分类")])]),t._v(" "),a("td",[t._v(t._s(t._f("date")(e.post_time)))]),t._v(" "),a("td",[a("a",{staticClass:"text-hide",attrs:{href:"client.html#/news/detail?id="+e.id,target:"_blank"}},[t._v(t._s(e.news_title))])]),t._v(" "),a("td",[t._v(t._s(e.source))]),t._v(" "),a("td",[a("div",{staticClass:"progress-box"},[a("bi-progress",{attrs:{percentage:e.heat,color:"#ff8838",height:"8","show-text":!1}})],1)])])}))]),t._v(" "),a("div",{staticClass:"pagination-box"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","prev-text":"上一页","next-text":"下一页","current-page":t.searchPage,"page-size":20,total:t.searchRecords},on:{"current-change":t.getSearchData,"update:currentPage":function(e){t.searchPage=e}}})],1)]):a("div",{staticClass:"search-result"},[t.loading.search?t._e():[a("bi-empty",[t._l(t.where,function(e,s){return a("em",[t._v(" "+t._s(e.name)+" ")])}),t._v(" "),t._t("tips")],2),t._v(" "),a("div",{staticClass:"interested"},[a("p",[t._v("猜你感兴趣:")]),t._v(" "),a("a",{attrs:{href:"#"}},[t._v("国内新车")]),t._v(" "),a("a",{attrs:{href:"#"}},[t._v("生活八卦")]),t._v(" "),a("a",{attrs:{href:"#"}},[t._v("行业动态")]),t._v(" "),a("a",{attrs:{href:"#"}},[t._v("新车资讯")]),t._v(" "),a("a",{attrs:{href:"#"}},[t._v("独家新闻")])])]],2)])])],1)])])},staticRenderFns:[]};var xt=a("Z0/y")(kt,Ct,!1,function(t){a("eH7Z")},"data-v-176748ea",null).exports,Tt={name:"newsDetail",mixins:[g.a],data:function(){return{news_id:this.$route.query.id||0,selectedTab:this.$route.query.tab||"index",baseInfo:{},dataDetail:{news_type:{_id:0,type_name:""}},tuijian:{},toutiao:{},sort:1,sortClass:1,page:1,pageSize:20,pageRecommend:1,totalPageRecommend:0,type_id:"",typeClass:0,heat:0}},mounted:function(){var t=this;this.getToken(function(){t.getBaseInfo()})},methods:{tabsClick:function(t){var e=t.replace("tabs","");this.$router.push({query:{tab:e}}),this.selectedTab=e},getBaseInfo:function(){var t=this;this.$request.get(this.$interface.GET_NEWS_BASE_INFO,{token:this.token},function(e){t.baseInfo=e.data[0],t.loadData()},this.failure)},getTuijian:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$request.get(this.$interface.GET_NEWS_RECOMMEND,{token:this.token,news_id:this.news_id,rows:5,orderby:1},function(e){t.tuijian=e.data[0].rows||[]},this.failure)},getDetail:function(){var t=this;this.$request.get(this.$interface.GET_NEWS_DETAIL,{token:this.token,news_id:this.news_id},function(e){t.dataDetail=e.data[0]||{},t.heat=5*t.dataDetail.heat},this.failure)},getLike:function(){var t=this;this.$request.get(this.$interface.GET_NEWS_PAGE,{token:this.token,news_id:this.news_id,type_id:-2,rows:5,orderby:1},function(e){t.toutiao=e.data[0].rows||[]})},loadData:function(){this.getDetail(),this.getTuijian(),this.getLike()}},components:{BiTitle:m.a,BiPanel:v.a}},St={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"news-detail"},[a("div",{staticClass:"content-top",attrs:{id:"content-top"}},[a("div",{staticClass:"pageinfo"},[a("bi-title",{attrs:{columnTitle:"新闻舆情",columnIcon:"icon-bingtu",columnText:"专业的汽车阅读平台"}}),t._v(" "),a("div",{staticClass:"right-box"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("首页")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/news"}}},[t._v("新闻舆情")]),t._v(" "),t.dataDetail.news_type?a("el-breadcrumb-item",{attrs:{to:{path:"/news",query:{tab:"list",tid:t.dataDetail.news_type._id}}}},[t._v(t._s(t.dataDetail.news_type.type_name))]):t._e(),t._v(" "),a("el-breadcrumb-item",[a("strong",[t._v(t._s(t.dataDetail.news_title))])])],1)],1)],1)]),t._v(" "),a("div",{staticClass:"content-main news-detail"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:18}},[a("bi-panel",[a("div",{staticClass:"left"},[a("h1",[t._v(t._s(t.dataDetail.news_title))]),t._v(" "),a("h2",[t._v("\n                发布时间："+t._s(t.dataDetail.post_time)+"\n                新闻类别：\n                "),t.dataDetail.news_type?a("a",{attrs:{href:"#/news?tab=list&tid="+t.dataDetail.news_type._id,target:"_blank"}},[t._v(t._s(t.dataDetail.news_type.type_name))]):a("em",[t._v("暂无")]),t._v("\n              　来源: "+t._s(t.dataDetail.source)+"\n                作者："+t._s(t.dataDetail.author)+"\n                热度：\n                "),a("span",{staticStyle:{display:"inline-block","vertical-align":"text-top"}},[a("el-rate",{attrs:{disabled:"","text-color":"#ff9900","score-template":"{value}"},model:{value:t.heat,callback:function(e){t.heat=e},expression:"heat"}})],1)]),t._v(" "),t.dataDetail.tag?a("h3",[t._v("\n                关键词：\n                "),t._l(t.dataDetail.tag,function(e,s){return a("a",{attrs:{href:"#/news?tab=list",target:"_blank"}},[t._v(t._s(e))])})],2):t._e(),t._v(" "),a("div",{staticClass:"cont",domProps:{innerHTML:t._s(t.dataDetail.html_file)}}),t._v(" "),a("h4",[t._v('版权声明：凡本网注明来源为"'+t._s(t.dataDetail.source)+'"，版权均属于'+t._s(t.dataDetail.source)+'，转载请注明"来源：'+t._s(t.dataDetail.source)+'"。本网转载自其它媒体的信息，不代表本网观点，转载均有出处，对转载文章不存在侵权等法律问题。')])])])],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("bi-panel",{attrs:{"title-type":"border"}},[a("template",{slot:"title"},[a("font",[t._v("推荐新闻")])],1),t._v(" "),a("ul",{staticClass:"recommend"},t._l(t.tuijian,function(e,s){return a("li",[0==s?a("figure",[a("a",{attrs:{href:"#/news/detail?id="+e.id,target:"_blank"}},[a("img",{attrs:{src:e.pic&&e.pic[0]?e.pic[0]:"/static/images/nocar.png",alt:"暂无图片"}})]),t._v(" "),a("figcaption",[a("h3",[a("a",{attrs:{href:"#/news/detail?id="+e.id,target:"_blank"}},[t._v(t._s(e.text))])]),t._v(" "),a("p",[t._v("["+t._s(e.source)+"]  "+t._s(e.post_time))])])]):a("dl",[a("dt",[a("a",{attrs:{href:"#/news/detail?id="+e.id,target:"_blank"}},[a("img",{attrs:{src:e.pic&&e.pic[0]?e.pic[0]:"/static/images/nocar.png",alt:"暂无图片"}})])]),t._v(" "),a("dd",[a("a",{attrs:{href:"#/news/detail?id="+e.id,target:"_blank"}},[t._v(t._s(e.news_title))]),t._v(" "),a("p",[t._v(t._s(e.text))])])])])}))],2),t._v(" "),a("bi-panel",{attrs:{"title-type":"border",id:"youlike"}},[a("template",{slot:"title"},[a("font",{staticClass:"fs16"},[t._v("猜你喜欢")])],1),t._v(" "),a("template",{slot:"operating"},[a("a",{staticClass:"more-btn",attrs:{href:"#/news?tab=list&tid=-2",target:"_blank"}},[t._v("更多")])]),t._v(" "),a("div",{staticClass:"youlike"},t._l(t.toutiao,function(e,s){return a("p",[a("a",{attrs:{href:"#/news/detail?id="+e.id,target:"_blank"}},[t._v(t._s(e.news_title))]),t._v(" "),a("span",[t._v(t._s(e.text))])])}))],2)],1)],1)],1)])},staticRenderFns:[]};var Et=[{path:"scene",component:h},{path:"scene/model",component:S},{path:"scene/market",component:U},{path:"tools",component:K},{path:"tools/submarket",component:Q},{path:"tools/marketdetail",component:_t},{path:"tools/munfsummary",component:at},{path:"tools/munfdetail",component:mt},{path:"tools/modelview",component:nt},{path:"tools/modeldetail",component:gt},{path:"news",component:xt},{path:"news/detail",component:a("Z0/y")(Tt,St,!1,function(t){a("ETow")},"data-v-4a80208c",null).exports}],Ot={name:"IndexPage",mixins:[g.a],data:function(){return{thisMonthData:{},selectedAnalytics:!0,expendAnalytics:-1,dialogVisible:!1,checked:!1,noticeSelected:!0,analyticsMenu:[{title:"乘用车销量",sub:[{title:"市场预测",icon:"icon-quanshiquyuduibifenxi",sum:"全国车型和细分市场预测与洞察市场预测与洞察",sub:[{title:"全国车型销量预测",icon:"icon-quanshiquyuduibifenxi",url:""},{title:"全国细分市场销量预测与洞察",icon:"icon-yuceyinqing",url:""},{title:"车型区域市场销量预测研究报告",icon:"icon-system-statu",url:""},{title:"车型价量决策支持系统",icon:"icon-xitongcaozuorizhi",url:""},{title:"全国车型销量预测系统",icon:"icon-tubiaoyucebiao",url:""},{title:"全国细分市场销量预测系统与深入洞察分析报告",icon:"icon-qianjingyuce",url:""},{title:"市场预测专项研究",icon:"icon-plus-datareport",url:""},{title:"新车型上市销量预测分析报告",icon:"icon-baogaochaxun",url:""},{title:"新车型生命周期销量预测研究报告",icon:"icon-baogaochaxun",url:""}]},{title:"车型规划",icon:"icon-chexian",sum:"产品生命周期车型配置与优化分析",sub:[{title:"产品生命周期管理",icon:"icon-monitanghua",url:""},{title:"车型配置库",icon:"icon-file",url:""},{title:"配置消费者感知价值研究",icon:"icon-profile_light",url:""},{title:"配置优化模拟器",icon:"icon-zhongqi",url:""},{title:"配置重要度研究",icon:"icon-baokuanbangdan",url:""},{title:"配置装备趋势报告",icon:"icon-zhuangxiang",url:""},{title:"新车上市冲击力分析报告",icon:"icon-upstage",url:""},{title:"新车上市导报",icon:"icon-text",url:""},{title:"新车上市监测系统",icon:"icon-leida",url:""},{title:"展会分析报告",icon:"icon-biaoshilei_yuanchengjiance",url:""}]},{title:"销量管理",icon:"icon-newshot",sum:"了解市场维度，诊断痛点所在",sub:[{title:"销量分析",icon:"icon-system-statu",url:""},{title:"销量分析与诊断",icon:"icon-plus-datareport",url:""},{title:"销售比例分析",icon:"icon-xitongcaozuorizhi",url:""},{title:"销售比例分析系统",icon:"icon-yuceyinqing",url:""}]},{title:"价格管理",icon:"icon-sponsor",sum:"提供线上与线下之价格监测",sub:[{title:"价格监测及分析",icon:"icon-shiyongbaogao",url:""},{title:"网络价格监测及分析",icon:"icon-changjingfenxi",url:""}]},{title:"渠道管理",icon:"icon-map",sum:"渠道建设与分析渠道建设与分析",sub:[{title:"渠道建设分析与诊断",icon:"icon-map",url:""},{title:"渠道建设分析系统",icon:"icon-xitongxingneng",url:""}]},{title:"售后服务",icon:"icon-repair",sum:"售后配件价格监测售后配件价格监测",sub:[{title:"配件价格监测（大众品牌）",icon:"icon-accessory",url:""},{title:"配件价格监测（豪华品牌）",icon:"icon-link1",url:""},{title:"附件销售策略",icon:"icon-policy",url:""},{title:"配件专项研究",icon:"icon-circle",url:""},{title:"售后车主忠诚度/流失率研究",icon:"icon-dijiaqushi",url:""},{title:"售后服务模式洞察分析报告",icon:"icon-kehudongcha",url:""}]},{title:"行业动态",icon:"icon-searchlist",sum:"全国车型和细分市场预测与洞察",sub:[{title:"汽车金融业务分析",icon:"icon-xiangao",url:""},{title:"行业动态分析",icon:"icon-searchlist",url:""},{title:"终端景气分析报告",icon:"icon-xitongxingneng",url:""}]},{title:"消费者洞察",icon:"icon-friendfamous",sum:"行业终端动态与汽车金融业务分析行态",sub:[{title:"购买需求与购买漏斗研究",icon:"icon-jiaoyiloudou",url:""},{title:"燃油车新车主研究",icon:"icon-people_list_light",url:""},{title:"消费者出行研究",icon:"icon-cheliang",url:""}]}]},{title:"新能源市场",sub:[{title:"销量管理",icon:"icon-newshot",sum:"新能源销量分析系统 (含双积分计算）",sub:[{title:"新能源销量分析 ",icon:"icon-newshot",url:"/zhiku/ner_xl"}]},{title:"价格管理",icon:"icon-sponsor",sum:"新能源价格监测及分析系统",sub:[{title:"新能源价格监测及分析",icon:"icon-sponsor",url:""}]},{title:"售后服务",icon:"icon-shouhou",sum:"新能源售后服务水平洞察分析报告",sub:[{title:"新能源售后服务水平洞察分析报告",icon:"icon-shouhou",url:""}]},{title:"行业动态",icon:"icon-searchlist",sum:"新能源行业动态分析",sub:[{title:"新能源行业动态分析",icon:"icon-searchlist",url:"/zhiku/ner_hy"},{title:"新能源行业月报",icon:"icon-calendar",url:"/zhiku/ner_hy"}]}]}],lastYear:"2017",thisYear:"2018",manfid:"30",manf_name:"东风日产",this_year_month:"201804",salesTrendChartData:{xAxisData:[],seriesData:[]},salesShareChartData:{xAxisData:[],seriesData:[]},salesPVStatusChartData:{xAxisData:[],seriesData:[],field:"tp_index",name:" tp换基"},optionA:{},optionB:{},optionC:{},salesData:{brandSalesData:{},wholeSalesData:{},brandNerSalesData:{},wholeNerSalesData:{}}}},methods:{isOpenDialogVisible:function(t){this.$emit("openTheDialog",t)},expendAnalyticsMore:function(t){null==t&&""==t&&void 0==t||(this.expendAnalytics=t)},GET_SALES_TREND:function(){var t=this;this.$request.get(this.$interface.GET_SALES_TREND,{header:{token:this.token},lastYear:this.lastYear,thisYear:this.thisYear,manfid:this.manfid},function(e){var a=e.data[0],s=[],i=[];for(var n in a.lastyear_list){var r=a.lastyear_list[n];t.salesTrendChartData.xAxisData.push(r.month+"月"),s.push(r.month_sales||null);var o=a.thisyear_list[n]||{};i.push(o.month_sales||null)}t.salesTrendChartData.seriesData.push({data:s,name:t.lastYear+"年",type:"line",smooth:!0,itemStyle:{normal:{color:"#00b4f3",barBorderRadius:0,label:{show:!0,position:"top"}}}}),t.salesTrendChartData.seriesData.push({data:i,name:t.thisYear+"年",type:"line",smooth:!0,itemStyle:{normal:{color:"#d2e0e9",barBorderRadius:0,label:{show:!0,position:"top"}}}}),t.optionA=Dt(t.salesTrendChartData)},this.failure)},GET_SALES_SHARE:function(){var t=this;this.$request.get(this.$interface.GET_SALES_SHARE,{header:{token:this.token},lastYear:this.lastYear,thisYear:this.thisYear,manfid:this.manfid},function(e){var a=e.data[0],s=[],i=[];for(var n in a.last_year){var r=a.last_year[n];t.salesShareChartData.xAxisData.push(r.month+"月"),s.push(r.share||"");var o=a.this_year[n]||{};i.push(o.share||"")}t.salesShareChartData.seriesData.push({data:s,name:t.lastYear+"年",type:"line",smooth:!0,itemStyle:{normal:{color:"#00b4f3",barBorderRadius:0,label:{show:!0,position:"top",formatter:function(t){return(100*t.data).toFixed(2)+"%"}}}}}),t.salesShareChartData.seriesData.push({data:i,name:t.thisYear+"年",type:"line",itemStyle:{normal:{color:"#d2e0e9",barBorderRadius:0,label:{show:!0,position:"top",formatter:function(t){return(100*t.data).toFixed(2)+"%"}}}}}),t.optionB=At(t.salesShareChartData)},this.failure)},GET_PV_STATUS:function(){var t=this;this.$request.get(this.$interface.GET_PV_STATUS,{header:{token:this.token},lastYear:this.lastYear,thisYear:this.thisYear},function(e){var a=e.data[0],s=[],i=[],n=t.salesPVStatusChartData.field;for(var r in a.last_year){var o=a.last_year[r];t.salesPVStatusChartData.xAxisData.push(o.month+"月"),s.push(o[n]||"");var l=a.this_year[r]||{};i.push(l[n]||"")}t.salesPVStatusChartData.seriesData.push({data:s,name:t.lastYear+"年",type:"line",itemStyle:{normal:{color:"#00b4f3",barBorderRadius:0,label:{show:!0,position:"top",formatter:function(t){return(100*t.data).toFixed(2)+"%"}}}}}),t.salesPVStatusChartData.seriesData.push({data:i,name:t.thisYear+"年",type:"line",itemStyle:{normal:{color:"#d2e0e9",barBorderRadius:0,label:{show:!0,position:"bottom",formatter:function(t){return(100*t.data).toFixed(2)+"%"}}}}}),t.optionC=Mt(t.salesPVStatusChartData)},this.failure)},GET_SALES:function(){var t=this;this.$request.get(this.$interface.GET_SALES,{header:{token:this.token},ym:this.this_year_month,manfid:this.manfid},function(e){var a=e.data;t.salesData={brandSalesData:a[0]||{},wholeSalesData:a[1]||{},brandNerSalesData:a[2]||{},wholeNerSalesData:a[3]||{}}},this.failure)}},mounted:function(){var t=this;this.getToken(function(){t.GET_SALES_TREND(),t.GET_SALES_SHARE(),t.GET_PV_STATUS(),t.GET_SALES()})},components:{BiProgress:f.a,BiEchart:B}},Dt=function(t){return{tooltip:{trigger:"axis",axisPointer:{type:"shadow",textStyle:{color:"#fff"}}},grid:{top:15,bottom:35,left:10,right:10},xAxis:{type:"category",data:t.xAxisData,axisLine:{lineStyle:{color:"#90979c"}}},yAxis:{show:!1,type:"value",axisLine:{lineStyle:{color:"#90979c"}},axisLabel:{formatter:function(t){return parseFloat(t/1e4).toFixed(1)+"万"}}},series:t.seriesData}},At=function(t){return{tooltip:{trigger:"axis",axisPointer:{type:"shadow",textStyle:{color:"#fff"}},formatter:function(t){var e=(t[0].name||"")+"<br>";for(var a in t){var s=t[a];e+=s.marker+s.seriesName+": "+parseFloat(100*s.value).toFixed(2)+"%<br>"}return e}},grid:{top:15,bottom:35,left:10,right:10},xAxis:{type:"category",data:t.xAxisData,axisLine:{lineStyle:{color:"#90979c"}}},yAxis:{show:!1,type:"value",axisLine:{lineStyle:{color:"#90979c"}},axisLabel:{formatter:function(t){return parseFloat(100*t).toFixed(2)+"%"}}},series:t.seriesData}},Mt=function(t){return{tooltip:{trigger:"axis",axisPointer:{type:"shadow",textStyle:{color:"#fff"}},formatter:function(e){var a=(e[0].name||"")+"("+t.name+")<br>";for(var s in e){var i=e[s];a+=i.marker+i.seriesName+": "+parseFloat(100*i.value).toFixed(2)+"%<br>"}return a}},grid:{top:15,bottom:35,left:10,right:10},xAxis:{type:"category",data:t.xAxisData,axisLine:{lineStyle:{color:"#90979c"}}},yAxis:{show:!1,type:"value",axisLine:{lineStyle:{color:"#90979c"}}},series:t.seriesData}},Nt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-main home"},[a("div",{staticClass:"notice"},[a("ul",[a("li",{staticClass:"cont-item"},[a("el-carousel",{attrs:{trigger:"click",height:"185px",arrow:"never"}},[a("el-carousel-item",[a("h2",[t._v("智能预警 - 车型销量制定与调整")]),t._v(" "),a("dl",[a("dt",[a("a",{attrs:{href:"#"}},[t._v("车型销量制定与调整")])]),t._v(" "),a("dd",[a("bi-progress",{attrs:{type:"circle",percentage:"0.3",color:"#f99d6a","circle-width":"46","circle-text-size":"13"}})],1),t._v(" "),a("dd",{attrs:{title:"车型销量目标完成率仅占70%市场"}},[t._v("车型销量目标完成率仅占70%市场")])]),t._v(" "),a("dl",[a("dt",[a("a",{attrs:{href:"#"}},[t._v("销量管理")])]),t._v(" "),a("dd",[a("bi-progress",{attrs:{type:"circle",percentage:"0.5",color:"#fb6c72","circle-width":"46","circle-text-size":"13"}})],1),t._v(" "),a("dd",{attrs:{title:"3个区域威胁竞品数量增加百分之五十"}},[t._v("3个区域威胁竞品数量增加百分之五十")])]),t._v(" "),a("dl",[a("dt",[a("a",{attrs:{href:"#"}},[t._v("售后服务")])]),t._v(" "),a("dd",[a("bi-progress",{attrs:{type:"circle",percentage:"0.5",color:"#91bb3d","circle-width":"46","circle-text-size":"13","show-text":!1,circleText:"3款"}})],1),t._v(" "),a("dd",{attrs:{title:"购车消费者用户对3款车型售后服务不认同"}},[t._v("购车消费者用户对3款车型售后服务不认同")])])]),t._v(" "),a("el-carousel-item",[a("h2",[t._v("智能预警 - 销量管理")]),t._v(" "),a("dl",[a("dt",[a("a",{attrs:{href:"#"}},[t._v("车型销量制定与调整")])]),t._v(" "),a("dd",[a("bi-progress",{attrs:{type:"circle",percentage:"0.3",color:"#70db93","circle-width":"46","circle-text-size":"13"}})],1),t._v(" "),a("dd",{attrs:{title:"车型销量目标完成率仅占70%市场"}},[t._v("车型销量目标完成率仅占70%市场")])]),t._v(" "),a("dl",[a("dt",[a("a",{attrs:{href:"#"}},[t._v("销量管理")])]),t._v(" "),a("dd",[a("bi-progress",{attrs:{type:"circle",percentage:"0.5",color:"#e6a23c","circle-width":"46","circle-text-size":"13"}})],1),t._v(" "),a("dd",{attrs:{title:"3个区域威胁竞品数量增加百分之五十"}},[t._v("3个区域威胁竞品数量增加百分之五十")])]),t._v(" "),a("dl",[a("dt",[a("a",{attrs:{href:"#"}},[t._v("售后服务")])]),t._v(" "),a("dd",[a("bi-progress",{attrs:{type:"circle",percentage:"0.5",color:"#e47833","circle-width":"46","circle-text-size":"13","show-text":!1,circleText:"3款"}})],1),t._v(" "),a("dd",{attrs:{title:"购车消费者用户对3款车型售后服务不认同"}},[t._v("购车消费者用户对3款车型售后服务不认同")])])]),t._v(" "),a("el-carousel-item",[a("h2",[t._v("智能预警 - 售后服务")]),t._v(" "),a("dl",[a("dt",[a("a",{attrs:{href:"#"}},[t._v("车型销量制定与调整")])]),t._v(" "),a("dd",[a("bi-progress",{attrs:{type:"circle",percentage:"0.3",color:"#d9d919","circle-width":"46","circle-text-size":"13"}})],1),t._v(" "),a("dd",{attrs:{title:"车型销量目标完成率仅占70%市场"}},[t._v("车型销量目标完成率仅占70%市场")])]),t._v(" "),a("dl",[a("dt",[a("a",{attrs:{href:"#"}},[t._v("销量管理")])]),t._v(" "),a("dd",[a("bi-progress",{attrs:{type:"circle",percentage:"0.5",color:"#339ace","circle-width":"46","circle-text-size":"13"}})],1),t._v(" "),a("dd",{attrs:{title:"3个区域威胁竞品数量增加百分之五十"}},[t._v("3个区域威胁竞品数量增加百分之五十")])]),t._v(" "),a("dl",[a("dt",[a("a",{attrs:{href:"#"}},[t._v("售后服务")])]),t._v(" "),a("dd",[a("bi-progress",{attrs:{type:"circle",percentage:"0.5",color:"#f04048","circle-width":"46","circle-text-size":"13","show-text":!1,circleText:"3款"}})],1),t._v(" "),a("dd",{attrs:{title:"购车消费者用户对3款车型售后服务不认同"}},[t._v("购车消费者用户对3款车型售后服务不认同")])])])],1)],1),t._v(" "),a("li",{staticClass:"cont-item"},[a("h3",[a("span",{class:{on:t.noticeSelected},on:{click:function(e){t.noticeSelected=!0}}},[t._v("待办事项")]),t._v(" "),a("span",{class:{on:!t.noticeSelected},on:{click:function(e){t.noticeSelected=!1}}},[t._v("公告")])]),t._v(" "),t.noticeSelected?a("div",{staticClass:"upcoming"},[a("p",[t._v("亲爱的丽仪经理 《配件价格监测系统》将在 2018年2月6日 到期，请即时续费。")]),t._v(" "),a("router-link",{staticClass:"more",attrs:{to:"#"}},[t._v("查看更多")])],1):a("div",{staticClass:"inform"},[a("a",{attrs:{href:"#"}},[t._v("2月2日DSS平台更名为智能决策操作平台了")]),t._v(" "),a("a",{attrs:{href:"#"}},[t._v("1月31日全国车型销量预测系统发布上线了")]),t._v(" "),a("a",{attrs:{href:"#"}},[t._v("1月30日全国细分市场销量预测发布上线了")]),t._v(" "),a("a",{attrs:{href:"#"}},[t._v("1月30日全国细分市场销量预测发布上线了")])])])])]),t._v(" "),a("div",{staticClass:"product"},[a("h2",[t._v("\n      我的关注\n      "),a("span",{staticClass:"right",on:{click:function(e){t.dialogVisible=!0}}},[a("em",{staticClass:"iconfont icon-baogaoshuxie"}),t._v(" 订制关注")])]),t._v(" "),a("el-dialog",{attrs:{title:"定制我的关注",visible:t.dialogVisible,width:"1200px",center:!0,"append-to-body":!0,fullscreen:!0,"lock-scroll":!1},on:{"update:visible":function(e){t.dialogVisible=e},open:function(e){t.isOpenDialogVisible(!0)},close:function(e){t.isOpenDialogVisible(!1)}}},[a("div",{staticClass:"my-attention-dialog"},[a("div",{staticClass:"clear"},[a("el-card",{staticClass:"product-box-card"},[a("div",{staticClass:"product-box-car-header",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("市场预测趋势图")]),t._v(" "),a("span",{staticStyle:{float:"right"}},[a("el-checkbox",{model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}})],1)]),t._v(" "),a("div",{staticClass:"product-box-card-main"},[a("img",{attrs:{src:"/static/images/client/linshi/img07.png",alt:""}})])]),t._v(" "),a("el-card",{staticClass:"product-box-card"},[a("div",{staticClass:"product-box-car-header",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("销量分析与诊断系统")]),t._v(" "),a("span",{staticStyle:{float:"right"}},[a("el-checkbox",{model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}})],1)]),t._v(" "),a("div",{staticClass:"product-box-card-main"},[a("img",{attrs:{src:"/static/images/client/linshi/img08.png",alt:""}})])]),t._v(" "),a("el-card",{staticClass:"product-box-card"},[a("div",{staticClass:"product-box-car-header",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("售后服务-车型总体配件价格比较")]),t._v(" "),a("span",{staticStyle:{float:"right"}},[a("el-checkbox",{model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}})],1)]),t._v(" "),a("div",{staticClass:"product-box-card-main"},[a("img",{attrs:{src:"/static/images/client/linshi/img07.png",alt:""}})])]),t._v(" "),a("el-card",{staticClass:"product-box-card"},[a("div",{staticClass:"product-box-car-header",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("销量分析与诊断系统")]),t._v(" "),a("span",{staticStyle:{float:"right"}},[a("el-checkbox",{model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}})],1)]),t._v(" "),a("div",{staticClass:"product-box-card-main"},[a("img",{attrs:{src:"/static/images/client/linshi/img08.png",alt:""}})])]),t._v(" "),a("el-card",{staticClass:"product-box-card"},[a("div",{staticClass:"product-box-car-header",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("市场预测趋势图")]),t._v(" "),a("span",{staticStyle:{float:"right"}},[a("el-checkbox",{model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}})],1)]),t._v(" "),a("div",{staticClass:"product-box-card-main"},[a("img",{attrs:{src:"/static/images/client/linshi/img07.png",alt:""}})])]),t._v(" "),a("el-card",{staticClass:"product-box-card"},[a("div",{staticClass:"product-box-car-header",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("销量分析与诊断系统")]),t._v(" "),a("span",{staticStyle:{float:"right"}},[a("el-checkbox",{model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}})],1)]),t._v(" "),a("div",{staticClass:"product-box-card-main"},[a("img",{attrs:{src:"/static/images/client/linshi/img08.png",alt:""}})])])],1),t._v(" "),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:1e3}})],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("确 定")])],1)]),t._v(" "),a("div",[a("el-card",{staticClass:"product-box-card"},[a("div",{staticClass:"product-box-car-header",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("销量走势情况")])]),t._v(" "),a("bi-echart",{staticClass:"product-box-card-main",attrs:{option:t.optionA,id:"chart_va"}})],1),t._v(" "),a("el-card",{staticClass:"product-box-card"},[a("div",{staticClass:"product-box-car-header",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("份额走势情况")])]),t._v(" "),a("bi-echart",{staticClass:"product-box-card-main",attrs:{option:t.optionB,id:"chart_vb"}})],1),t._v(" "),a("el-card",{staticClass:"product-box-card"},[a("div",{staticClass:"product-box-car-header",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("价格走势情况")])]),t._v(" "),a("bi-echart",{staticClass:"product-box-card-main",attrs:{option:t.optionC,id:"chart_vc"}})],1)],1)],1),t._v(" "),a("ul",{staticClass:"data"},[a("li",{staticClass:"left-content"},[a("dl",[a("dt",[t._v("乘用车销量")]),t._v(" "),a("dd",[a("h4",[t._v(t._s(t.manf_name))]),t._v(" "),a("div",{staticClass:"month"},[a("span",{staticClass:"center"},[a("strong",{attrs:{title:t.number_format(t.salesData.brandSalesData.month_sales)}},[t._v(t._s(t._f("number_format")(t.salesData.brandSalesData.month_sales,0)))]),t._v("  "+t._s(t.this_month)+"月 销量 ")]),t._v(" "),a("span",{staticClass:"small"},[a("em",[a("i",{class:["iconfont",t.salesData.brandSalesData.sales_tb>0?"icon-triangleupfill font-green":"icon-triangledownfill"]}),t._v(" "+t._s(t._f("number_format")(t._f("multiply")(t.salesData.brandSalesData.sales_tb,100),2))+"%")]),t._v(" 同比")]),t._v(" "),a("span",{staticClass:"small"},[a("em",[a("i",{class:["iconfont",t.salesData.brandSalesData.sales_hb>0?"icon-triangleupfill font-green":"icon-triangledownfill"]}),t._v(" "+t._s(t._f("number_format")(t._f("multiply")(t.salesData.brandSalesData.sales_hb,100),2))+"%")]),t._v(" 环比")])]),t._v(" "),a("div",{staticClass:"year"},[a("span",{staticClass:"big"},[a("strong",{attrs:{title:t.number_format(t.salesData.brandSalesData.total)}},[t._v(t._s(t._f("number_format")(t.salesData.brandSalesData.total,0)))]),t._v(t._s(t.thisYear)+"年 累计销量 ")]),t._v(" "),a("span",{staticClass:"small"},[a("em",[a("i",{class:["iconfont",t.salesData.brandSalesData.total_tb>0?"icon-triangleupfill font-green":"icon-triangledownfill"]}),t._v(" "+t._s(t._f("number_format")(t._f("multiply")(t.salesData.brandSalesData.total_tb,100),2))+"%")]),t._v(" 同比")])]),t._v(" "),a("h4",[t._v("整体市场")]),t._v(" "),a("div",{staticClass:"month bd0"},[a("span",{staticClass:"center"},[a("strong",{attrs:{title:t.number_format(t.salesData.wholeSalesData.month_sales)}},[t._v(t._s(t._f("number_format")(t.salesData.wholeSalesData.month_sales,0)))]),t._v(t._s(t.this_month)+"月 销量 ")]),t._v(" "),a("span",{staticClass:"small"},[a("em",[a("i",{class:["iconfont",t.salesData.wholeSalesData.sales_tb>0?"icon-triangleupfill font-green":"icon-triangledownfill"]}),t._v(" "+t._s(t._f("number_format")(t._f("multiply")(t.salesData.wholeSalesData.sales_tb,100),2))+"%")]),t._v(" 同比")]),t._v(" "),a("span",{staticClass:"small"},[a("em",[a("i",{class:["iconfont",t.salesData.wholeSalesData.sales_hb>0?"icon-triangleupfill font-green":"icon-triangledownfill"]}),t._v(" "+t._s(t._f("number_format")(t._f("multiply")(t.salesData.wholeSalesData.sales_hb,100),2))+"%")]),t._v(" 环比")])]),t._v(" "),a("div",{staticClass:"year bd0"},[a("span",{staticClass:"big"},[a("strong",{attrs:{title:t.number_format(t.salesData.wholeSalesData.total)}},[t._v(t._s(t._f("number_format")(t.salesData.wholeSalesData.total,0)))]),t._v(t._s(t.thisYear)+"年 累计销量")]),t._v(" "),a("span",{staticClass:"small"},[a("em",[a("i",{class:["iconfont",t.salesData.wholeSalesData.total_tb>0?"icon-triangleupfill font-green":"icon-triangledownfill"]}),t._v(" "+t._s(t._f("number_format")(t.salesData.wholeSalesData.total_tb,2))+"%")]),t._v(" 同比")])])])])]),t._v(" "),a("li",{staticClass:"center-content"},[a("dl",[a("dt",[t._v("新能源车销量")]),t._v(" "),a("dd",[a("h4",[t._v(t._s(t.manf_name))]),t._v(" "),a("div",{staticClass:"month"},[a("span",{staticClass:"center"},[a("strong",{attrs:{title:t.number_format(t.salesData.brandNerSalesData.month_sales)}},[t._v(t._s(t._f("number_format")(t.salesData.brandNerSalesData.month_sales,0)))]),t._v("  "+t._s(t.this_month)+"月 销量 ")]),t._v(" "),a("span",{staticClass:"small"},[a("em",[a("i",{class:["iconfont",t.salesData.brandNerSalesData.sales_tb>0?"icon-triangleupfill font-green":"icon-triangledownfill"]}),t._v(" "+t._s(t._f("number_format")(t._f("multiply")(t.salesData.brandNerSalesData.sales_tb,100),2))+"%")]),t._v(" 同比")]),t._v(" "),a("span",{staticClass:"small"},[a("em",[a("i",{class:["iconfont",t.salesData.brandNerSalesData.sales_hb>0?"icon-triangleupfill font-green":"icon-triangledownfill"]}),t._v(" "+t._s(t._f("number_format")(t._f("multiply")(t.salesData.brandNerSalesData.sales_hb,100),2))+"%")]),t._v(" 环比")])]),t._v(" "),a("div",{staticClass:"year"},[a("span",{staticClass:"big"},[a("strong",{attrs:{title:t.number_format(t.salesData.brandNerSalesData.total)}},[t._v(t._s(t._f("number_format")(t.salesData.brandNerSalesData.total,0)))]),t._v(t._s(t.thisYear)+"年 累计销量 ")]),t._v(" "),a("span",{staticClass:"small"},[a("em",[a("i",{class:["iconfont",t.salesData.brandNerSalesData.total_tb>0?"icon-triangleupfill font-green":"icon-triangledownfill"]}),t._v(" "+t._s(t._f("number_format")(t._f("multiply")(t.salesData.brandNerSalesData.total_tb,100),2))+"%")]),t._v(" 同比")])]),t._v(" "),a("h4",[t._v("整体市场")]),t._v(" "),a("div",{staticClass:"month bd0"},[a("span",{staticClass:"center"},[a("strong",{attrs:{title:t.number_format(t.salesData.wholeNerSalesData.month_sales)}},[t._v(t._s(t._f("number_format")(t.salesData.wholeNerSalesData.month_sales,0)))]),t._v(t._s(t.this_month)+"月 销量 ")]),t._v(" "),a("span",{staticClass:"small"},[a("em",[a("i",{class:["iconfont",t.salesData.wholeNerSalesData.sales_tb>0?"icon-triangleupfill font-green":"icon-triangledownfill"]}),t._v(" "+t._s(t._f("number_format")(t._f("multiply")(t.salesData.wholeNerSalesData.sales_tb,100),2))+"%")]),t._v(" 同比")]),t._v(" "),a("span",{staticClass:"small"},[a("em",[a("i",{class:["iconfont",t.salesData.wholeNerSalesData.sales_hb>0?"icon-triangleupfill font-green":"icon-triangledownfill"]}),t._v(" "+t._s(t._f("number_format")(t._f("multiply")(t.salesData.wholeNerSalesData.sales_hb,100),2))+"%")]),t._v(" 环比")])]),t._v(" "),a("div",{staticClass:"year bd0"},[a("span",{staticClass:"big"},[a("strong",{attrs:{title:t.number_format(t.salesData.wholeNerSalesData.total)}},[t._v(t._s(t._f("number_format")(t.salesData.wholeNerSalesData.total,0)))]),t._v(t._s(t.thisYear)+"年 累计销量")]),t._v(" "),a("span",{staticClass:"small"},[a("em",[a("i",{class:["iconfont",t.salesData.wholeNerSalesData.total_tb>0?"icon-triangleupfill font-green":"icon-triangledownfill"]}),t._v(" "+t._s(t._f("number_format")(t.salesData.wholeNerSalesData.total_tb,2))+"%")]),t._v(" 同比")])])])])]),t._v(" "),a("li",{staticClass:"right-content"},[a("h4",[t._v("新闻推荐 "),a("router-link",{attrs:{to:"news"}},[t._v("更多")])],1),t._v(" "),t._m(0)])]),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"analytics"},[a("h2",[a("font",[t._v("智库")]),t._v(" "),a("span",{class:{on:t.selectedAnalytics},on:{click:function(e){t.selectedAnalytics=!0}}},[t._v("乘用车市场")]),t._v(" "),a("span",{class:{on:!t.selectedAnalytics},on:{click:function(e){t.selectedAnalytics=!1}}},[t._v("新能源市场")])],1),t._v(" "),t.selectedAnalytics?a("ul",t._l(t.analyticsMenu[0].sub,function(e,s){return a("li",{key:s,class:{expend:s==t.expendAnalytics},on:{mouseleave:t.expendAnalyticsMore}},[a("div",[a("h4",[t._v("\n            "+t._s(e.title)),a("br"),t._v(" "),a("em",[t._v(t._s(e.sum))])]),t._v(" "),a("ol",t._l(e.sub,function(e){return a("li",[a("router-link",{attrs:{to:e.url,title:e.title}},[a("i",{staticClass:"iconfont",class:e.icon}),t._v("  "+t._s(e.title))])],1)})),t._v(" "),e.sub.length>3?[a("span",{staticClass:"more",on:{click:function(e){t.expendAnalyticsMore(s)}}},[t._v("更多")]),t._v(" "),a("span",{staticClass:"hide",on:{click:t.expendAnalyticsMore}},[t._v("收起")])]:t._e()],2)])})):a("ul",t._l(t.analyticsMenu[1].sub,function(e,s){return a("li",{key:s,class:{expend:s==t.expendAnalytics},on:{mouseleave:t.expendAnalyticsMore}},[a("div",[a("h4",[t._v("\n            "+t._s(e.title)),a("br"),t._v(" "),a("em",[t._v(t._s(e.sum))])]),t._v(" "),a("ol",t._l(e.sub,function(e){return a("li",[a("router-link",{attrs:{to:e.url,title:e.title}},[a("i",{staticClass:"iconfont",class:e.icon}),t._v("  "+t._s(e.title))])],1)})),t._v(" "),e.sub.length>3?[a("span",{staticClass:"more",on:{click:function(e){t.expendAnalyticsMore(s)}}},[t._v("更多")]),t._v(" "),a("span",{staticClass:"hide",on:{click:t.expendAnalyticsMore}},[t._v("收起")])]:t._e()],2)])}))])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",[a("li",[a("a",{attrs:{href:"/client.html#/news/detail?id=5acac019a6845f1548aa660b",target:"_blank",title:"开着销冠王 寻找北京五大网红充电站"}},[t._v("开着销冠王 寻找北京五大网红充电站")]),t._v(" "),a("cite",[t._v("04-09")])]),t._v(" "),a("li",[a("a",{attrs:{href:"/client.html#/news/detail?id=5acac0b0a6845f1548aa671d",target:"_blank",title:"2018年，农村户口买车有什么补贴政策吗？"}},[t._v("2018年，农村户口买车有什么补贴政策吗？")]),t._v(" "),a("cite",[t._v("04-08")])]),t._v(" "),a("li",[a("a",{attrs:{href:"/client.html#/news/detail?id=5acac01ca6845f1548aa6613",target:"_blank",title:"进口车即将涨价 这几款豪华柴油SUV不可错过"}},[t._v("进口车即将涨价 这几款豪华柴油SUV不可错过")]),t._v(" "),a("cite",[t._v("04-09")])]),t._v(" "),a("li",[a("a",{attrs:{href:"/client.html#/news/detail?id=5acac836a6845f1a604bf5d1",target:"_blank",title:"宝骏“爆款”效应再现！宝骏530入市20天销量破万"}},[t._v("宝骏“爆款”效应再现！宝骏530入市20天销量破万")]),t._v(" "),a("cite",[t._v("04-09")])]),t._v(" "),a("li",[a("a",{attrs:{href:"/client.html#/news/detail?id=5acabdf1a6845f239c571597",target:"_blank",title:"奇瑞3月销量同比增长19.5% 电动车增幅超586%"}},[t._v("奇瑞3月销量同比增长19.5% 电动车增幅超586%")]),t._v(" "),a("cite",[t._v("04-09")])]),t._v(" "),a("li",[a("a",{attrs:{href:"/client.html#/news/detail?id=5acabde5a6845f239c571580",target:"_blank",title:"车企布局共享出行 争夺战升级"}},[t._v("车企布局共享出行 争夺战升级")]),t._v(" "),a("cite",[t._v("04-09")])]),t._v(" "),a("li",[a("a",{attrs:{href:"/client.html#/news/detail?id=5acac88fa6845f096c38d95c",target:"_blank",title:"多地推进共享停车立法 利益链条待整合"}},[t._v("多地推进共享停车立法 利益链条待整合")]),t._v(" "),a("cite",[t._v("04-09")])]),t._v(" "),a("li",[a("a",{attrs:{href:"/client.html#/news/detail?id=5acabdeba6845f239c57158c",target:"_blank",title:"媒体：许家印或已投资贾跃亭造车"}},[t._v("媒体：许家印或已投资贾跃亭造车")]),t._v(" "),a("cite",[t._v("04-09")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"solution"},[a("h2",[t._v("智策")]),t._v(" "),a("ul",[a("li",[a("img",{attrs:{src:"/static/images/client/linshi/1200banner001.png",alt:""}}),t._v(" "),a("h3",[t._v("车型销量目标管理")]),t._v(" "),a("p",{attrs:{title:"制定销量目标并监督执行，并及时根据市场的变化调整销量目标，调整销售策略确保销售目标实现"}},[t._v("制定销量目标并监督执行，并及时根据市场的变化调整销量目标，调整销售策略确保销售目标实现")]),t._v(" "),a("a",{staticClass:"on",attrs:{href:"#"}},[t._v("进入场景")])]),t._v(" "),a("li",[a("img",{attrs:{src:"/static/images/client/linshi/1200banner002.png",alt:""}}),t._v(" "),a("h3",[t._v("车型定价管理")]),t._v(" "),a("p",{attrs:{title:"以达成销量目标为目的，依赖量化模型，制定新车上市价格，以及在售车型的促销额度"}},[t._v("以达成销量目标为目的，依赖量化模型，制定新车上市价格，以及在售车型的促销额度")]),t._v(" "),a("a",{staticClass:"on",attrs:{href:"#"}},[t._v("进入场景")])]),t._v(" "),a("li",[a("img",{attrs:{src:"/static/images/client/linshi/1200banner003.png",alt:""}}),t._v(" "),a("h3",[t._v("渠道布局决策")]),t._v(" "),a("p",{attrs:{title:"全景渠道数据助力网络布局，智能地图辅助精细化网格运营"}},[t._v("全景渠道数据助力网络布局，智能地图辅助精细化网格运营")]),t._v(" "),a("a",{staticClass:"on",attrs:{href:"#"}},[t._v("进入场景")])]),t._v(" "),a("li",[a("img",{attrs:{src:"/static/images/client/linshi/1200banner004.png",alt:""}}),t._v(" "),a("em",{staticClass:"yellow"},[t._v("购买中")]),t._v(" "),a("h3",[t._v("销量目标优化")]),t._v(" "),a("p",{attrs:{title:"360º扫描诊断营销指标，实时预警，沙盘模拟营销指标调整优化，助力营销决策方案制定。"}},[t._v("360º扫描诊断营销指标，实时预警，沙盘模拟营销指标调整优化，助力营销决策方案制定。")]),t._v(" "),a("a",{attrs:{href:"#"}},[t._v("了解详情")])]),t._v(" "),a("li",[a("img",{attrs:{src:"/static/images/client/linshi/1200banner005.png",alt:""}}),t._v(" "),a("em",{staticClass:"greed"},[t._v("新产品")]),t._v(" "),a("h3",[t._v("年度车型改款")]),t._v(" "),a("p",{attrs:{title:"辅助厂商产品改款、换代、新品投放市场机会发现。"}},[t._v("辅助厂商产品改款、换代、新品投放市场机会发现。")]),t._v(" "),a("a",{attrs:{href:"#"}},[t._v("了解详情")])])])])}]};var Gt=a("Z0/y")(Ot,Nt,!1,function(t){a("KTmz")},null,null).exports,It={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"title"},[a("i",{staticClass:"iconfont",class:t.columnIcon}),t._v(" "),a("em",[t._v(t._s(t.columnTitle))])]),t._v(" "),a("div",{staticClass:"button",attrs:{title:t.columnText}},[t._t("button",[t._v(t._s(t.columnText))])],2),t._v(" "),a("div",{staticClass:"right"},[a("div",{staticClass:"cont"},[t._t("right")],2)])])},staticRenderFns:[]};var Rt=a("Z0/y")({name:"BiBar",data:function(){return{}},props:{columnTitle:{default:""},columnIcon:{default:""},columnText:{default:""}}},It,!1,function(t){a("IQ94")},"data-v-225acab8",null).exports,Pt={name:"",data:function(){return{options:[{value:"选项1",label:"奔驰"},{value:"选项2",label:"宝马"},{value:"选项3",label:"奥迪"},{value:"选项4",label:"长安"},{value:"选项5",label:"英菲尼迪"}],value:[],value2:[]}},mounted:function(){this.initChart()},methods:{tabEvent:function(){},initChart:function(){var t=["rgba(230,56,16,0.2)","rgba(255,107,0,0.2)","rgba(227,182,31,0.2)","rgba(19,181,177,0.2)"],e={title:["总计","12-01","12-02","12-03","12-04","12-05","12-06","12-07","12-08","12-09"],plan_production:[500,300,490,333,346,777,888,864,789,765],actual_production:[300,400,500,300,400,500,300,400,500,500],attainment_rate:[60,80,90,60,70,80,90,60,70,90],productivity:[30,45,88,100,110,70,80,90,100,100],date:[1,2,3,4,5,6,7,8,9,10]};for(var a in e)e[a]=e[a].slice(1,-1);var s=function(t){for(var e=[],a=0;a<t;a++)e.push({type:"line",top:232+40*a,style:{stroke:"rgba(229,242,249,0.9)"},shape:{x1:0,y1:0,x2:3200,y2:0}});return e}(5);console.log(s);var i=R.a.init(document.getElementById("countryChart")),n={title:[{text:" \n竞品（高尔夫，速腾）\n高尔夫\n速腾",top:190,left:10,textStyle:{lineHeight:40,fontSize:13,fontWeight:"normal",formatter:function(t){return"{table|"+t+"}"},rich:{table:{align:"center"}}}}],legend:{data:["计划数量","实际产出","达成率","生产效率"]},grid:{bottom:150,left:80,right:80},toolbox:{show:!0,feature:{saveAsImage:{}}},dataZoom:{show:!0,start:0,end:50,maxSpan:80},xAxis:[{type:"category",show:!1,boundaryGap:!0,data:e.title,axisTick:{length:108}}],yAxis:[{show:!1,type:"value",scale:!0,minInterval:1,min:-10,max:0,name:"数量",splitLine:{show:!1}}],series:[{name:"基准线",type:"line",color:"#f2f2f2",symbolSize:10,showAllSymbol:!0,label:{show:!0,position:"bottom",formatter:"{c}"},itemStyle:{color:"red"},data:[-4,-4,-4,-4,-4,-4]},{barWidth:"40",name:"SEI值",type:"bar",stack:"total",label:{normal:{show:!0,position:"bottom",color:"#5faabd",backgroundColor:"rgba(95,170,189,.6)",distance:0,formatter:["{abg|NEW}"].join("\n"),rich:{title:{color:"#eee",align:"center"},abg:{color:"#eee",width:40,height:40,backgroundColor:"rgba(95,170,189,.9)",align:"center"}}}},itemStyle:{normal:{show:!0,color:function(e){console.log(e);var a=t.length;return t[e.dataIndex%a]}}},data:[-2,-6,-7.4,-8.8,-10.2,-11.6]}],graphic:s};i.setOption(n)}},components:{BiBar:Rt,BiPanel:v.a,echarts:R.a}},Ft={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cyc-cx"},[a("bi-bar",{attrs:{columnTitle:"生命周期规划看板"}},[a("template",{slot:"right"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("span",{staticClass:"bread-legend"},[t._v("当前位置：")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("概览主页")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 年款配置优化支持系统")])],1)],1)],2),t._v(" "),a("div",{staticClass:"content"},[a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[t._v("\n          请选择品牌车型\n        ")]),t._v(" "),a("div",{staticClass:"cyc-cx-tab"},[a("div",{staticClass:"pane"},[a("span",{staticClass:"on",on:{click:t.tabEvent}},[a("img",{attrs:{src:"/static/images/linshi/u152.png",alt:"别克"}}),t._v("别克")]),t._v(" "),a("span",[a("img",{attrs:{src:"/static/images/linshi/u152.png",alt:"别克"}}),t._v("雪佛兰")]),t._v(" "),a("span",[a("img",{attrs:{src:"/static/images/linshi/u152.png",alt:"别克"}}),t._v("别克")])]),t._v(" "),a("div",{staticClass:"cont"},[a("div",{staticClass:"prev"},[a("i",{staticClass:"el-icon-arrow-left disabled"})]),t._v(" "),a("div",{staticClass:"box"},t._l(7,function(e){return a("span",{on:{click:function(t){}}},[a("img",{attrs:{src:"/static/images/linshi/hafuoH6.jpg",alt:""}}),t._v("\n                    威朗\n                  ")])})),t._v(" "),a("div",{staticClass:"next"},[a("i",{staticClass:"el-icon-arrow-right"})])])])],2),t._v(" "),a("bi-panel",{attrs:{operating:!1}},[a("div",{staticClass:"cyc-cx-title"},[a("span",[t._v("别克 威朗 与竞品新车规划")]),t._v(" "),a("span",{staticClass:"box"},[a("el-date-picker",{staticStyle:{width:"300px"},attrs:{size:"mini",type:"daterange",align:"center","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}})],1),t._v(" "),a("span",{staticClass:"box"},[a("font",{staticClass:"cyc-cx-btn_small on"},[t._v("月度")]),t._v(" "),a("font",{staticClass:"cyc-cx-btn_small"},[t._v("季度")])],1),t._v(" "),a("span",{staticClass:"box"},[a("el-select",{attrs:{size:"mini",multiple:"","collapse-tags":"",placeholder:"选择竞品"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("span",{staticClass:"upload"},[a("i",{staticClass:"iconfont icon-xiazai"}),t._v("下载\n          ")])]),t._v(" "),a("h3",{staticClass:"cyc-cx-plan"},[t._v("\n          变化描述：\n          "),a("i",{staticClass:"red"}),t._v("全新NEW\n          "),a("i",{staticClass:"blue"}),t._v("换代NG\n          "),a("i",{staticClass:"green"}),t._v("年款MY\n          "),a("i",{staticClass:"orange"}),t._v("改款MCE\n        ")]),t._v(" "),a("div",{staticStyle:{width:"100%",height:"500px"},attrs:{id:"countryChart"}})]),t._v(" "),a("router-link",{staticClass:"cyc-cx-btn",attrs:{to:"cx/optimize/selfmade"}},[t._v("去选择价格段")])],1)],1)},staticRenderFns:[]};var Bt=a("Z0/y")(Pt,Ft,!1,function(t){a("m5bR")},"data-v-381974c4",null).exports,$t={name:"",data:function(){return{options:[{value:"选项1",label:"奔驰"},{value:"选项2",label:"宝马"},{value:"选项3",label:"奥迪"},{value:"选项4",label:"长安"},{value:"选项5",label:"英菲尼迪"}],value:[],value2:[]}},components:{BiBar:Rt,BiPanel:v.a,echarts:R.a}},qt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cyc-cx"},[a("bi-bar",{attrs:{columnTitle:"自造车配置"}},[a("template",{slot:"right"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("span",{staticClass:"bread-legend"},[t._v("当前位置：")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("概览主页")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 年款配置优化支持系统")])],1)],1)],2),t._v(" "),a("div",{staticClass:"content"},[a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"}),t._v(" "),a("template",{slot:"others"}),t._v(" "),a("div",{staticClass:"cyc-cx-title"},[a("span",[t._v("请选择品牌车型")]),t._v(" "),a("ul",{staticClass:"step-card"},[a("li",{staticClass:"active"},[t._v("01价格段销量分布")]),t._v(" "),a("li",[t._v("02型号竞争分析")]),t._v(" "),a("li",[t._v("03配置自造车清单")]),t._v(" "),a("li",[t._v("04预览并提交")])]),t._v(" "),a("span",{staticClass:"upload"},[a("i",{staticClass:"iconfont icon-xiazai"}),t._v("下载\n        ")])]),t._v(" "),a("div",{staticClass:"cyc-cx-tab"},[a("div",{staticClass:"form_bar"},[a("el-row",[a("el-col",{attrs:{span:6}},[t._v("\n              选择车型：\n              "),a("el-select",{staticClass:"selected",attrs:{size:"mini",multiple:"","collapse-tags":"",placeholder:"请选择"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-col",{attrs:{span:6}},[t._v("\n              选择时间：\n              "),a("el-date-picker",{attrs:{size:"mini",type:"daterange",align:"center","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}})],1),t._v(" "),a("el-col",{attrs:{span:8}},[t._v("\n              价格段：\n              "),a("input",{staticClass:"mini_input",attrs:{type:"text"}}),t._v("万 ~ "),a("input",{staticClass:"mini_input",attrs:{type:"text"}}),t._v("万\n            ")]),t._v(" "),a("el-col",{attrs:{span:4}},[a("input",{staticClass:"mini_input",attrs:{type:"number"}}),t._v(" "),a("span",{staticClass:"cyc-cx-btn_small on"},[t._v("确定")])])],1)],1),t._v(" "),a("table",{staticClass:"cyc-xl-table_vc"},[a("thead",[a("tr",[a("th",{attrs:{rowspan:"2"}},[t._v("价格段（TP）")]),t._v(" "),a("th",{attrs:{colspan:"3"}},[t._v("细分市场")]),t._v(" "),a("th",{attrs:{colspan:"4"}},[t._v("威朗")]),t._v(" "),a("th",{attrs:{colspan:"5"}},[t._v("竞争格局")])]),t._v(" "),a("tr",[a("th",[t._v("销量")]),t._v(" "),a("th",[t._v("销量同比增速")]),t._v(" "),a("th",[t._v("份额")]),t._v(" "),a("th",[t._v("销量")]),t._v(" "),a("th",[t._v("销量同比增速")]),t._v(" "),a("th",[t._v("市场份额")]),t._v(" "),a("th",[t._v("相对市场份额")]),t._v(" "),a("th",[t._v("排名")]),t._v(" "),a("th",[t._v("车型")]),t._v(" "),a("th",[t._v("销量")]),t._v(" "),a("th",[t._v("销量同比增速")]),t._v(" "),a("th",[t._v("市场份额")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{attrs:{rowspan:"5"}},[t._v("销量")]),t._v(" "),a("td",{attrs:{rowspan:"5"}},[t._v("销量")]),t._v(" "),a("td",{attrs:{rowspan:"5"}},[t._v("销量")]),t._v(" "),a("td",{attrs:{rowspan:"5"}},[t._v("销量")]),t._v(" "),a("td",{attrs:{rowspan:"5"}},[t._v("销量")]),t._v(" "),a("td",{attrs:{rowspan:"5"}},[t._v("销量")]),t._v(" "),a("td",{attrs:{rowspan:"5"}},[t._v("销量")]),t._v(" "),a("td",{attrs:{rowspan:"5"}},[t._v("销量")]),t._v(" "),a("td",[t._v("销量")]),t._v(" "),a("td",[t._v("销量")]),t._v(" "),a("td",[t._v("销量")]),t._v(" "),a("td",[t._v("销量")]),t._v(" "),a("td",[t._v("销量")])]),t._v(" "),a("tr",[a("td",[t._v("销量")]),t._v(" "),a("td",[t._v("销量")]),t._v(" "),a("td",[t._v("销量")]),t._v(" "),a("td",[t._v("销量")]),t._v(" "),a("td",[t._v("销量")])]),a("tr",[a("td",[t._v("销量")]),t._v(" "),a("td",[t._v("销量")]),t._v(" "),a("td",[t._v("销量")]),t._v(" "),a("td",[t._v("销量")]),t._v(" "),a("td",[t._v("销量")])]),a("tr",[a("td",[t._v("销量")]),t._v(" "),a("td",[t._v("销量")]),t._v(" "),a("td",[t._v("销量")]),t._v(" "),a("td",[t._v("销量")]),t._v(" "),a("td",[t._v("销量")])])])])])],2),t._v(" "),a("router-link",{staticClass:"cyc-cx-btn",attrs:{to:{path:"/zhice/cx/optimize/selfmade/setvb"}}},[t._v("下一步：型号分析")])],1)],1)},staticRenderFns:[]};var Lt=a("Z0/y")($t,qt,!1,function(t){a("GW5r")},"data-v-919fdfd4",null).exports,zt={name:"",data:function(){return{value:[],radio:[],options:[{value:"选项1",label:"奔驰"},{value:"选项2",label:"宝马"},{value:"选项3",label:"奥迪"},{value:"选项4",label:"长安"},{value:"选项5",label:"英菲尼迪"}],tableData:[{date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-04",name:"王小虎",address:"上海市普陀区金沙江路 1517 弄"},{date:"2016-05-01",name:"王小虎",address:"上海市普陀区金沙江路 1519 弄"},{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1516 弄"},{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1516 弄"},{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1516 弄"},{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1516 弄"}]}},methods:{tableRowClassName:function(t){t.row;var e=t.rowIndex;return 3===e?"stick":3===e?"second":""}},components:{BiBar:Rt,BiPanel:v.a,echarts:R.a}},jt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cyc-cx"},[a("bi-bar",{attrs:{columnTitle:"自造车配置"}},[a("template",{slot:"right"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("span",{staticClass:"bread-legend"},[t._v("当前位置：")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("概览主页")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 年款配置优化支持系统")])],1)],1)],2),t._v(" "),a("div",{staticClass:"content"},[a("bi-panel",{staticClass:"sheet",attrs:{operating:!1}},[a("div",{staticClass:"cyc-cx-title"},[a("span",[t._v("请选择品牌车型")]),t._v(" "),a("ul",{staticClass:"step-card"},[a("li",{staticClass:"active"},[t._v("01价格段销量分布")]),t._v(" "),a("li",{staticClass:"active"},[t._v("02型号竞争分析")]),t._v(" "),a("li",[t._v("03配置自造车清单")]),t._v(" "),a("li",[t._v("04预览并提交")])]),t._v(" "),a("span",{staticClass:"upload"},[a("i",{staticClass:"iconfont icon-xiazai"}),t._v("下载\n        ")])]),t._v(" "),a("div",{staticClass:"cyc-cx-tab"},[a("el-row",{staticClass:"edge border_bottom"},[a("el-col",{attrs:{span:6}},[a("span",[t._v("已选择")])]),t._v(" "),a("el-col",{attrs:{span:6}},[t._v("车型："),a("span",[t._v("别克 威朗")])]),t._v(" "),a("el-col",{attrs:{span:6}},[t._v("时间："),a("span",[t._v("2018-12")])]),t._v(" "),a("el-col",{attrs:{span:6}},[t._v("价格段："),a("span",[t._v("14~15万")])])],1),t._v(" "),a("p",{staticClass:"edge"},[a("span",[t._v("选择型号")]),t._v(" "),a("el-select",{staticClass:"selected",attrs:{size:"mini",multiple:"","collapse-tags":"",placeholder:"请选择"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1)]),t._v(" "),a("bi-panel",{attrs:{operating:!1}},[a("table",{staticClass:"selfmadeTable"},[a("thead",[a("tr",[a("th",{attrs:{width:"8"}},[t._v("排名")]),t._v(" "),a("th",{attrs:{width:"8"}},[t._v("车型")]),t._v(" "),a("th",{attrs:{width:"8"}},[t._v("款型")]),t._v(" "),a("th",{attrs:{width:"8"}},[t._v("销量")]),t._v(" "),a("th",{attrs:{width:"8"}},[t._v("销量同比增速")]),t._v(" "),a("th",{attrs:{width:"8"}},[t._v("市场份额")])])]),t._v(" "),a("tbody",[a("tr",{staticClass:"selfRow"},[a("td",[a("span",[t._v("1")])]),t._v(" "),a("td",[t._v("销量")]),t._v(" "),a("td",[a("i",{staticClass:"iconfont icon-radio-button-on"}),t._v(" "),a("span",{staticClass:"checkbox"})]),t._v(" "),a("td",[t._v("销量")]),t._v(" "),a("td",[t._v("销量")]),t._v(" "),a("td",[t._v("销量")])]),t._v(" "),a("tr",[a("td",[a("span",[t._v("2")])]),t._v(" "),a("td",[t._v("销量")]),t._v(" "),a("td",[a("i",{staticClass:"iconfont icon-radio-button-on"}),t._v(" "),a("span",{staticClass:"checkbox"})]),t._v(" "),a("td",[t._v("销量")]),t._v(" "),a("td",[t._v("销量")]),t._v(" "),a("td",[t._v("销量")])]),t._v(" "),a("tr",[a("td",[a("span",[t._v("2")])]),t._v(" "),a("td",[t._v("销量")]),t._v(" "),a("td",[a("i",{staticClass:"iconfont icon-radio-button-on"}),t._v(" "),a("span",{staticClass:"checkbox"})]),t._v(" "),a("td",[t._v("销量")]),t._v(" "),a("td",[t._v("销量")]),t._v(" "),a("td",[t._v("销量")])])])])]),t._v(" "),a("router-link",{staticClass:"cyc-cx-btn",attrs:{to:"setvc"}},[t._v("下一步：自造车")]),t._v(" "),a("router-link",{staticClass:"cyc-xl-btn_back",attrs:{to:"setva"}},[t._v("上一步：选择价格段")])],1)],1)},staticRenderFns:[]};var Vt=a("Z0/y")(zt,jt,!1,function(t){a("+Izl")},"data-v-001e5541",null).exports,Wt={name:"",data:function(){return{spread:!0,value:[],options:[{value:"选项1",label:"●"},{value:"选项2",label:"○"},{value:"选项3",label:"-"}]}},methods:{spreadEvent:function(){this.spread=!this.spread}},components:{BiBar:Rt,BiPanel:v.a,echarts:R.a}},Yt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cyc-cx"},[a("bi-bar",{attrs:{columnTitle:"自造车配置"}},[a("template",{slot:"right"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("span",{staticClass:"bread-legend"},[t._v("当前位置：")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("概览主页")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 年款配置优化支持系统")])],1)],1)],2),t._v(" "),a("div",{staticClass:"content"},[a("bi-panel",{attrs:{operating:!1}},[a("div",{staticClass:"cyc-cx-title"},[a("span",[t._v("请选择品牌车型")]),t._v(" "),a("ul",{staticClass:"step-card"},[a("li",{staticClass:"active"},[t._v("01价格段销量分布")]),t._v(" "),a("li",{staticClass:"active"},[t._v("02型号竞争分析")]),t._v(" "),a("li",{staticClass:"active"},[t._v("03配置自造车清单")]),t._v(" "),a("li",[t._v("04预览并提交")])]),t._v(" "),a("span",{staticClass:"upload"},[a("i",{staticClass:"iconfont icon-xiazai"}),t._v("下载\n        ")])])]),t._v(" "),a("bi-panel",{attrs:{operating:!1}},[a("div",{staticClass:"cyc-cx-panelTit"},[a("span",[t._v("配置分类")]),t._v(" "),a("div",{staticClass:"pane"},[a("span",{staticClass:"on"},[t._v("别克")]),t._v(" "),a("span",[t._v("雪佛兰")]),t._v(" "),a("span",[t._v("别克")])])])]),t._v(" "),a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[t._v("请选择详细配置清单")]),t._v(" "),a("div",{attrs:{slot:"others"},slot:"others"},[a("router-link",{staticClass:"cyc-cx-step-btn on",attrs:{to:"target/list"}},[t._v("查看配置优化策略详情")])],1),t._v(" "),a("table",{staticClass:"cyc-cx-table"},[a("thead",[a("tr",[a("th",{attrs:{colspan:"2"}},[t._v("配置列表 "),a("span",{staticClass:"legend"},[t._v("图例：●标配 ○选配 -无")])]),t._v(" "),a("th",{attrs:{colspan:"2"}},[t._v("装备情况")]),t._v(" "),a("th",[t._v("配置优化策略")]),t._v(" "),a("th",{attrs:{colspan:"5"}},[t._v("参考信息")])]),t._v(" "),a("tr",[a("th",{attrs:{width:"10%"}}),t._v(" "),a("th",{attrs:{width:"10%"}},[t._v("新型号")]),t._v(" "),a("th",{attrs:{width:"10%"}},[t._v("目标型号旧款 "),a("br"),t._v("\n            威朗 2018 1.5T 双离合 20T 精英型\n          ")]),t._v(" "),a("th",{attrs:{width:"10%"}},[t._v("对比型号 "),a("br"),t._v("\n            速腾 2018 1.4T 双离合 280TSI 舒适型\n          ")]),t._v(" "),a("th",{attrs:{width:"10%"}},[t._v("增配/减配/维持")]),t._v(" "),a("th",{attrs:{width:"10%"}},[t._v("缺失配置抱怨比例")]),t._v(" "),a("th",{attrs:{width:"10%"}},[t._v("竞争圈装备率")]),t._v(" "),a("th",{attrs:{width:"10%"}},[t._v("近三年装备率平均增速（细分市场）")]),t._v(" "),a("th",{attrs:{width:"10%"}},[t._v("近一年上市新车搭载率")]),t._v(" "),a("th",{attrs:{width:"10%"}},[t._v("消费者需求")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticClass:"tagTit",attrs:{colspan:"2"},on:{click:t.spreadEvent}},[a("i",{class:t.spread?"el-icon-remove on":"el-icon-circle-plus"}),t._v("内部装备\n          ")])]),t._v(" "),t.spread?a("tr",[a("td",[t._v("一键启动")]),t._v(" "),a("td",[a("el-select",{attrs:{size:"mini","collapse-tags":"",placeholder:"请选择"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("td",[t._v("● ○ -")]),t._v(" "),a("td",[t._v("● ○ -")]),t._v(" "),a("td",{staticClass:"danger"},[t._v("增配（★★★）")]),t._v(" "),a("td",[t._v("12%")]),t._v(" "),a("td",[t._v("12%")]),t._v(" "),a("td",[t._v("12%")]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td",[t._v("渴望配置")])]):t._e(),t._v(" "),t.spread?a("tr",[a("td",[t._v("一键启动")]),t._v(" "),a("td",[a("el-select",{staticClass:"selected",attrs:{size:"mini",multiple:"","collapse-tags":"",placeholder:"请选择"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("td",[t._v("● ○ -")]),t._v(" "),a("td",[t._v("● ○ -")]),t._v(" "),a("td",{staticClass:"success"},[t._v("增配（★★★）")]),t._v(" "),a("td",[t._v("12%")]),t._v(" "),a("td",[t._v("12%")]),t._v(" "),a("td",[t._v("12%")]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td",[t._v("渴望配置")])]):t._e()])])],2),t._v(" "),a("router-link",{staticClass:"cyc-cx-btn",attrs:{to:"setvd"}},[t._v("下一步：自造车")]),t._v(" "),a("router-link",{staticClass:"cyc-xl-btn_back",attrs:{to:"setvb"}},[t._v("上一步：修改车型总目标")])],1)],1)},staticRenderFns:[]};var Ut=a("Z0/y")(Wt,Yt,!1,function(t){a("NWxh")},"data-v-0c48cd2a",null).exports,Ht={name:"",data:function(){return{spread:!0,value:[],options:[{value:"选项1",label:"●"},{value:"选项2",label:"○"},{value:"选项3",label:"-"}]}},methods:{spreadEvent:function(){this.spread=!this.spread}},components:{BiBar:Rt,BiPanel:v.a,echarts:R.a}},Zt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cyc-cx"},[a("bi-bar",{attrs:{columnTitle:"自造车配置"}},[a("template",{slot:"right"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("span",{staticClass:"bread-legend"},[t._v("当前位置：")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("概览主页")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 年款配置优化支持系统")])],1)],1)],2),t._v(" "),a("div",{staticClass:"content"},[a("bi-panel",{attrs:{operating:!1}},[a("div",{staticClass:"cyc-cx-title"},[a("span",[t._v("请选择品牌车型")]),t._v(" "),a("ul",{staticClass:"step-card"},[a("li",{staticClass:"active"},[t._v("01价格段销量分布")]),t._v(" "),a("li",{staticClass:"active"},[t._v("02型号竞争分析")]),t._v(" "),a("li",{staticClass:"active"},[t._v("03配置自造车清单")]),t._v(" "),a("li",{staticClass:"active"},[t._v("04预览并提交")])]),t._v(" "),a("span",{staticClass:"upload"},[a("i",{staticClass:"iconfont icon-xiazai"}),t._v("下载\n        ")])])]),t._v(" "),a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[t._v("PVA结果指标")]),t._v(" "),a("div",{attrs:{slot:"others"},slot:"others"},[a("router-link",{staticClass:"cyc-cx-step-btn on",attrs:{to:"target/list"}},[t._v("去PVA分析")])],1),t._v(" "),a("div",{staticClass:"sheet"},[a("el-row",{staticClass:"first"},[a("el-col",{attrs:{span:12}},[t._v("新型号PVA（VS旧款）：")]),t._v(" "),a("el-col",{attrs:{span:12}},[t._v("新型号PVA（VS竞争圏     ）：")])],1),t._v(" "),a("el-row",{staticClass:"second"},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"meter blue"},[a("p",[t._v("指导价")]),t._v(" "),a("div"),t._v(" "),a("span",[t._v("95.6%")])]),t._v(" "),a("div",{staticClass:"meter red"},[a("p",[t._v("指导价")]),t._v(" "),a("div"),t._v(" "),a("span",[t._v("95.6%")])])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"meter blue"},[a("p",[t._v("指导价")]),t._v(" "),a("div"),t._v(" "),a("span",[t._v("95.6%")])]),t._v(" "),a("div",{staticClass:"meter red"},[a("p",[t._v("指导价")]),t._v(" "),a("div"),t._v(" "),a("span",[t._v("95.6%")])])])],1)],1)],2),t._v(" "),a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[t._v("请选择详细配置清单")]),t._v(" "),a("div",{attrs:{slot:"others"},slot:"others"},[a("router-link",{staticClass:"cyc-cx-step-btn on",attrs:{to:"target/list"}},[t._v("查看配置优化策略详情")])],1),t._v(" "),a("table",{staticClass:"cyc-cx-table"},[a("thead",[a("tr",[a("th",{attrs:{colspan:"2"}},[t._v("配置列表 "),a("span",{staticClass:"legend"},[t._v("图例：●标配 ○选配 -无")])]),t._v(" "),a("th",{attrs:{colspan:"2"}},[t._v("装备情况")]),t._v(" "),a("th",[t._v("配置优化策略")]),t._v(" "),a("th",{attrs:{colspan:"5"}},[t._v("参考信息")])]),t._v(" "),a("tr",[a("th",{attrs:{width:"10%"}}),t._v(" "),a("th",{attrs:{width:"10%"}},[t._v("新型号")]),t._v(" "),a("th",{attrs:{width:"10%"}},[t._v("目标型号旧款 "),a("br"),t._v("\n            威朗 2018 1.5T 双离合 20T 精英型\n          ")]),t._v(" "),a("th",{attrs:{width:"10%"}},[t._v("对比型号 "),a("br"),t._v("\n            速腾 2018 1.4T 双离合 280TSI 舒适型\n          ")]),t._v(" "),a("th",{attrs:{width:"10%"}},[t._v("增配/减配/维持")]),t._v(" "),a("th",{attrs:{width:"10%"}},[t._v("缺失配置抱怨比例")]),t._v(" "),a("th",{attrs:{width:"10%"}},[t._v("竞争圈装备率")]),t._v(" "),a("th",{attrs:{width:"10%"}},[t._v("近三年装备率平均增速（细分市场）")]),t._v(" "),a("th",{attrs:{width:"10%"}},[t._v("近一年上市新车搭载率")]),t._v(" "),a("th",{attrs:{width:"10%"}},[t._v("消费者需求")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticClass:"tagTit",attrs:{colspan:"2"},on:{click:t.spreadEvent}},[a("i",{class:t.spread?"el-icon-remove on":"el-icon-circle-plus"}),t._v("内部装备\n          ")])]),t._v(" "),t.spread?a("tr",[a("td",[t._v("一键启动")]),t._v(" "),a("td",[a("el-select",{attrs:{size:"mini","collapse-tags":"",placeholder:"请选择"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("td",[t._v("● ○ -")]),t._v(" "),a("td",[t._v("● ○ -")]),t._v(" "),a("td",{staticClass:"danger"},[t._v("增配（★★★）")]),t._v(" "),a("td",[t._v("12%")]),t._v(" "),a("td",[t._v("12%")]),t._v(" "),a("td",[t._v("12%")]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td",[t._v("渴望配置")])]):t._e(),t._v(" "),t.spread?a("tr",[a("td",[t._v("一键启动")]),t._v(" "),a("td",[a("el-select",{staticClass:"selected",attrs:{size:"mini",multiple:"","collapse-tags":"",placeholder:"请选择"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("td",[t._v("● ○ -")]),t._v(" "),a("td",[t._v("● ○ -")]),t._v(" "),a("td",{staticClass:"success"},[t._v("增配（★★★）")]),t._v(" "),a("td",[t._v("12%")]),t._v(" "),a("td",[t._v("12%")]),t._v(" "),a("td",[t._v("12%")]),t._v(" "),a("td",[t._v("-")]),t._v(" "),a("td",[t._v("渴望配置")])]):t._e()])])],2),t._v(" "),a("router-link",{staticClass:"cyc-cx-btn",attrs:{to:"#"}},[t._v("提交完成")]),t._v(" "),a("router-link",{staticClass:"cyc-xl-btn_back",attrs:{to:"setvc"}},[t._v("上一步：配置自造车清单")])],1)],1)},staticRenderFns:[]};var Kt=a("Z0/y")(Ht,Zt,!1,function(t){a("Vq5q")},"data-v-4933d5d4",null).exports,Xt={name:"",data:function(){return{options:[{value:"选项1",label:"奔驰"},{value:"选项2",label:"宝马"},{value:"选项3",label:"奥迪"},{value:"选项4",label:"长安"},{value:"选项5",label:"英菲尼迪"}],value:[],value2:[]}},components:{BiBar:Rt,BiPanel:v.a}},Jt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cyc-cx"},[a("bi-bar",{attrs:{columnTitle:"生命周期规划看板"}},[a("template",{slot:"right"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("span",{staticClass:"bread-legend"},[t._v("当前位置：")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("概览主页")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 年款配置优化支持系统")])],1)],1)],2),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"cyc-cx-condition"},[a("div",[t._m(0),t._v(" "),a("span",{staticStyle:{"margin-left":"20px"}},[t._v("\n            竞品：\n            "),a("el-select",{attrs:{size:"mini",multiple:"","collapse-tags":"",placeholder:"请选择"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("span",{staticClass:"btn on"},[t._v("添加对标车型")])])]),t._v(" "),a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[t._v("\n          关注点及评价\n        ")]),t._v(" "),a("template",{slot:"others"},[a("span",{staticClass:"download"},[a("i",{staticClass:"iconfont icon-xiazai"}),t._v("下载\n        ")])]),t._v(" "),a("div",{staticClass:"cyc-cx-att"},[a("h4",[a("span",{staticClass:"on"},[t._v("关注度")]),t._v(" "),a("span",[t._v("满意度")])]),t._v(" "),a("dl",{staticClass:"left"},[a("dt",[t._v("平均")]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"40%"}})]),a("cite",[t._v("40%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"25%"}})]),a("cite",[t._v("25%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"68%"}})]),a("cite",[t._v("68%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"38%"}})]),a("cite",[t._v("38%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"75%"}})]),a("cite",[t._v("75%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"26%"}})]),a("cite",[t._v("26%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"42%"}})]),a("cite",[t._v("42%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"29%"}})]),a("cite",[t._v("29%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"57%"}})]),a("cite",[t._v("57%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"43%"}})]),a("cite",[t._v("43%")])])]),t._v(" "),a("ul",[a("li",[t._v("整体")]),t._v(" "),a("li",[t._v("动力")]),t._v(" "),a("li",[t._v("内饰")]),t._v(" "),a("li",[t._v("空间")]),t._v(" "),a("li",[t._v("外观")]),t._v(" "),a("li",[t._v("经济性")]),t._v(" "),a("li",[t._v("舒适性")]),t._v(" "),a("li",[t._v("操控性")]),t._v(" "),a("li",[t._v("安全性")]),t._v(" "),a("li",[t._v("信息娱乐性")])]),t._v(" "),a("dl",{staticClass:"right"},[a("dt",[t._v("威朗")]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"23%"}})]),a("cite",[t._v("23%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"44%"}})]),a("cite",[t._v("44%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"31%"}})]),a("cite",[t._v("31%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"26%"}})]),a("cite",[t._v("26%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"62%"}})]),a("cite",[t._v("62%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"38%"}})]),a("cite",[t._v("38%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"77%"}})]),a("cite",[t._v("77%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"35%"}})]),a("cite",[t._v("35%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"49%"}})]),a("cite",[t._v("49%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"22%"}})]),a("cite",[t._v("22%")])])])])],2),t._v(" "),a("router-link",{staticClass:"cyc-cx-btn",attrs:{to:{path:"/zhice/cx/optimize/improveset/setvb"}}},[t._v("查看具体配置优化策略")]),t._v(" "),a("router-link",{staticClass:"cyc-cx-btn_back",attrs:{to:{path:"/zhice/cx/optimize/selfmade/setvc"}}},[t._v("去配置自造车清单")])],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",[this._v("\n            月份："),e("cite",[this._v("2018-2")]),this._v("\n            本品："),e("cite",[this._v("威朗")])])}]};var Qt=a("Z0/y")(Xt,Jt,!1,function(t){a("qh8S")},"data-v-00162212",null).exports,te={name:"",data:function(){return{options:[{value:"选项1",label:"奔驰"},{value:"选项2",label:"宝马"},{value:"选项3",label:"奥迪"},{value:"选项4",label:"长安"},{value:"选项5",label:"英菲尼迪"}],value:[],value2:[]}},components:{BiBar:Rt,BiPanel:v.a}},ee={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cyc-cx"},[a("bi-bar",{attrs:{columnTitle:"生命周期规划看板"}},[a("template",{slot:"right"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("span",{staticClass:"bread-legend"},[t._v("当前位置：")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("概览主页")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 年款配置优化支持系统")])],1)],1)],2),t._v(" "),a("div",{staticClass:"content cyc-cx-tab"},[a("bi-panel",{attrs:{operating:!1}},[a("div",{staticClass:"cyc-cx-panelTit"},[a("span",[t._v("用户需求")]),t._v(" "),a("div",{staticClass:"pane"},[a("span",{staticClass:"on"},[t._v("缺失配置抱怨点")]),t._v(" "),a("span",[t._v("竞争对比")]),t._v(" "),a("span",[t._v("行业趋势")])])]),t._v(" "),a("div",{}),t._v(" "),a("el-row",{staticClass:"complain_sheet"},[a("el-col",{attrs:{span:6}},[t._v("月份："),a("span",[t._v("别克 威朗")])]),t._v(" "),a("el-col",{attrs:{span:6}},[t._v("本品型号："),a("el-select",{staticClass:"selected",attrs:{size:"mini",multiple:"","collapse-tags":"",placeholder:"请选择"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-col",{attrs:{span:6}},[t._v("竞品："),a("span",[t._v("14~15万")])])],1),t._v(" "),a("div")],1),t._v(" "),a("bi-panel",{attrs:{operating:!1}},[a("div",{staticClass:"cyc-cx-panelTit"},[a("span",[t._v("配置分类")]),t._v(" "),a("div",{staticClass:"pane"},[a("span",{staticClass:"on"},[t._v("整体")]),t._v(" "),a("span",[t._v("参数")]),t._v(" "),a("span",[t._v("底盘&动力")]),t._v(" "),a("span",[t._v("安全")]),t._v(" "),a("span",[t._v("外部装备")]),t._v(" "),a("span",[t._v("内部装备")]),t._v(" "),a("span",[t._v("功能")]),t._v(" "),a("span",[t._v("娱乐/信息")])])]),t._v(" "),a("div",{staticClass:"config_sheet"},[a("ul",[a("li",[t._v("内部装备")]),t._v(" "),a("li",[a("dl",[a("dt",[t._v("配置列表")]),t._v(" "),a("dd",[t._v("一键启动")]),t._v(" "),a("dd",[t._v("无钥匙进入")]),t._v(" "),a("dd",[t._v("自动空调")]),t._v(" "),a("dd",[t._v("雨量感应式雨刮")])])]),t._v(" "),a("li",[a("el-scrollbar",{staticStyle:{height:"100%",width:"100%"}},[a("div",[a("dl",[a("dt",[t._v("配置列表")]),t._v(" "),a("dd",[t._v("一键启动")]),t._v(" "),a("dd",[t._v("无钥匙进入")]),t._v(" "),a("dd",[t._v("自动空调")]),t._v(" "),a("dd",[t._v("雨量感应式雨刮")])]),t._v(" "),a("dl",[a("dt",[t._v("配置列表")]),t._v(" "),a("dd",[t._v("一键启动")]),t._v(" "),a("dd",[t._v("无钥匙进入")]),t._v(" "),a("dd",[t._v("自动空调")]),t._v(" "),a("dd",[t._v("雨量感应式雨刮")])]),t._v(" "),a("dl",[a("dt",[t._v("配置列表")]),t._v(" "),a("dd",[t._v("一键启动")]),t._v(" "),a("dd",[t._v("无钥匙进入")]),t._v(" "),a("dd",[t._v("自动空调")]),t._v(" "),a("dd",[t._v("雨量感应式雨刮")])]),t._v(" "),a("dl",[a("dt",[t._v("配置列表")]),t._v(" "),a("dd",[t._v("一键启动")]),t._v(" "),a("dd",[t._v("无钥匙进入")]),t._v(" "),a("dd",[t._v("自动空调")]),t._v(" "),a("dd",[t._v("雨量感应式雨刮")])]),t._v(" "),a("dl",[a("dt",[t._v("配置列表")]),t._v(" "),a("dd",[t._v("一键启动")]),t._v(" "),a("dd",[t._v("无钥匙进入")]),t._v(" "),a("dd",[t._v("自动空调")]),t._v(" "),a("dd",[t._v("雨量感应式雨刮")])]),t._v(" "),a("dl",[a("dt",[t._v("配置列表")]),t._v(" "),a("dd",[t._v("一键启动")]),t._v(" "),a("dd",[t._v("无钥匙进入")]),t._v(" "),a("dd",[t._v("自动空调")]),t._v(" "),a("dd",[t._v("雨量感应式雨刮")])]),t._v(" "),a("dl",[a("dt",[t._v("配置列表")]),t._v(" "),a("dd",[t._v("一键启动")]),t._v(" "),a("dd",[t._v("无钥匙进入")]),t._v(" "),a("dd",[t._v("自动空调")]),t._v(" "),a("dd",[t._v("雨量感应式雨刮")])]),t._v(" "),a("dl",[a("dt",[t._v("配置列表")]),t._v(" "),a("dd",[t._v("一键启动")]),t._v(" "),a("dd",[t._v("无钥匙进入")]),t._v(" "),a("dd",[t._v("自动空调")]),t._v(" "),a("dd",[t._v("雨量感应式雨刮")])])])])],1)])])]),t._v(" "),a("router-link",{staticClass:"cyc-cx-btn",attrs:{to:{path:"/zhice/cx/optimize/selfmade/setvc"}}},[t._v("去配置自造车清单")]),t._v(" "),a("router-link",{staticClass:"cyc-cx-btn_back",attrs:{to:"setva"}},[t._v("返回上一步")])],1)],1)},staticRenderFns:[]};var ae=a("Z0/y")(te,ee,!1,function(t){a("5SBr")},"data-v-4682b746",null).exports,se={name:"",data:function(){return{options:[{value:"选项1",label:"奔驰"},{value:"选项2",label:"宝马"},{value:"选项3",label:"奥迪"},{value:"选项4",label:"长安"},{value:"选项5",label:"英菲尼迪"}],value:[],value2:[]}},components:{BiBar:Rt,BiPanel:v.a}},ie={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cyc-cx"},[a("bi-bar",{attrs:{columnTitle:"生命周期规划看板"}},[a("template",{slot:"right"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("span",{staticClass:"bread-legend"},[t._v("当前位置：")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("概览主页")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 年款配置优化支持系统")])],1)],1)],2),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"cyc-cx-condition"},[a("div",[t._m(0),t._v(" "),a("span",{staticStyle:{"margin-left":"20px"}},[t._v("\n            竞品：\n            "),a("el-select",{attrs:{size:"mini",multiple:"","collapse-tags":"",placeholder:"请选择"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("span",{staticClass:"btn on"},[t._v("添加对标车型")])])]),t._v(" "),a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[t._v("\n          关注点及评价\n        ")]),t._v(" "),a("template",{slot:"others"},[a("span",{staticClass:"upload"},[a("i",{staticClass:"iconfont icon-xiazai"}),t._v("下载\n        ")])]),t._v(" "),a("div",{staticClass:"cyc-cx-att"},[a("h4",[a("span",{staticClass:"on"},[t._v("关注度")]),t._v(" "),a("span",[t._v("满意度")])]),t._v(" "),a("dl",{staticClass:"left"},[a("dt",[t._v("平均")]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"40%","background-color":"#f04048"}})]),a("cite",[t._v("40%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"25%"}})]),a("cite",[t._v("25%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"68%","background-color":"#0080c2"}})]),a("cite",[t._v("68%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"38%"}})]),a("cite",[t._v("38%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"75%"}})]),a("cite",[t._v("75%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"26%","background-color":"#0080c2"}})]),a("cite",[t._v("26%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"42%"}})]),a("cite",[t._v("42%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"29%"}})]),a("cite",[t._v("29%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"57%","background-color":"#f04048"}})]),a("cite",[t._v("57%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"43%"}})]),a("cite",[t._v("43%")])])]),t._v(" "),a("ul",[a("li",[t._v("整体")]),t._v(" "),a("li",[t._v("动力")]),t._v(" "),a("li",[t._v("内饰")]),t._v(" "),a("li",[t._v("空间")]),t._v(" "),a("li",[t._v("外观")]),t._v(" "),a("li",[t._v("经济性")]),t._v(" "),a("li",[t._v("舒适性")]),t._v(" "),a("li",[t._v("操控性")]),t._v(" "),a("li",[t._v("安全性")]),t._v(" "),a("li",[t._v("信息娱乐性")])]),t._v(" "),a("dl",{staticClass:"right"},[a("dt",[t._v("威朗")]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"23%"}})]),a("cite",[t._v("23%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"44%","background-color":"#f04048"}})]),a("cite",[t._v("44%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"31%"}})]),a("cite",[t._v("31%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"26%"}})]),a("cite",[t._v("26%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"62%"}})]),a("cite",[t._v("62%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"38%","background-color":"#0080c2"}})]),a("cite",[t._v("38%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"77%"}})]),a("cite",[t._v("77%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"35%","background-color":"#f04048"}})]),a("cite",[t._v("35%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"49%"}})]),a("cite",[t._v("49%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"22%","background-color":"#0080c2"}})]),a("cite",[t._v("22%")])])])])],2),t._v(" "),a("router-link",{staticClass:"cyc-cx-btn",attrs:{to:"#"}},[t._v("查看具体配置优化策略")]),t._v(" "),a("router-link",{staticClass:"cyc-cx-btn_back",attrs:{to:"#"}},[t._v("去配置自造车清单")])],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",[this._v("\n            月份："),e("cite",[this._v("2018-2")]),this._v("\n            本品："),e("cite",[this._v("威朗")])])}]};var ne=a("Z0/y")(se,ie,!1,function(t){a("GMyV")},"data-v-f4809bda",null).exports,re={name:"",data:function(){return{options:[{value:"选项1",label:"奔驰"},{value:"选项2",label:"宝马"},{value:"选项3",label:"奥迪"},{value:"选项4",label:"长安"},{value:"选项5",label:"英菲尼迪"}],value:[],value2:[]}},components:{BiBar:Rt,BiPanel:v.a}},oe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cyc-cx"},[a("bi-bar",{attrs:{columnTitle:"生命周期规划看板"}},[a("template",{slot:"right"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("span",{staticClass:"bread-legend"},[t._v("当前位置：")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("概览主页")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 年款配置优化支持系统")])],1)],1)],2),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"cyc-cx-condition"},[a("div",[t._m(0),t._v(" "),a("span",{staticStyle:{"margin-left":"20px"}},[t._v("\n            竞品：\n            "),a("el-select",{attrs:{size:"mini",multiple:"","collapse-tags":"",placeholder:"请选择"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("span",{staticClass:"btn on"},[t._v("添加对标车型")])])]),t._v(" "),a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[t._v("\n          关注点及评价\n        ")]),t._v(" "),a("template",{slot:"others"},[a("span",{staticClass:"upload"},[a("i",{staticClass:"iconfont icon-xiazai"}),t._v("下载\n        ")])]),t._v(" "),a("div",{staticClass:"cyc-cx-att"},[a("h4",[a("span",{staticClass:"on"},[t._v("关注度")]),t._v(" "),a("span",[t._v("满意度")])]),t._v(" "),a("dl",{staticClass:"left"},[a("dt",[t._v("平均")]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"40%","background-color":"#f04048"}})]),a("cite",[t._v("40%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"25%"}})]),a("cite",[t._v("25%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"68%","background-color":"#0080c2"}})]),a("cite",[t._v("68%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"38%"}})]),a("cite",[t._v("38%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"75%"}})]),a("cite",[t._v("75%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"26%","background-color":"#0080c2"}})]),a("cite",[t._v("26%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"42%"}})]),a("cite",[t._v("42%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"29%"}})]),a("cite",[t._v("29%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"57%","background-color":"#f04048"}})]),a("cite",[t._v("57%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"43%"}})]),a("cite",[t._v("43%")])])]),t._v(" "),a("ul",[a("li",[t._v("整体")]),t._v(" "),a("li",[t._v("动力")]),t._v(" "),a("li",[t._v("内饰")]),t._v(" "),a("li",[t._v("空间")]),t._v(" "),a("li",[t._v("外观")]),t._v(" "),a("li",[t._v("经济性")]),t._v(" "),a("li",[t._v("舒适性")]),t._v(" "),a("li",[t._v("操控性")]),t._v(" "),a("li",[t._v("安全性")]),t._v(" "),a("li",[t._v("信息娱乐性")])]),t._v(" "),a("dl",{staticClass:"right"},[a("dt",[t._v("威朗")]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"23%"}})]),a("cite",[t._v("23%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"44%","background-color":"#f04048"}})]),a("cite",[t._v("44%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"31%"}})]),a("cite",[t._v("31%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"26%"}})]),a("cite",[t._v("26%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"62%"}})]),a("cite",[t._v("62%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"38%","background-color":"#0080c2"}})]),a("cite",[t._v("38%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"77%"}})]),a("cite",[t._v("77%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"35%","background-color":"#f04048"}})]),a("cite",[t._v("35%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"49%"}})]),a("cite",[t._v("49%")])]),t._v(" "),a("dd",[a("span",[a("em",{staticStyle:{width:"22%","background-color":"#0080c2"}})]),a("cite",[t._v("22%")])])])])],2),t._v(" "),a("router-link",{staticClass:"cyc-cx-btn",attrs:{to:"#"}},[t._v("查看具体配置优化策略")]),t._v(" "),a("router-link",{staticClass:"cyc-cx-btn_back",attrs:{to:"#"}},[t._v("去配置自造车清单")])],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",[this._v("\n            月份："),e("cite",[this._v("2018-2")]),this._v("\n            本品："),e("cite",[this._v("威朗")])])}]};var le=a("Z0/y")(re,oe,!1,function(t){a("VfTT")},"data-v-ecb90e44",null).exports,_e=a("4YfN"),ce=a.n(_e),de=a("i8gr"),ue=a("9rMa"),he=a("wMq3"),me={data:function(){return{year_month:"2018/03",manage_dimension:"全国",manage_type:"零售量",uri_map:["","country","area","province"],dimension_id:"",dimension_name:""}},computed:{manage_type_id:function(){return this.$store.state.user.dimension[0].manage_type_id||""},dimension:function(){var t=this,e=this.$store.state.user.dimension||[],a=this.$route.path,s=e.find(function(e){var s=t.uri_map[e.manage_type_id]||"";return-1!=a.indexOf(s)})||{};return s}},mounted:function(){this.GET_DATA_TIME(),this.dimension_id=this.dimension.object_id||"",this.dimension_name=this.dimension.manage_name||""},methods:ce()({},Object(ue.b)([he.a]),{to_zero:function(t){return(!(t=(t=1*t.toString().replace(/\,/g,""))>1e8?1e8:t)||t<0||isNaN(t))&&(t=0),Math.round(Number(t))},GET_DATA_TIME:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$request.get(this.$interface.GET_DATA_TIME,{header:{token:this.token}},function(e){var a=e.data[0]||[];t.year_month=a.end_time||t.year_month},function(t){})},expireWithUUID:function(t,e){"200"==t.result_code&&"OK: 目标草稿已过期或不存在"==t.result_msg&&(sessionStorage.removeItem("iways_uuid"),"function"==typeof e&&e())},groupByBrandName:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"region",a=[];return t.map(function(t){var s=t.previous_level.name,i=s.match(/(.*)\d/),n=i&&i[1]?i[1]:s,r=a.findIndex(function(t){return t.label==n});r>=0||(r=a.length,a[r]=[]),a[r].value=r,a[r].label=n,a[r].children||(a[r].children=[]);var o={value:t.previous_level.id,label:t.previous_level.name};"province"==e&&(o.children=t.list.map(function(t){return{value:t.id,label:t.name}})),a[r].children.push(o)}),a},updateDimension:function(t,e){var a,s=this,i=this.$store.state.user.dimension,n=this.$route.path,r=i.findIndex(function(t){var e=s.uri_map[t.manage_type_id]||"";return-1!=n.indexOf(e)});a=i.map(function(a,s){return s==r&&(a={object_id:t,manage_name:e,manage_type_id:a.manage_type_id}),a}),this.USER_DIMENSION(a)}})},ve={name:"",mixins:[g.a,me],data:function(){return{loading:!0,brands:[],models:[],areas:[],allAreas:[],regions:[],selected_brand_id:""}},mounted:function(){this.GET_SUB_MODEL()},methods:{GET_SUB_MODEL:function(){var t=this;this.$request.get(this.$interface.GET_SUB_MODEL,{header:{token:this.token}},function(e){var a=e.data||[];t.brands=a.filter(function(t){if(15==t.previous_level.id)return t}),t.models="",t.GET_REGION()},this.failure)},GET_REGION:function(){var t=this;this.loading=!0,this.$request.get(this.$interface.GET_REGION,{header:{token:this.token}},function(e){t.loading=!1,t.allAreas=e.data||[],t.initData()},this.failure)},filtersArea:function(t){for(var e in this.areas=[],this.allAreas){this.allAreas[e].previous_level.name.indexOf(t)>-1&&this.areas.push(this.allAreas[e])}},filtersModel:function(t){var e=this;this.models=[],this.brands.every(function(a){return a.previous_level.id!=t||(e.models=a.list,!1)})},changeBrand:function(t,e){this.selected_brand_id=t,this.filtersArea(e),this.filtersModel(t)},initData:function(){var t=this.brands[0];this.selected_brand_id=t.previous_level.id,this.models=t.list,this.filtersArea(t.previous_level.name),this.filtersModel(t.previous_level.id)}},components:{BiBar:Rt,BiPanel:v.a,BiEmpty:wt.a}},pe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("bi-bar",{attrs:{columnTitle:"设定车型区域"}},[a("template",{slot:"right"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("span",{staticClass:"bread-legend"},[t._v("当前位置：")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("概览主页")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 销量目标管理 ")])],1)],1)],2),t._v(" "),a("div",{staticClass:"content"},[a("el-popover",{ref:"popoverVa",attrs:{"popper-class":"cyc-xl-tooltip-box",placement:"bottom-end",width:"160",trigger:"click"}},[a("div",{staticClass:"cyc-xl-tooltip"},[a("i",{staticClass:"iconfont icon-dianhua1"}),t._v("请联系客户管理员\n      ")])]),t._v(" "),a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[t._v("\n        品牌车型\n      ")]),t._v(" "),a("template",{slot:"others"},[a("span",{directives:[{name:"popover",rawName:"v-popover:popoverVa",arg:"popoverVa"}],staticClass:"edit-btn"},[a("i",{staticClass:"iconfont icon-ic_2"}),t._v(" 编辑")])]),t._v(" "),a("div",{staticClass:"cyc-xl-search nohover"},[a("dl",[a("dt",[t._v("品牌：")]),t._v(" "),a("dd",[t._l(t.brands,function(e,s){return[a("span",{key:s,class:{on:e.previous_level.id==t.selected_brand_id},on:{click:function(a){t.changeBrand(e.previous_level.id,e.previous_level.name)}}},[t._v("\n                "+t._s(e.previous_level.name)+"\n              ")])]})],2)]),t._v(" "),a("dl",[a("dt",[t._v("车型：")]),t._v(" "),a("dd",t._l(t.models,function(e,s){return a("span",{key:s},[t._v(t._s(e.name))])}))])])],2),t._v(" "),a("el-popover",{ref:"popoverVb",attrs:{"popper-class":"cyc-xl-tooltip-box",placement:"top-end",width:"160",trigger:"click"}},[a("div",{staticClass:"cyc-xl-tooltip"},[a("i",{staticClass:"iconfont icon-dianhua1"}),t._v("请联系客户管理员\n      ")])]),t._v(" "),a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[t._v("\n        大区\n      ")]),t._v(" "),a("template",{slot:"others"},[a("span",{directives:[{name:"popover",rawName:"v-popover:popoverVb",arg:"popoverVb"}],staticClass:"edit-btn"},[a("i",{staticClass:"iconfont icon-ic_2"}),t._v(" 编辑")])]),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"cyc-xl-search nohover",staticStyle:{"min-height":"200px"},attrs:{"element-loading-background":"#fff"}},[0!=t.areas.length?t._l(t.areas,function(e,s){return a("dl",{key:s},[a("dt",[t._v(t._s(e.previous_level.name)+" :")]),t._v(" "),a("dd",{staticStyle:{width:"70%"}},[0==e.list.length?[a("cite",{staticStyle:{color:"#999999","font-size":"13px","line-height":"27px"}},[t._v("暂无数据")])]:t._l(e.list,function(e,s){return[a("span",[t._v(t._s(e.name))])]})],2)])}):t.areas.length<=0&&!t.loading?a("div",[a("bi-empty",[a("template",{slot:"tips"},[t._v(" ")])],2)],1):t._e()],2)],2),t._v(" "),a("el-popover",{ref:"popoverVc",attrs:{"popper-class":"cyc-xl-tooltip-box",placement:"top-end",width:"160",trigger:"click"}},[a("div",{staticClass:"cyc-xl-tooltip"},[a("i",{staticClass:"iconfont icon-dianhua1"}),t._v("请联系客户管理员\n      ")])]),t._v(" "),a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[t._v("\n        预警\n      ")]),t._v(" "),a("template",{slot:"others"},[a("span",{directives:[{name:"popover",rawName:"v-popover:popoverVc",arg:"popoverVc"}],staticClass:"edit-btn"},[a("i",{staticClass:"iconfont icon-ic_2"}),t._v(" 编辑")])]),t._v(" "),a("div",{staticClass:"cyc-xl-search nohover"},[a("dl",[a("dt",[t._v("一级预警")]),t._v(" "),a("dd",[a("font",{staticClass:"red"},[a("em",[t._v(" 0% <= YTD完成率 < 80%")]),t._v(" 红色：差")])],1)]),t._v(" "),a("dl",[a("dt",[t._v("二级预警")]),t._v(" "),a("dd",[a("font",{staticClass:"orange"},[a("em",[t._v("80% <= YTD完成率 < 100%")]),t._v(" 橙色：正常")])],1)]),t._v(" "),a("dl",[a("dt",[t._v("三级预警")]),t._v(" "),a("dd",[a("font",{staticClass:"greed"},[a("em",[t._v("YTD完成率 >= 100%")]),t._v(" 绿色：优")])],1)])])],2),t._v(" "),a("router-link",{staticClass:"cyc-xl-btn",attrs:{to:"target"}},[t._v("我知道了")])],1)],1)},staticRenderFns:[]};var fe=a("Z0/y")(ve,pe,!1,function(t){a("YugF")},"data-v-4cbe3d32",null).exports,ge=a("kxc+"),be=a.n(ge),ye={name:"",mixins:[g.a,me],data:function(){return{areaPart:!0,brand_id:"",brand_name:"",brands:[],brands_models:[],map_area:1,overview_info:"",overview_children:[],page:1,page_size:5,region_id:"",regions:[],region_name:"",sub_model_id:"",serial_number:"",selected_models:{},target_list:[],total_page:0,tooltips:!1,selected_region_color:"",dimension_type:"REGION",province_map:{"北京":["北京市"],"辽宁":["辽宁省"],"湖北":["湖北省"],"重庆":["重庆市"],"河南":["河南省"],"湖南":["湖南省"],"河北":["河北省"],"山西":["山西省"],"广东":["广东省"],"浙江":["浙江省"],"安徽":["安徽省"],"江苏":["江苏省"],"上海":["上海市"],"黑龙江":["黑龙江省"],"天津":["天津市"],"云南":["云南省"],"新疆":["新疆维吾尔族自治区","新疆维吾尔自治区"],"江西":["江西省"],"广西":["广西壮族自治区"],"甘肃":["甘肃省"],"内蒙古":["内蒙古自治区"],"陕西":["陕西省"],"吉林":["吉林省"],"山东":["山东省"],"福建":["福建省"],"贵州":["贵州省"],"青海":["青海省"],"西藏":["西藏自治区"],"四川":["四川省"],"宁夏":["宁夏回族自治区"],"海南":["海南省"]},colored_by_range:[{color:"#99cc00",range:[1,"max"]},{color:"#ff9900",range:[.8,1]},{color:"#f04048",range:[0,.8]}],loading:new Array(3).fill(!1),complete:new Array(3).fill(!1)}},computed:{overview_children_page:function(){return this.overview_children},sub_models:function(){var t=this,e=this.brands_models.filter(function(e){return e.previous_level.id==t.brand_id});return e.length?e[0].list:[]},region_valid:function(){var t=this.overview_children.map(function(t){return t.metadata.id});return this.regions.filter(function(e){return t.includes(e.previous_level.id)})},region_groups:function(){var t=[],e=this.province_map;return this.region_valid.map(function(a){var s=a.previous_level.id,i=a.previous_level.name;a.list.map(function(a){var n="";for(var r in e){e[r].includes(a.name)&&(n=r)}n=n||a.name,t.push({name:n,regions:i,value:1,id:s})})}),t},regionsColor:function(){var t=this.colored_by_range;return this.overview_children.map(function(e,a){var s=t.find(function(t){var a=e.ytd_cr;return a>=t.range[0]&&("max"==t.range[1]||a<t.range[1])});return{name:e.metadata.name,color:s?s.color:""}})},provinceColor:function(){var t=this.colored_by_range,e=this.province_map;return this.overview_children.map(function(a,s){var i=t.find(function(t){var e=a.ytd_cr;return e>=t.range[0]&&("max"==t.range[1]||e<t.range[1])}),n="";for(var r in e){e[r].includes(a.metadata.name)&&(n=r)}return{name:n,color:i.color||""}})}},watch:{brands_models:function(){this.brands=this.brands_models.map(function(t){return t.previous_level}),!this.brand_id&&this.brands.length&&(this.brand_id=this.brands[0].id,this.brand_name=this.brands[0].name)}},mounted:function(){var t=this;this.brand_id=15,this.brand_name="别克",this.GET_REGION(),this.GET_TARGET_LOG_PAGE(),this.GET_NEWST_TARGET(function(){t.GET_SUB_MODEL(),t.getData()})},methods:{selectSubmodel:function(t){var e=this;t==this.sub_model_id?(this.sub_model_id="",t=""):this.sub_model_id=t,this.selected_models={},this.sub_models.map(function(a){a.id==t?e.selected_models[a.id]=!0:e.selected_models[a.id]=!1}),this.getData()},getListData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=(this.page-1)*this.page_size,a=this.page_size;this.total_page=Math.ceil(t.length/this.page_size);var s=[];for(var i in t)i<e||i>=e+a||s.push(t[i]);return s},changeBrand:function(t){var e=this.brands.find(function(e){return e.id==t});e&&(this.brand_id=e.id,this.brand_name=e.name,this.getData())},backToCountry:function(){var t=this;this.map_area=1,this.dimension_type="REGION",this.GET_NEWST_TARGET(function(){t.GET_SUB_MODEL(),t.getData(!0)})},getData:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.serial_number){var a=function(){};switch(this.map_area){case 1:e&&(a=function(){R.a.parseGeoJson(be.a),R.a.registerMap("china",{type:"FeatureCollection",features:be.a.features,UTF8Encoding:!1}),t.initChart()}),this.GET_TARGET_OVERVIEW({manage_dimension:"NATIONAL",dimension_id:0},function(e){t.overview_info=e[0]||""}),this.GET_TARGET_OVERVIEW({manage_dimension:"REGION",dimension_id:0},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.overview_children=e,t.$nextTick(function(){a()})});break;case 2:if(!this.region_id)break;if(e){var s=this.regions.find(function(e){return e.previous_level.id==t.region_id}),i=s?s.list:[],n=this.province_map;i=i.map(function(t){var e="";for(var a in n){n[a].includes(t.name)&&(e=a)}return{name:e}}),a=function(){var e=[];for(var a in i)for(var s in be.a.features)be.a.features[s].properties.name==i[a].name&&e.push(be.a.features[s]);R.a.parseGeoJson(be.a),R.a.registerMap(t.region_name,{type:"FeatureCollection",features:e,UTF8Encoding:!1}),t.initChart2()}}this.GET_TARGET_OVERVIEW({manage_dimension:"REGION",dimension_id:this.region_id},function(e){t.overview_info=e[0]||""}),this.GET_TARGET_OVERVIEW({manage_dimension:"PROVINCE",region_id:this.region_id},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.overview_children=e,t.$nextTick(function(){a()})})}}},initChart:function(){var t=this,e=document.getElementById("countryChart");if(e){var a=R.a.init(e),s={tooltip:{show:!0,formatter:function(t){return t.data&&t.data.regions||""?""!=t.data.regions||void 0!=t.data.regions||null!=t.data.regions?t.data.regions:"暂无该地区数据":""}},geo:{map:"china",roam:!1,label:{normal:{show:!1},emphasis:{show:!1}},itemStyle:{normal:{borderColor:"#fff",borderWidth:1,shadowColor:"rgba(63, 218, 255, 0.5)"}}},series:[{type:"map",geoIndex:0,itemStyle:{normal:{color:function(e){var a=t.regionsColor.find(function(t){return t.name==e.data.regions}),s=a?a.color:"#eee";return s}}},data:this.region_groups}]};a.on("mouseover",function(e){var s=e.data&&e.data.regions||"";t.region_groups.forEach(function(t,e,i){s==t.regions&&a.dispatchAction({type:"highlight",name:t.name})})}),a.on("mouseout",function(e){var s=e.data&&e.data.regions||"";t.region_groups.forEach(function(t,e,i){s==t.regions&&a.dispatchAction({type:"downplay",name:t.name})})}),a.on("click",function(e){t.region_id=e.data.id,t.region_name=e.data.regions,t.selected_region_color=e.color,t.dimension_type="PROVINCE",t.GET_NEWST_TARGET(function(){t.map_area=2,t.GET_SUB_MODEL(),t.getData()},"REGION")}),a.setOption(s)}},initChart2:function(){var t=this,e=R.a.init(document.getElementById("areaChart")),a={geo:{map:this.region_name,roam:!1,itemStyle:{normal:{borderColor:"#fff"}}},series:[{type:"map",geoIndex:0,itemStyle:{normal:{color:function(e){return t.selected_region_color}}},data:this.region_groups}]};e.on("mouseover",function(a){var s=a.data.name;t.region_groups.forEach(function(t,a,i){s==t.name&&e.dispatchAction({type:"highlight",name:t.name})})}),e.on("mouseout",function(a){var s=a.data.name;t.region_groups.forEach(function(t,a,i){s==t.name&&e.dispatchAction({type:"downplay",name:t.name})})}),e.on("click",function(t){}),e.setOption(a)},GET_TARGET_LOG_PAGE:function(){var t=this;this.loading[0]=!0,this.$request.get(this.$interface.GET_TARGET_LOG_PAGE,{header:{token:this.token},manage_dimension:"NATIONAL",page:1,rows:6},function(e){var a=e.data[0];t.target_list=a.list||[],t.complete[0]=!0,t.loading[0]=!1},this.failure)},GET_TARGET_OVERVIEW:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this.loading[1]=!0,this.$request.get(this.$interface.GET_TARGET_OVERVIEW,{header:{token:this.token},serial_number:this.serial_number||"",brand_id:this.brand_id||"",sub_model_id:this.sub_model_id||"",manage_dimension:e.manage_dimension||"NATIONAL",region_id:e.region_id||"",dimension_id:e.dimension_id||""},function(e){t.complete[1]=!0,t.loading[1]=!1;var s=e.data;"function"==typeof a&&a(s)},this.failure)},GET_SUB_MODEL:function(){var t=this;this.$request.get(this.$interface.GET_SUB_MODEL,{header:{token:this.token},serial_number:this.serial_number||""},function(e){var a=e.data;t.brands_models=a||[]},this.failure)},GET_REGION:function(){var t=this;this.$request.get(this.$interface.GET_REGION,{header:{token:this.token}},function(e){var a=e.data;t.regions=a||[]},this.failure)},GET_NEWST_TARGET:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"NATIONAL";this.$request.get(this.$interface.GET_NEWST_TARGET,{header:{token:this.token},manage_dimension:a,region_id:"REGION"==a?this.region_id:""},function(a){var s=a.data[0]||{};if(t.serial_number=s.serial_number||"",!t.serial_number)return t.$message.error({title:"错误信息",message:"请先设置该区域目标"}),void(t.dimension_type="REGION");"function"==typeof e&&e()},this.failure)}},components:{BiBar:Rt,BiPanel:v.a,BiProgress:f.a,BiEmpty:wt.a}},we={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"min-height":"300px"}},[a("bi-bar",{attrs:{columnTitle:"概况"}},[a("template",{slot:"button"},[a("span",{staticClass:"mgr20 mgl10"},[t._v("时间："+t._s(t.year_month))]),t._v(" "),a("span",{staticClass:"mgr20"},[t._v("管理维度："+t._s(t.dimension_name))]),t._v(" "),a("span",{staticClass:"mgr20"},[t._v("管理类型："+t._s(t.manage_type))])]),t._v(" "),a("template",{slot:"right"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("span",{staticClass:"bread-legend"},[t._v("当前位置：")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("概览主页")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 销量目标管理")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 全国 - 概况")])],1)],1)],2),t._v(" "),a("div",{staticClass:"content cyc-xl-target"},[a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[t._v("\n          我制定的目标信息\n        ")]),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading[0],expression:"loading[0]"}],staticStyle:{"min-height":"100px"}},[t.target_list.length?a("ul",{staticClass:"grid-target"},t._l(t.target_list,function(e,s){return a("li",[a("p",[a("router-link",{attrs:{to:{path:"target/detail",query:{serial_number:e.serial_number}},title:e.name}},[t._v("\n                "+t._s(e.name)+"\n                ")]),t._v(" "),0==s?a("el-badge",{staticClass:"grid-target-badge",attrs:{value:"new"}}):t._e()],1),t._v(" "),e.author?a("font",[t._v("\n                "+t._s(e.author.username)+" "+t._s(e.author.role_name)+"\n                "),a("cite",[t._v(t._s(t._f("date_format")(e.create_time,"YYYY-MM-DD")))])]):t._e()],1)})):t.complete[0]?a("bi-empty",[a("span",{attrs:{slot:"tips"},slot:"tips"})]):t._e()],1)],2),t._v(" "),a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[t._v("\n          预警信息\n        ")]),t._v(" "),a("template",{slot:"others"},[1==t.map_area?a("router-link",{staticClass:"edit-btn",attrs:{to:"alarm/detail?type=national&area_name=全国&dimension=NATIONAL",target:"_blank"}},[t._v("\n            查看全国"),a("i",{staticClass:"iconfont icon-right",staticStyle:{"font-size":"14px",top:"0","margin-left":"8px"}})]):a("router-link",{staticClass:"edit-btn",attrs:{to:{path:"alarm/detail",query:{type:"region",area_id:t.region_id,area_name:t.region_name,model_id:t.sub_model_id,dimension:"REGION"}},target:"_blank"}},[t._v("\n            查看全区"),a("i",{staticClass:"iconfont icon-right",staticStyle:{"font-size":"14px",top:"0","margin-left":"8px"}})])],1),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading[1],expression:"loading[1]"}],staticStyle:{"min-height":"200px"},attrs:{"element-loading-background":"#fff"}},[t.overview_info?a("el-container",[a("el-aside",{staticClass:"warning-left",attrs:{width:"180px"}},[a("el-dropdown",{attrs:{trigger:"click"},on:{command:t.changeBrand}},[a("div",{staticClass:"el-dropdown-link"},[t._v("\n                  "+t._s(t.brand_name)),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.brands,function(e){return a("el-dropdown-item",{key:e.id,attrs:{command:e.id}},[t._v(t._s(e.name))])}))],1),t._v(" "),a("div",{staticClass:"car-box"},[a("ul",t._l(t.sub_models,function(e,s){return a("li",{class:{on:t.selected_models[e.id]},on:{click:function(a){t.selectSubmodel(e.id)}}},[a("img",{attrs:{src:e.logo_url&&0==e.logo_url.indexOf("http")?e.logo_url:"/static/images/nocar-nbg.png",alt:""}}),a("span",[t._v(t._s(e.name))])])}))])],1),t._v(" "),a("el-main",[a("div",{staticClass:"warning-top"},[a("el-row",[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-warning"},[a("h2",[t._v("TY目标")]),t._v(" "),a("h3",[t.overview_info.ty?[t._v(t._s(t._f("number_format")(t.overview_info.ty)))]:[t._v("暂无数据")]],2)])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-warning-right"},[a("h2",[t._v("MTD当月完成率 ")]),t._v(" "),a("span",{staticClass:"progress-box"},[a("bi-progress",{attrs:{percentage:[t.overview_info.mtd_cr?t.overview_info.mtd_cr:-1],precision:1,color:"#339acd",height:"12"}})],1),t._v(" "),a("p",{attrs:{title:[t.overview_info.mtd_sales?"完成销量："+t.overview_info.mtd_sales:"完成销量：暂无数据"]}},[t._v("\n                        完成销量：\n                        "),t.overview_info.mtd_sales?a("font",{staticStyle:{color:"#339acd"}},[t._v(t._s(t._f("number_format")(t.overview_info.mtd_sales)))]):a("font",{staticStyle:{color:"#339acd"}},[t._v("暂无数据")])],1)])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-warning-right"},[a("h2",[t._v("YTD完成目标进度")]),t._v(" "),a("span",{staticClass:"progress-box"},[a("bi-progress",{attrs:{percentage:[t.overview_info.ytd_target_progress?t.overview_info.ytd_target_progress:-1],precision:1,color:"#339acd",height:"12"}})],1),t._v(" "),a("p",{attrs:{title:[t.overview_info.ytd_cr?"YTD全年完成率："+(100*t.overview_info.ytd_cr).toFixed(1)+"%":"YTD全年完成率：暂无数据"]}},[t._v("\n                        YTD全年完成率：\n                        "),t.overview_info.ytd_cr?a("font",{staticStyle:{color:"#339acd"}},[t._v(t._s(t._f("number_format")(t._f("multiply")(t.overview_info.ytd_cr,100),1))+"%")]):a("font",{staticStyle:{color:"#339acd"}},[t._v("暂无数据")])],1),t._v(" "),a("p",{attrs:{title:[t.overview_info.ytd_last_year_cr?"去年YTD全年完成率："+(100*t.overview_info.ytd_last_year_cr).toFixed(1)+"%":"去年YTD全年完成率：暂无数据"]}},[t._v("\n                        去年YTD全年完成率：\n                        "),t.overview_info.ytd_last_year_cr?a("font",{staticStyle:{color:"#339acd"}},[t._v(t._s(t._f("number_format")(t._f("multiply")(t.overview_info.ytd_last_year_cr,100),1))+"%")]):a("font",{staticStyle:{color:"#339acd"}},[t._v("暂无数据")])],1)])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-warning-right"},[a("h2",[t._v("YTD市场份额")]),t._v(" "),a("span",{staticClass:"progress-box"},[a("bi-progress",{attrs:{percentage:[t.overview_info.ytd_share?t.overview_info.ytd_share:-1],precision:1,color:"#339acd",height:"12"}})],1),t._v(" "),a("p",{attrs:{title:[t.overview_info.ytd_target_share?"目标份额："+(100*t.overview_info.ytd_target_share).toFixed(1)+"%":"目标份额：暂无数据"]}},[t._v("\n                        目标份额：\n                        "),t.overview_info.ytd_target_share?a("font",{staticStyle:{color:"#339acd"}},[t._v(t._s(t._f("number_format")(t._f("multiply")(t.overview_info.ytd_target_share,100),1))+"%")]):a("font",{staticStyle:{color:"#339acd"}},[t._v("暂无数据")])],1),t._v(" "),a("p",{attrs:{title:[t.overview_info.ytd_share_diff?"差额："+(100*t.overview_info.ytd_share_diff).toFixed(1)+"%":"差额：暂无数据"]}},[t._v("\n                        差额：\n                        "),t.overview_info.ytd_share_diff?a("font",{staticStyle:{color:"#339acd"}},[t._v(t._s(t._f("number_format")(t._f("multiply")(t.overview_info.ytd_share_diff,100),1))+"%")]):a("font",{staticStyle:{color:"#339acd"}},[t._v("暂无数据")])],1)])])],1)],1),t._v(" "),a("div",{staticClass:"warning-center"},[a("span",{directives:[{name:"show",rawName:"v-show",value:2==t.map_area,expression:"map_area == 2"}],staticClass:"back-btn btn-plain",on:{click:function(e){t.backToCountry()}}},[a("i",{staticClass:"iconfont icon-icon&#45;&#45;"}),t._v(" 返回全国\n              ")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1==t.map_area,expression:"map_area == 1"}],staticStyle:{width:"100%",height:"500px"},attrs:{id:"countryChart"}}),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:2==t.map_area,expression:"map_area == 2"}],staticStyle:{width:"100%",height:"500px"},attrs:{id:"areaChart"}})])]),t._v(" "),a("transition",{attrs:{name:"el-fade-in-linear"}},[t.areaPart?a("el-aside",{staticClass:"warning-right",attrs:{width:"190px"}},[t.overview_children_page.length?a("div",{staticClass:"car-box"},[a("ul",t._l(t.overview_children_page,function(e){return a("li",[a("router-link",{staticClass:"box",attrs:{target:"_blank",to:{path:"/zhiku/xl/country/alarm/detail",query:{type:"region",area_name:e.metadata.name,area_id:e.metadata.id,dimension:t.dimension_type,regionid:t.region_id}}}},[a("h3",[a("router-link",{attrs:{target:"_blank",to:{path:"/zhiku/xl/country/alarm/detail",query:{type:"region",area_name:e.metadata.name,area_id:e.metadata.id,dimension:t.dimension_type,regionid:t.region_id}}}},[t._v(t._s(e.metadata.name))])],1),t._v(" "),a("p",[t._v("TY目标："),a("span",[t._v(t._s(t._f("number_format")(e.ty)))])]),t._v(" "),a("p",[t._v("MTD当月完成率："),a("span",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.mtd_cr,100),1))+"%")])]),t._v(" "),a("p",[t._v("YTD完成进度："),a("span",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.ytd_target_progress,100),1))+"%")])]),t._v(" "),a("p",[t._v("YTD市场份额："),a("span",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.ytd_share,100),1))+"%")])])])],1)}))]):t.complete[2]?a("bi-empty",{attrs:{"show-result":!1}},[a("span",{attrs:{slot:"tips"},slot:"tips"},[t._v("暂无数据")])]):t._e()],1):t._e()],1)],1):t.complete[1]?a("bi-empty",[a("span",{attrs:{slot:"tips"},slot:"tips"},[t._v("亲爱的，暂时没有相关数据，请先完成目标制定！如还有疑问，请联系客户管理员。")])]):t._e()],1)],2)],1)],1)},staticRenderFns:[]};var ke=a("Z0/y")(ye,we,!1,function(t){a("mZyT")},"data-v-6709a8e8",null).exports,Ce={name:"",mixins:[g.a,me],data:function(){return{remainTarget:0,resplit:this.$route.query.resplit,popover_status:[],brand_sales_target:"",newSum_target:"",oldSum_target:"",refresh:0,apply:!0,sub_model_sales_target_obj:[],sub_model_sales_targets:[],brand_target:{metadata:{},ty:"",ly_sales:"",ty_yoy:"",last_ty:"",ty_mom:""},model_target:[],uuid:this.$route.query.uuid||"",brand_status:"default",brand_focus:!1,click_flag:0,model_focus:[],model_hover:[],editbtn_state:!1,errortip_state:!1,model_status:[],model_group_status:"",clickEvent:!1,loading:!0}},mounted:function(){var t=this,e=function(e){var a=e.data[0],i="";t.sub_model_sales_targets=[],a.list.map(function(e,a){t.sub_model_sales_targets.push(e.ty||""),s.default.set(t.popover_status,a,!1),s.default.set(t.model_focus,a,!1),s.default.set(t.model_hover,a,!1),s.default.set(t.model_status,a,"default"),e.ty>0&&(i="complete")}),i&&(t.sub_model_sales_targets=[],a.list.map(function(e,a){t.sub_model_sales_targets.push(e.ty),s.default.set(t.model_status,a,"complete")}))};if(this.uuid){var a=void 0!=this.resplit&&this.resplit;this.PUT_TOTAL_TARGET(a,e)}else this.POST_NATIONAL_TARGET_DRAFT(e)},directives:{focus:{inserted:function(t,e){e.value&&(Number(t.value)<=0&&(t.value=""),t.focus())}}},computed:{},watch:{brand_target:function(){this.brand_target.ty&&(this.brand_sales_target=this.brand_target.ty+"",this.brand_status="complete")},model_target:function(){var t=[];this.model_target.map(function(e){t.push({id:e.metadata.id,sales:e.ty||""})}),this.sub_model_sales_target_obj=t},sub_model_sales_targets:function(){var t=[];for(var e in this.sub_model_sales_target_obj){var a=this.sub_model_sales_target_obj[e];t.push({id:a.id,sales:this.to_zero(this.sub_model_sales_targets[e])})}this.sub_model_sales_target_obj=t,this.apply=!0},brand_sales_target:function(){var t=0,e=this.to_zero(this.brand_sales_target);for(var a in this.sub_model_sales_targets)t+=Number(this.sub_model_sales_targets[a]);this.remainTarget=e-t,0==e||0==e.length||this.checkAllNull()||0!=this.remainTarget||(this.model_group_status="completeList",this.editbtn_state=!0,this.click_flag=1,this.errortip_state=!0)}},methods:{tableClick:function(){var t=this,e=this.to_zero(this.brand_sales_target);0==e.length||0==e||this.checkAllNull()?this.model_group_status="defaultList":0!=this.remainTarget||this.checkNull()?(this.model_group_status="errorList",this.editbtn_state=!1,this.click_flag=0,this.errortip_state=!0):(this.model_group_status="completeList",this.editbtn_state=!0,this.click_flag=1,this.errortip_state=!1,this.apply&&this.PUT_TOTAL_TARGET(!1,function(){t.apply=!1}))},blurBrandTarget:function(){if(0!=this.brand_sales_target.length){var t=this.to_zero(this.brand_sales_target);this.newSum_target=t,this.brand_sales_target=t,this.brand_focus=!1,this.brand_target.ty=this.brand_sales_target,this.checkAllNull()?(this.refresh=0,this.brand_status="complete",this.newSum_target!=this.oldSum_target&&this.PUT_TOTAL_TARGET()):this.newSum_target!=this.oldSum_target?this.refresh=1:(this.refresh=0,this.brand_status="complete")}else this.brand_status="default"},focusBrandTarget:function(){var t=this,e=this.to_zero(this.brand_sales_target);this.oldSum_target=e,this.checkAllNull()?(this.model_group_status="defaultList",this.brand_status="edit",this.brand_focus=!0):this.$confirm("<p>亲爱的，您确定要修改品牌总目标？ <br/>修改后品牌总目标需要逐个重新分配到车型总目标。</p>","温馨提示",{confirmButtonText:"确定",cancelButtonText:"放弃",type:"warning",center:!0,dangerouslyUseHTMLString:!0}).then(function(){t.brand_status="edit",t.brand_focus=!0}).catch(function(){t.brand_status="complete",t.brand_focus=!1})},focusModelTarget:function(t,e){var a=this;if(this.brand_sales_target)if(2==e)this.$confirm("<p>亲爱的，您车型总目标已分配完成， <br/>您确定要修改车型总目标？</p>","温馨提示",{confirmButtonText:"确定",cancelButtonText:"放弃",type:"warning",center:!0,dangerouslyUseHTMLString:!0}).then(function(){s.default.set(a.popover_status,t,!0),s.default.set(a.model_status,t,"edit"),s.default.set(a.model_focus,t,!0),a.model_group_status="editList",a.errortip_state=!1,a.editbtn_state=!1,a.click_flag=0,a.calRemainTarget()}).catch(function(){});else{if(1==e)return;s.default.set(this.popover_status,t,!0),s.default.set(this.model_status,t,"edit"),s.default.set(this.model_focus,t,!0),this.model_group_status="editList",this.errortip_state=!1,this.calRemainTarget()}else this.$confirm("<div>亲爱的，您的品牌总目标还未制定，<br>请先制定品牌总目标。</div>","温馨提示",{cancelButtonText:"知道了",type:"error",center:!0,showConfirmButton:!1,dangerouslyUseHTMLString:!0}).catch(function(){a.brand_status="edit",a.brand_focus=!0})},blurInput:function(t){var e=this.sub_model_sales_targets[t];this.popover_status=this.popover_status.map(function(e,a){return t!==a&&e}),this.model_status=this.model_status.map(function(e,a){return t===a?"complete":e}),this.model_focus=this.model_focus.map(function(e,a){return t!==a&&e}),0==e.length?(s.default.set(this.model_status,t,"default"),s.default.set(this.model_focus,t,!1)):this.sub_model_sales_targets[t]=this.to_zero(e)},keyupInput:function(t){this.calRemainTarget()},mouseenterInput:function(t){"complete"==this.model_status[t]&&s.default.set(this.model_hover,t,!0)},mouseleaveInput:function(t){s.default.set(this.model_hover,t,!1)},calRemainTarget:function(){var t=0;for(var e in this.sub_model_sales_targets)t+=this.to_zero(this.sub_model_sales_targets[e]);this.remainTarget=this.brand_sales_target-t},nextStep:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.brand_sales_target<=0||void 0==this.brand_sales_target)this.$confirm("<div>亲爱的，您的品牌总目标还未制定，<br>请先制定品牌总目标。</div>","温馨提示",{cancelButtonText:"知道了",type:"error",center:!0,showConfirmButton:!1,dangerouslyUseHTMLString:!0}).catch(function(){t.brand_status="edit",t.brand_focus=!0});else if(0!=this.remainTarget){var e=this.remainTarget>=0?this.number_format(this.remainTarget)+"</strong></div><div><em>未分配品牌总目标</em></div>":this.number_format(-1*this.remainTarget)+"</strong></div><div><em>已超出品牌总目标</em></div>";this.$confirm('<div>抱歉，您的品牌总目标还未分配完成，请继续<br>制定车型总目标。</div><div><strong style="font-size:20px;color:red;">'+e,"温馨提示",{type:"error",center:!0,showCancelButton:!1,showConfirmButton:!1,dangerouslyUseHTMLString:!0}).catch(function(){t.model_group_status="errorList"})}else this.checkNull()?this.$confirm("<div>抱歉，您的车型总目标还未分配完成，请继续<br>制定车型总目标。</div>","温馨提示",{type:"error",center:!0,showCancelButton:!1,showConfirmButton:!1,dangerouslyUseHTMLString:!0}).catch(function(){t.model_group_status="errorList"}):this.PUT_TOTAL_TARGET(!1,function(e){e.verify_msg?alert(e.verify_msg):t.$router.push({path:"/zhiku/xl/country/target/setvb",query:{uuid:t.uuid,resplit:!0}})})},refreshTarget:function(){var t=this;if(this.brand_target.ty){for(var e in this.sub_model_sales_target_obj)this.sub_model_sales_target_obj[e].sales=this.sub_model_sales_targets[e];this.PUT_TOTAL_TARGET(!1,function(){t.refresh=2})}},checkNull:function(){var t=!1;return 0==this.sub_model_sales_targets.length||(this.sub_model_sales_targets.map(function(e,a){0==e.length&&(t=!0)}),t)},checkAllNull:function(){var t=!0;return this.sub_model_sales_targets.map(function(e,a){0!=e.length&&(t=!1)}),t},POST_NATIONAL_TARGET_DRAFT:function(t){var e=this,a=sessionStorage.getItem("iways_uuid")||"";if(a)return this.uuid=a,this.$router.push({path:"/zhiku/xl/country/target",query:{uuid:this.uuid}}),void this.PUT_TOTAL_TARGET(!1,t);this.$request.post(this.$interface.POST_NATIONAL_TARGET_DRAFT,{header:{token:this.token},data_source:1,title:"",year:2018},function(a){e.uuid=a.data[0].uuid||"",sessionStorage.setItem("iways_uuid",e.uuid),e.$router.push({path:"/zhiku/xl/country/target",query:{uuid:e.uuid}}),e.PUT_TOTAL_TARGET(!1,t)},this.failure)},PUT_TOTAL_TARGET:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this.loading=!0;var s=[];this.brand_sales_target&&(s=[{id:this.brand_target.metadata.id,sales:this.brand_sales_target}]),this.$request.put(this.$interface.PUT_TOTAL_TARGET,{header:{token:this.token},brand_target:s,sub_model_target:this.sub_model_sales_target_obj||[],uuid:this.uuid,resplit:void 0!==t?t:this.resplit},function(t){e.loading=!1;var s=t.data[0];e.brand_target=s.previous_level,e.model_target=s.list,"function"==typeof a&&a(t)},function(t){"400"==t.result_code&&"Bad Request: 目标草稿已过期或不存在"==t.result_msg?(sessionStorage.removeItem("iways_uuid"),e.POST_NATIONAL_TARGET_DRAFT(a)):e.failure(t)})}},components:{BiBar:Rt,BiPanel:v.a}},xe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("bi-bar",{attrs:{columnTitle:"目标制定"}},[a("template",{slot:"button"},[a("span",{staticClass:"mgr20"},[t._v("时间："+t._s(t.year_month))]),t._v(" "),a("span",{staticClass:"mgr20"},[t._v("管理维度："+t._s(t.dimension_name))]),t._v(" "),a("span",{staticClass:"mgr20"},[t._v("管理类型："+t._s(t.manage_type))])]),t._v(" "),a("template",{slot:"right"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("span",{staticClass:"bread-legend"},[t._v("当前位置：")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("概览主页")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 销量目标管理")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 全国 - 目标制定")])],1)],1)],2),t._v(" "),a("div",{staticClass:"content"},[a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[t._v("请输入全国总目标")]),t._v(" "),a("div",{attrs:{slot:"others"},slot:"others"},[a("router-link",{staticClass:"cyc-xl-step-btn on",attrs:{to:"target/list"}},[a("i",{staticClass:"iconfont icon-time"}),t._v("查看过往制定的目标")]),t._v(" "),a("router-link",{staticClass:"cyc-xl-step-btn ",attrs:{to:"setting"}},[t._v("设置车型区域")])],1),t._v(" "),a("div",{staticClass:"cyc-xl-step"},[a("ul",{staticClass:"step-bar"},[a("li",{staticClass:"active"},[a("span",[t._v("1")]),t._v(" "),a("div",[t._v("\n              进行中\n              "),a("em"),t._v(" "),a("small",[t._v("请输入全国总目标")])])]),t._v(" "),a("li",[a("span",{staticClass:"iconfont"},[t._v("2")]),t._v(" "),a("div",[t._v("\n              待进行\n              "),a("em"),t._v(" "),a("small",[t._v("按区域车型制定目标")])])]),t._v(" "),a("li",[a("span",{staticClass:"iconfont"},[t._v("3")]),t._v(" "),a("div",[t._v("\n              待进行\n              "),a("em"),t._v(" "),a("small",[t._v("按车型区域月份制定")])])]),t._v(" "),a("li",[a("span",{staticClass:"iconfont"},[t._v("4")]),t._v(" "),a("div",[t._v("\n              待进行\n              "),a("small",[t._v("预览结果并下发任务")])])])])])],2),t._v(" "),a("bi-panel",{staticStyle:{"margin-bottom":"-2px"},attrs:{operating:!1,"title-size":"small"}},[a("template",{slot:"title"},[t._v("请输入品牌总目标")]),t._v(" "),a("template",{slot:"others"},[a("span",{staticClass:"cyc-xl-title-tips"},[a("font",[t._v("说明：MTD 当前月份")]),t._v(" "),a("font",[t._v("YTD 累积至当前月份")]),t._v(" "),a("font",[t._v("RTD 下月累积至年底")]),t._v(" "),a("font",[t._v("TY  全年累积")])],1)]),t._v(" "),a("div",[a("table",{staticClass:"cyc-xl-table_va"},[a("thead",[a("tr",[a("th",{attrs:{width:"13%"}},[t._v("品牌")]),t._v(" "),a("th",{attrs:{width:"23"}},[t._v("TY-2018目标")]),t._v(" "),a("th",{attrs:{width:"16%"}},[t._v("TY-2017实际完成")]),t._v(" "),a("th",{attrs:{width:"21%"}},[t._v("最新目标-相对去年增长")]),t._v(" "),a("th",{attrs:{width:"10%"}},[t._v("TY(0+12)")]),t._v(" "),a("th",{attrs:{width:"17%"}},[t._v("最新目标-相对0+12增长")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v(t._s(t.brand_target.metadata.name))]),t._v(" "),a("td",{class:t.brand_status,on:{click:function(e){e.stopPropagation(),t.clickEvent=!t.clickEvent}}},[["default"].includes(t.brand_status)?a("cite",{on:{click:function(e){t.focusBrandTarget(this)}}},[t._v("请输入目标数")]):["complete","error"].includes(t.brand_status)?a("cite",{on:{click:function(e){t.focusBrandTarget(this)}}},[t._v(t._s(t._f("number_format")(t.brand_target.ty)))]):a("input",{directives:[{name:"model",rawName:"v-model",value:t.brand_sales_target,expression:"brand_sales_target"},{name:"focus",rawName:"v-focus",value:t.brand_focus,expression:"brand_focus"}],attrs:{type:"text",placeholder:"请输入目标数"},domProps:{value:t.brand_sales_target},on:{click:function(e){t.brand_status="edit"},blur:function(e){t.blurBrandTarget()},input:function(e){e.target.composing||(t.brand_sales_target=e.target.value)}}}),t._v(" "),1==t.refresh?a("span",{staticClass:"cyc-xl-table_btn",on:{click:[function(e){t.refreshTarget()},function(e){e.stopPropagation(),t.clickEvent=!t.clickEvent}]}},[t._v("刷新")]):2==t.refresh?a("span",{staticClass:"refresh"},[t._v("已刷新")]):t._e()]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t.brand_target.ly_sales)))]),t._v(" "),a("td",["NaN"!=t.brand_target.ty_yoy?[t._v("\n                  "+t._s(t._f("number_format")(t._f("multiply")(t.brand_target.ty_yoy,100),1))+"%\n                ")]:[t._v("\n                  亲，暂未制定目标\n                ")]],2),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t.brand_target.last_ty)))]),t._v(" "),a("td",["NaN"!=t.brand_target.ty_mom?[t._v("\n                  "+t._s(t._f("number_format")(t._f("multiply")(t.brand_target.ty_mom,100),1))+"%\n                ")]:[t._v("\n                  亲，暂未制定目标\n                ")]],2)])])])])],2),t._v(" "),a("bi-panel",{attrs:{operating:!1,"title-size":"small"}},[a("template",{slot:"title"},[t._v("请输入车型总目标")]),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{"min-height":"300px"},attrs:{"element-loading-background":"#fff"}},[a("table",{staticClass:"cyc-xl-table_va",on:{click:function(e){t.tableClick()}}},[a("thead",[a("tr",[a("th",{attrs:{width:"13%"}},[t._v("车型")]),t._v(" "),a("th",{attrs:{width:"23"}},[t._v("TY-2018目标")]),t._v(" "),a("th",{attrs:{width:"16%"}},[t._v("TY-2017实际完成")]),t._v(" "),a("th",{attrs:{width:"21%"}},[t._v("最新目标-相对去年增长")]),t._v(" "),a("th",{attrs:{width:"10%"}},[t._v("TY(0+12)")]),t._v(" "),a("th",{attrs:{width:"17%"}},[t._v("最新目标-相对0+12增长")])])]),t._v(" "),a("tbody",{class:t.model_group_status},t._l(t.model_target,function(e,s){return a("tr",[a("td",[t._v(t._s(e.metadata.name))]),t._v(" "),a("td",{class:t.model_status[s],on:{mouseenter:function(e){t.mouseenterInput(s)},mouseleave:function(e){t.mouseleaveInput(s)},click:[function(e){t.focusModelTarget(s,t.click_flag)},function(e){e.stopPropagation(),t.clickEvent=!t.clickEvent}]}},[a("el-popover",{attrs:{"visible-arrow":!0,"popper-class":"cyc-xl-table_box_tips",placement:"top",trigger:"click"},model:{value:t.popover_status[s],callback:function(e){t.$set(t.popover_status,s,e)},expression:"popover_status[key]"}},[0!=t.remainTarget||t.checkNull()?a("div",{staticClass:"cyc-xl-table_tips error"},[t.remainTarget>0?[t._v("\n                    未分配总目标："+t._s(t._f("number_format")(t.remainTarget))+"\n                  ")]:0==t.remainTarget&&t.checkNull()?[t._v("\n                    您的车型总目标还未分配完成\n                  ")]:t.remainTarget<0?[t._v("\n                    已超出总目标："+t._s(t._f("number_format")(-1*t.remainTarget))+"\n                  ")]:t._e()],2):a("div",{staticClass:"cyc-xl-table_tips"},[t._v("\n                  您的车型总目标已分配完成\n                ")])]),t._v(" "),a("div",{staticStyle:{color:"red","font-size":"12px"}},[0==s&&t.remainTarget>0&&t.errortip_state?a("span",[a("i",{staticClass:"el-icon-warning"}),t._v(" 未分配总目标："+t._s(t._f("number_format")(t.remainTarget)))]):0==s&&t.remainTarget<0&&t.errortip_state?a("span",[a("i",{staticClass:"el-icon-warning"}),t._v(" 已超出总目标："+t._s(t._f("number_format")(-1*t.remainTarget)))]):0==s&&0==t.remainTarget&&t.errortip_state&&t.checkNull()?a("span",[a("i",{staticClass:"el-icon-warning"}),t._v(" 您的车型总目标还未分配完成")]):t._e()]),t._v(" "),["default"].includes(t.model_status[s])?a("cite",{on:{click:function(e){t.focusModelTarget(s)}}},[t._v("请输入目标数")]):["complete","error"].includes(t.model_status[s])?a("cite",{on:{click:function(e){t.focusModelTarget(s,t.click_flag)}}},[t._v(t._s(t._f("number_format")(1*t.sub_model_sales_targets[s])))]):a("input",{directives:[{name:"focus",rawName:"v-focus",value:t.model_focus[s],expression:"model_focus[key]"},{name:"model",rawName:"v-model",value:t.sub_model_sales_targets[s],expression:"sub_model_sales_targets[key]"}],attrs:{type:"text",placeholder:"请输入目标数"},domProps:{value:t.sub_model_sales_targets[s]},on:{blur:function(e){t.blurInput(s)},keyup:function(e){t.keyupInput(s)},input:function(e){e.target.composing||t.$set(t.sub_model_sales_targets,s,e.target.value)}}}),t._v(" "),t.model_hover[s]&&t.editbtn_state?a("span",{staticClass:"cyc-xl-table_btn",on:{click:function(e){t.focusModelTarget(s,2)}}},[t._v("编辑")]):t._e()],1),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.ly_sales)))]),t._v(" "),a("td",["NaN"!=e.ty_yoy?[t._v("\n                 "+t._s(t._f("number_format")(t._f("multiply")(e.ty_yoy,100),1))+"%\n               ")]:[t._v("\n                  亲，暂未制定目标\n                ")]],2),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.last_ty)))]),t._v(" "),a("td",["NaN"!=e.ty_mom?[t._v("\n                  "+t._s(t._f("number_format")(t._f("multiply")(e.ty_mom,100),1))+"%\n                ")]:[t._v("\n                  亲，暂未制定目标\n                ")]],2)])}))])])],2),t._v(" "),a("span",{staticClass:"cyc-xl-btn",on:{click:function(e){t.nextStep(!0)}}},[t._v("下一步：制定区域车型目标")])],1)],1)},staticRenderFns:[]};var Te=a("Z0/y")(Ce,xe,!1,function(t){a("nXET")},"data-v-a88e2d84",null).exports,Se={name:"",mixins:[g.a,me],data:function(){return{uuid:this.$route.query.uuid||"",region_target:[],resplit:this.$route.query.resplit,open_status:[],popover_status:[],region_status:[],region_focus:[],region_hover:[],region_sales_targets:[],region_sales_target_obj:[],remainTarget:0,country_sales_target:0,model_group_status:"",click_flag:1,spread:!0,editbtn_state:!0,errortip_state:!1,clickEvent:!1,apply:!0,loading:!0}},directives:{focus:{inserted:function(t,e){e.value&&(Number(t.value)<=0&&(t.value=""),t.focus())}}},mounted:function(){var t=this,e=void 0!=this.resplit&&this.resplit;this.PUT_REGION_TARGET(e,function(e){var a=e.data,i=[],n=[],r=[],o=0;t.region_sales_targets=[],a.map(function(e,a){var l=e.previous_level.ty;t.region_sales_targets.push(l),i[a]=!1,n[a]="complete",r[a]=!1,s.default.set(t.region_hover,a,!1),0==a?t.country_sales_target=e.previous_level.ty:o+=l}),t.region_focus=i,t.region_status=n,t.popover_status=r,t.remainTarget=t.country_sales_target-o,t.model_group_status="completeListVb"})},watch:{region_target:function(){var t=this,e=[];this.open_status=[],this.region_target.map(function(a,s){t.open_status.push(!1),0!=s&&e.push({id:a.previous_level.metadata.id,sales:a.previous_level.ty||""})}),this.region_sales_target_obj=e},region_sales_targets:function(){var t=[];for(var e in this.region_sales_target_obj){var a=this.region_sales_target_obj[e],s=Number(e)+1;t.push({id:a.id,sales:this.to_zero(this.region_sales_targets[s])})}this.region_sales_target_obj=t,this.apply=!0},remainTarget:function(){var t=this;0==this.remainTarget&&this.checkNull?this.spread=!0:(this.spread=!1,this.open_status.map(function(e,a){s.default.set(t.open_status,a,!1)}))}},methods:{tableClick:function(){var t=this,e=this.to_zero(this.country_sales_target);this.clickEvent=!1,0!=e.length&&0!=e?0!=this.remainTarget||this.checkNull()?(this.model_group_status="errorListVb",this.editbtn_state=!1,this.click_flag=0,this.errortip_state=!0):(this.model_group_status="completeListVb",this.spread=!0,this.editbtn_state=!0,this.click_flag=1,this.errortip_state=!1,this.apply&&this.PUT_REGION_TARGET(!1,function(){t.apply=!1})):this.model_group_status="defaultListVb"},changeOpenStatus:function(t){0==this.spread?this.$confirm('<div>抱歉，您的全国总目标还未分配完成，请继续<br>制定区域总目标。</div><div><strong style="font-size:20px;color:red;">'+this.number_format(this.remainTarget>=0?this.remainTarget:-1*this.remainTarget)+"</strong></div><div><em>未分配全国目标</em>","温馨提示",{type:"error",center:!0,showCancelButton:!1,showConfirmButton:!1,dangerouslyUseHTMLString:!0}).catch(function(){}):(this.model_group_status="defaultListVb",this.open_status=this.open_status.map(function(e,a){return a==t?!e:e}))},focusRegionTarget:function(t,e){var a=this;if(2==e)this.$confirm("<p>亲爱的，您区域总目标已分配完成， <br/>您确定要修改区域总目标？</p>","温馨提示",{confirmButtonText:"确定",cancelButtonText:"放弃",type:"warning",center:!0,dangerouslyUseHTMLString:!0}).then(function(){s.default.set(a.popover_status,t,!0),s.default.set(a.region_status,t,"edit"),s.default.set(a.region_focus,t,!0),a.model_group_status="editListVb",a.errortip_state=!1,a.editbtn_state=!1,a.click_flag=0,a.open_status.map(function(t,e){s.default.set(a.open_status,e,!1)})}).catch(function(){});else{if(1==e)return;0==t?0!=this.remainTarget||this.checkNull()?(this.model_group_status="errorListVb",this.editbtn_state=!1,this.click_flag=0,this.errortip_state=!0):(this.model_group_status="completeListVb",this.spread=!0,this.editbtn_state=!0,this.click_flag=1,this.errortip_state=!1,this.PUT_REGION_TARGET(!1)):(s.default.set(this.popover_status,t,!0),s.default.set(this.region_status,t,"edit"),s.default.set(this.region_focus,t,!0),this.model_group_status="editListVb",this.errortip_state=!1)}},blurRegionTarget:function(t){var e=this.region_sales_targets[t];s.default.set(this.popover_status,t,!1),s.default.set(this.region_status,t,"complete"),s.default.set(this.region_focus,t,!1),0==e.length?(s.default.set(this.region_status,t,"default"),s.default.set(this.region_focus,t,!1)):this.region_sales_targets[t]=this.to_zero(e)},keyupRegionTarget:function(t){this.calRemainTarget()},mouseenterInput:function(t){"complete"==this.region_status[t]&&s.default.set(this.region_hover,t,!0)},mouseleaveInput:function(t){s.default.set(this.region_hover,t,!1)},calRemainTarget:function(){var t=0;for(var e in this.region_sales_targets)0!=e&&(t+=this.to_zero(this.region_sales_targets[e]));this.remainTarget=this.country_sales_target-t},nextStep:function(){var t=this;0!=this.remainTarget?(this.$confirm('<div>抱歉，您的全国总目标还未分配完成，请继续<br>制定区域总目标。</div><div><strong style="font-size:20px;color:red;">'+this.number_format(this.remainTarget>=0?this.remainTarget:-1*this.remainTarget)+"</strong></div><div><em>未分配全国目标</em>","温馨提示",{type:"error",center:!0,showCancelButton:!1,showConfirmButton:!1,dangerouslyUseHTMLString:!0}).catch(function(){}),this.model_group_status=!0):this.PUT_REGION_TARGET(!1,function(e){e.verify_msg&&alert(e.verify_msg),t.$router.push({path:"/zhiku/xl/country/target/setvc",query:{uuid:t.uuid,resplit:!0}})})},checkNull:function(){var t=!1;return this.region_sales_targets.map(function(e,a){0==e.length&&(t=!0)}),t},checkAllNull:function(){var t=!0;return this.region_sales_targets.map(function(e,a){0!=e.length&&(t=!1)}),t},PUT_REGION_TARGET:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this.loading=!0,this.$request.put(this.$interface.PUT_REGION_TARGET,{header:{token:this.token},region_target:this.region_sales_target_obj||[],uuid:this.uuid,resplit:void 0!==t?t:this.resplit},function(t){e.loading=!1;var s=t.data;e.region_target=s,"function"==typeof a&&a(t)},function(t){"400"==t.result_code&&"Bad Request: 目标草稿已过期或不存在"==t.result_msg?(sessionStorage.removeItem("iways_uuid"),e.$router.push({path:"/zhiku/xl/country/target/setva"})):e.failure(t)})}},components:{BiBar:Rt,BiPanel:v.a}},Ee={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("bi-bar",{attrs:{columnTitle:"目标制定"}},[a("template",{slot:"button"},[a("span",{staticClass:"mgr20 mgl10"},[t._v("时间：2018/03")]),t._v(" "),a("span",{staticClass:"mgr20"},[t._v("管理维度：全国")]),t._v(" "),a("span",{staticClass:"mgr20"},[t._v("管理类型：零售量")])]),t._v(" "),a("template",{slot:"right"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("span",{staticClass:"bread-legend"},[t._v("当前位置：")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("概览主页")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 销量目标管理")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 目标制定")])],1)],1)],2),t._v(" "),a("div",{staticClass:"content"},[a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[t._v("按区域车型制定目标")]),t._v(" "),a("div",{staticClass:"cyc-xl-step"},[a("ul",{staticClass:"step-bar"},[a("li",{staticClass:"end"},[a("span",[a("i",{staticClass:"iconfont icon-check"})]),t._v(" "),a("div",[t._v("\n              已完成\n              "),a("em"),t._v(" "),a("small",[t._v("请输入全国总目标")])])]),t._v(" "),a("li",{staticClass:"active"},[a("span",[t._v("2")]),t._v(" "),a("div",[t._v("\n              待进行\n              "),a("em"),t._v(" "),a("small",[t._v("按区域车型制定目标")])])]),t._v(" "),a("li",[a("span",[t._v("3")]),t._v(" "),a("div",[t._v("\n              待进行\n              "),a("em"),t._v(" "),a("small",[t._v("按车型区域月份制定")])])]),t._v(" "),a("li",[a("span",[t._v("4")]),t._v(" "),a("div",[t._v("\n              待进行\n              "),a("small",[t._v("预览结果并下发任务")])])])])])],2),t._v(" "),a("bi-panel",{attrs:{operating:!1}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{"min-height":"300px"},attrs:{"element-loading-background":"#fff"}},[a("table",{staticClass:"cyc-xl-table_va",class:t.model_group_status,on:{click:function(e){t.tableClick()}}},[a("thead",{staticClass:"big"},[a("tr",[a("th",{attrs:{width:"14%"}},[t._v("区域-车型")]),t._v(" "),a("th",{attrs:{width:"15%"}},[t._v("TY-2018目标")]),t._v(" "),a("th",{attrs:{width:"6%"}},[t._v("构成比%")]),t._v(" "),a("th",{attrs:{width:"8%"}},[t._v("最新目标 - 相对 "),a("br"),t._v(" 去年增速")]),t._v(" "),a("th",{attrs:{width:"8%"}},[t._v("2018 "),a("br"),t._v(" 行业预测增速")]),t._v(" "),a("th",{attrs:{width:"8%"}},[t._v("TY-2017 "),a("br"),t._v(" 实际完成")]),t._v(" "),a("th",{attrs:{width:"8%"}},[t._v("TY-2017 "),a("br"),t._v(" 实际完成构成比%")]),t._v(" "),a("th",{attrs:{width:"8%"}},[t._v("TY "),a("br"),t._v(" ( 0 + 12 )")]),t._v(" "),a("th",{attrs:{width:"8%"}},[t._v("最新目标-相对 "),a("br"),t._v(" 0+12增速")])])]),t._v(" "),t._l(t.region_target,function(e,s){return e.previous_level?a("tbody",[a("tr",{},[a("td",[a("i",{class:t.open_status[s]?"el-icon-remove on":"el-icon-circle-plus",on:{click:[function(e){t.changeOpenStatus(s)},function(e){e.stopPropagation(),t.clickEvent=!t.clickEvent}]}}),t._v(t._s(e.previous_level.metadata.name))]),t._v(" "),a("td",{class:t.region_status[s],on:{mouseenter:function(e){t.mouseenterInput(s)},mouseleave:function(e){t.mouseleaveInput(s)},click:[function(e){t.focusRegionTarget(s,t.click_flag)},function(e){e.stopPropagation(),t.clickEvent=!t.clickEvent}]}},[a("el-popover",{attrs:{"visible-arrow":!0,"popper-class":"cyc-xl-table_box_tips",placement:"top",trigger:"click"},model:{value:t.popover_status[s],callback:function(e){t.$set(t.popover_status,s,e)},expression:"popover_status[key]"}},[a("div",{class:["cyc-xl-table_tips",{error:t.remainTarget<0}]},[t.remainTarget>=0?[t._v("\n                      未分配总目标："+t._s(t._f("number_format")(t.remainTarget))+"\n                    ")]:[t._v("\n                      已超出总目标："+t._s(t._f("number_format")(-1*t.remainTarget))+"\n                    ")]],2)]),t._v(" "),a("div",{staticStyle:{color:"red","font-size":"12px"}},[1==s&t.remainTarget>0&&t.errortip_state?a("span",[a("i",{staticClass:"el-icon-warning"}),t._v(" 未分配总目标："+t._s(t._f("number_format")(t.remainTarget)))]):1==s&t.remainTarget<0&&t.errortip_state?a("span",[a("i",{staticClass:"el-icon-warning"}),t._v(" 已超出总目标："+t._s(t._f("number_format")(-1*t.remainTarget)))]):t._e()]),t._v(" "),0==s?a("cite",{staticStyle:{border:"0"}},[t._v(t._s(t._f("number_format")(1*t.country_sales_target)))]):["default"].includes(t.region_status[s])?a("cite",{on:{click:function(e){t.focusRegionTarget(s)}}},[t._v("请输入目标数")]):["complete","error"].includes(t.region_status[s])?a("cite",{on:{click:function(e){t.focusRegionTarget(s,t.click_flag)}}},[t._v(t._s(t._f("number_format")(1*t.region_sales_targets[s])))]):a("input",{directives:[{name:"focus",rawName:"v-focus",value:t.region_focus[s],expression:"region_focus[key]"},{name:"model",rawName:"v-model",value:t.region_sales_targets[s],expression:"region_sales_targets[key]"}],attrs:{type:"text",placeholder:"请输入目标数"},domProps:{value:t.region_sales_targets[s]},on:{blur:function(e){t.blurRegionTarget(s)},keyup:function(e){t.keyupRegionTarget(s)},input:function(e){e.target.composing||t.$set(t.region_sales_targets,s,e.target.value)}}}),t._v(" "),t.region_hover[s]&&0!=s&&t.editbtn_state?a("span",{staticClass:"cyc-xl-table_btn",on:{click:function(e){t.focusRegionTarget(s,2)}}},[t._v("编辑")]):t._e()],1),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.previous_level.ty_ratio,100),1))+"%")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.previous_level.ty_growth_rate,100),1))+"%")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.previous_level.forecast_growth_rate,100),1))+"%")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.previous_level.ly_sales)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.previous_level.ly_ratio,100),1))+"%")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.previous_level.last_ty)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.previous_level.ty_mom,100),1))+"%")])]),t._v(" "),e.list&&t.open_status[s]?t._l(e.list,function(e,s){return a("tr",{staticClass:"secondary"},[a("td",[t._v(t._s(e.metadata.name))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.ty)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.ty_ratio,100),1))+"%")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.ty_growth_rate,100),1))+"%")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.forecast_growth_rate,100),1))+"%")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.cust_forecast)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.share_split)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.ly_sales)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.ly_ratio,100),1))+"%")])])}):t._e()],2):t._e()})],2)])]),t._v(" "),a("span",{staticClass:"cyc-xl-btn",on:{click:function(e){t.nextStep()}}},[t._v("下一步：制定区域月度目标")]),t._v(" "),a("router-link",{staticClass:"cyc-xl-btn_back",attrs:{to:{path:"setva",query:{uuid:t.uuid}}}},[t._v("上一步：修改车型总目标")])],1)],1)},staticRenderFns:[]};var Oe=a("Z0/y")(Se,Ee,!1,function(t){a("7w2f")},"data-v-2b3dca88",null).exports,De={name:"",mixins:[g.a],data:function(){return{uuid:this.$route.query.uuid||"",month_targets:[],month_sales_targets:[],month_sales_target_obj:[],year_sales_target:[],open_status:[],open_status2:[],popover_status:[],month_status:[],month_focus:[],remain_target:[],resplit:this.$route.query.resplit,target_start_month:1,rows:["proportion","last_year_proportion","target_share","last_year_share","segment_growth_rate","target_growth_rate"],columns:["q1","q2","h1","q3","q4","h2"],loading:!0}},directives:{focus:{inserted:function(t,e){e.value&&(Number(t.value)<=0&&(t.value=""),t.focus())}}},computed:{remain_target_total:function(){var t=0;return this.remain_target.map(function(e){t+=e}),t}},mounted:function(){var t=this,e=void 0!=this.resplit&&this.resplit;this.PUT_MONTH_TARGET(e,function(e){var a=e.data,s=[],i=[],n=[],r=[];t.target_start_month=e.target_start_month,a.map(function(e,a){var o=e.previous_level.month_target||"",l=0;r[a]=[],s[a]=[],i[a]=[],n[a]=[],t.year_sales_target[a]=e.previous_level.ty,o.map(function(t,e){r[a][e]=t,s[a][e]=!1,i[a][e]="complete",n[a][e]=!1,l+=Number(t)}),t.remain_target[a]=t.year_sales_target[a]-l}),t.month_sales_targets=r,t.month_focus=s,t.month_status=i,t.popover_status=n})},watch:{month_targets:function(){var t=this,e=[];this.month_targets.map(function(a,s){t.open_status.push(!1),t.open_status2.push([]),a.list.map(function(e,a){t.open_status2[s].push(!1)});var i=[];a.previous_level.month_target.map(function(e,a){a+1<t.target_start_month||i.push(e||"")}),e.push({id:a.previous_level.metadata.id,sales:i})}),this.month_sales_target_obj=e},month_sales_targets:function(){var t=this,e=[],a=function(a){var s=t.month_sales_target_obj[a],i=[];s.sales.map(function(e,s){var n=s+t.target_start_month-1;i.push(Number(t.month_sales_targets[a][n])||"")}),e.push({id:s.id,sales:i})};for(var s in this.month_sales_target_obj)a(s);this.month_sales_target_obj=e}},methods:{changeOpenStatus:function(t){de.a.set(this.open_status,t,!this.open_status[t])},changeOpenStatus2:function(t,e){var a=this;this.open_status2=this.open_status2.map(function(s,i){return i==t&&de.a.set(a.open_status2[i],e,!a.open_status2[i][e]),a.open_status2[i]})},focusMonthTarget:function(t,e){this.popover_status=this.popover_status.map(function(a,s){return t!=s?a:a.map(function(t,a){return e==a||t})}),this.month_status=this.month_status.map(function(a,s){return t!=s?a:a.map(function(t,a){return e!=a?t:"edit"})}),this.month_focus=this.month_focus.map(function(a,s){return t!=s?a:a.map(function(t,a){return e==a||t})})},blurMonthTarget:function(t,e){var a=Number((this.month_sales_targets[t][e]+"").replace(/\,/g,""));this.popover_status=this.popover_status.map(function(a,s){return t!=s?a:a.map(function(t,a){return e!=a&&t})}),this.month_status=this.month_status.map(function(a,s){return t!=s?a:a.map(function(t,a){return e!=a?t:"complete"})}),this.month_focus=this.month_focus.map(function(a,s){return t!=s?a:a.map(function(t,a){return e!=a&&t})}),a<=0||isNaN(a)?this.month_sales_targets[t][e]=0:this.month_sales_targets[t][e]=Math.round(a)},keyupMonthTarget:function(t){this.calRemainTarget(t)},calRemainTarget:function(t){var e=this,a=0;this.month_sales_targets[t]&&(this.month_sales_targets[t].map(function(t,e){a+=Number(t)}),this.remain_target=this.remain_target.map(function(s,i){return t!=i?s:e.year_sales_target[t]-a}))},PUT_MONTH_TARGET:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this.loading=!0,this.$request.put(this.$interface.PUT_MONTH_TARGET,{header:{token:this.token},month_target:this.month_sales_target_obj||[],uuid:this.uuid,resplit:void 0!==t?t:this.resplit},function(t){e.loading=!1;var s=t.data;e.month_targets=s,"function"==typeof a&&a(t)},function(t){"400"==t.result_code&&"Bad Request: 目标草稿已过期或不存在"==t.result_msg?(sessionStorage.removeItem("iways_uuid"),e.$router.push({path:"/zhiku/xl/country/target/setva"})):e.failure(t)})},nextStep:function(){var t=this;if(this.remain_target.length){var e=this.remain_target.findIndex(function(t,e){return 0!=t});if(-1!=e){this.month_status=this.month_status.map(function(t,a){return t.map(function(t,s){return a==e?"error":"complete"})});var a=this.month_targets[e].previous_level.metadata.name,s=this.remain_target[e],i=0==e?"，请返回上一步重新制定目标":"",n="<div>抱歉，目标区域的 "+a+'</div><div><strong style="font-size:20px;color:red;">'+this.number_format(s>0?s:-1*s)+"</strong></div><div><em>"+(s>0?"未分配":"已超过")+"目标</em>"+i;return void this.$confirm(n,"温馨提示",{type:"error",center:!0,showCancelButton:!1,showConfirmButton:!1,dangerouslyUseHTMLString:!0}).catch(function(){})}}this.PUT_MONTH_TARGET(!1,function(e){e.verify_msg?alert(e.verify_msg):t.$router.push({path:"/zhiku/xl/country/target/setvd",query:{uuid:t.uuid}})})}},components:{BiBar:Rt,BiPanel:v.a}},Ae={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("bi-bar",{attrs:{columnTitle:"目标制定"}},[a("template",{slot:"button"},[a("span",{staticClass:"mgr20 mgl10"},[t._v("时间：2018/03")]),t._v(" "),a("span",{staticClass:"mgr20"},[t._v("管理维度：全国")]),t._v(" "),a("span",{staticClass:"mgr20"},[t._v("管理类型：零售量")])]),t._v(" "),a("template",{slot:"right"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("span",{staticClass:"bread-legend"},[t._v("当前位置：")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("概览主页")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 销量目标管理")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 目标制定")])],1)],1)],2),t._v(" "),a("div",{staticClass:"content"},[a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[t._v("按车型区域月份制定")]),t._v(" "),a("div",{staticClass:"cyc-xl-step"},[a("ul",{staticClass:"step-bar"},[a("li",{staticClass:"end"},[a("span",[a("i",{staticClass:"iconfont icon-check"})]),t._v(" "),a("div",[t._v("\n              已完成\n              "),a("em"),t._v(" "),a("small",[t._v("请输入全国总目标")])])]),t._v(" "),a("li",{staticClass:"end"},[a("span",[a("i",{staticClass:"iconfont icon-check"})]),t._v(" "),a("div",[t._v("\n              已完成\n              "),a("em"),t._v(" "),a("small",[t._v("按区域车型制定目标")])])]),t._v(" "),a("li",{staticClass:"active"},[a("span",[t._v("3")]),t._v(" "),a("div",[t._v("\n              待进行\n              "),a("em"),t._v(" "),a("small",[t._v("按车型区域月份制定")])])]),t._v(" "),a("li",[a("span",[t._v("4")]),t._v(" "),a("div",[t._v("\n              待进行\n              "),a("small",[t._v("预览结果并下发任务")])])])])])],2),t._v(" "),a("bi-panel",{attrs:{operating:!1}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{overflow:"auto","min-height":"300px"},attrs:{"element-loading-background":"#fff"}},[a("table",{staticClass:"cyc-xl-table_va expand"},[a("thead",[a("tr",[a("th",{attrs:{width:"10%"}},[t._v("区域-车型")]),t._v(" "),a("th",{attrs:{width:"8%"}},[t._v("TY-2018"),a("br"),t._v(" 目标")]),t._v(" "),a("th",{attrs:{width:"4.3%"}},[t._v("Jan")]),t._v(" "),a("th",{attrs:{width:"4.3%"}},[t._v("Feb")]),t._v(" "),a("th",{attrs:{width:"4.3%"}},[t._v("Mar")]),t._v(" "),a("th",{attrs:{width:"4.3%"}},[t._v("Apr")]),t._v(" "),a("th",{attrs:{width:"4.3%"}},[t._v("May")]),t._v(" "),a("th",{attrs:{width:"4.3%"}},[t._v("Jun")]),t._v(" "),a("th",{attrs:{width:"4.3%"}},[t._v("Jul")]),t._v(" "),a("th",{attrs:{width:"4.3%"}},[t._v("Aug")]),t._v(" "),a("th",{attrs:{width:"4.3%"}},[t._v("Sep")]),t._v(" "),a("th",{attrs:{width:"4.3%"}},[t._v("Oct")]),t._v(" "),a("th",{attrs:{width:"4.3%"}},[t._v("Nov")]),t._v(" "),a("th",{attrs:{width:"4.3%"}},[t._v("Dec")]),t._v(" "),a("th",{attrs:{width:"5%"}},[t._v("Q1")]),t._v(" "),a("th",{attrs:{width:"5%"}},[t._v("Q2")]),t._v(" "),a("th",{attrs:{width:"5%"}},[t._v("H1")]),t._v(" "),a("th",{attrs:{width:"5%"}},[t._v("Q3")]),t._v(" "),a("th",{attrs:{width:"5%"}},[t._v("Q4")]),t._v(" "),a("th",{attrs:{width:"5%"}},[t._v("H2")])])]),t._v(" "),t._l(t.month_targets,function(e,s){return e.previous_level?a("tbody",{staticClass:"completeListVc"},[a("tr",[a("td",[a("i",{class:t.open_status[s]?"el-icon-remove on":"el-icon-circle-plus",on:{click:function(e){t.changeOpenStatus(s)}}}),t._v(t._s(e.previous_level.metadata.name))]),t._v(" "),a("td",["NaN"!=e.previous_level.ty?a("cite",{staticStyle:{border:"0px"}},[t._v(t._s(t._f("number_format")(e.previous_level.ty)))]):a("cite",{staticStyle:{border:"0px"}},[t._v("暂无数据")])]),t._v(" "),t._l(e.previous_level.month_target,function(e,i){return a("td",{class:t.month_status[s][i]},[a("el-popover",{attrs:{"visible-arrow":!0,"popper-class":"cyc-xl-table_box_tips",placement:"top",trigger:"click"},model:{value:t.popover_status[s][i],callback:function(e){t.$set(t.popover_status[s],i,e)},expression:"popover_status[key][key2]"}},[a("div",{class:["cyc-xl-table_tips",{error:t.remain_target[s]<0}]},[t.remain_target[s]>=0?[t._v("\n                      未分配总目标："+t._s(t._f("number_format")(t.remain_target[s]))+"\n                    ")]:[t._v("\n                      已超出总目标："+t._s(t._f("number_format")(-1*t.remain_target[s]))+"\n                    ")]],2)]),t._v(" "),i+1<t.target_start_month||0==s?a("cite",{staticStyle:{border:"0px",color:"inherit"}},[t._v(t._s(t._f("number_format")(1*t.month_sales_targets[s][i])))]):["complete","error"].includes(t.month_status[s][i])?a("cite",{on:{click:function(e){t.focusMonthTarget(s,i)}}},[t._v(t._s(t._f("number_format")(1*t.month_sales_targets[s][i])))]):a("input",{directives:[{name:"focus",rawName:"v-focus",value:t.month_focus[s][i],expression:"month_focus[key][key2]"},{name:"model",rawName:"v-model",value:t.month_sales_targets[s][i],expression:"month_sales_targets[key][key2]"}],attrs:{type:"text",placeholder:"请输入目标数"},domProps:{value:t.month_sales_targets[s][i]},on:{blur:function(e){t.blurMonthTarget(s,i)},keyup:function(e){t.keyupMonthTarget(s,i)},input:function(e){e.target.composing||t.$set(t.month_sales_targets[s],i,e.target.value)}}})],1)}),t._v(" "),t._l(t.columns,function(s){return a("td",["NaN"!=e.previous_level[s]?a("cite",{staticStyle:{border:"0px"}},[t._v(t._s(t._f("number_format")(e.previous_level[s])))]):a("cite",{staticStyle:{border:"0px"}},[t._v("暂无数据")])])})],2),t._v(" "),t.open_status[s]?t._l(t.rows,function(s){return a("tr",{staticClass:"secondary"},[a("td",[t._v(t._s(e.previous_level[s].metadata))]),t._v(" "),a("td",["NaN"!=e.previous_level[s].ty?[t._v(t._s(t._f("number_format")(t._f("multiply")(e.previous_level[s].ty,100),1))+"%")]:[t._v("暂无数据")]],2),t._v(" "),t._l(e.previous_level[s].month_target,function(e,s){return a("td",["NaN"!=e?[t._v(" "+t._s(t._f("number_format")(t._f("multiply")(e,100),1))+"%")]:[t._v("暂无数据")]],2)}),t._v(" "),t._l(t.columns,function(i){return a("td",["NaN"!=e.previous_level[s][i]?a("cite",{staticStyle:{border:"0px"}},[t._v(t._s(t._f("number_format")(t._f("multiply")(e.previous_level[s][i],100),1))+"%")]):a("cite",{staticStyle:{border:"0px"}},[t._v("暂无数据")])])})],2)}):t._e(),t._v(" "),t._l(e.list,function(e,i){return t.open_status[s]?[a("tr",{staticClass:"secondary"},[a("td",[a("i",{class:t.open_status2[s][i]?"el-icon-remove on":"el-icon-circle-plus",on:{click:function(e){t.changeOpenStatus2(s,i)}}}),t._v(t._s(e.metadata.name))]),t._v(" "),a("td",[t._v("\n                  "+t._s(t._f("number_format")(e.ty))+"\n                  "),"NaN"!=e.ty?[t._v(t._s(t._f("number_format")(e.ty)))]:[t._v("暂无数据")]],2),t._v(" "),t._l(e.month_target,function(e,s){return a("td",["NaN"!=e?[t._v(t._s(t._f("number_format")(e)))]:[t._v("暂无数据")]],2)}),t._v(" "),t._l(t.columns,function(s){return a("td",["NaN"!=e[s]?[t._v(" "+t._s(t._f("number_format")(e[s])))]:[t._v("暂无数据")]],2)})],2),t._v(" "),t.open_status2[s][i]?t._l(t.rows,function(s){return a("tr",{staticClass:"secondary"},[a("td",{staticStyle:{"padding-left":"70px"}},[t._v(t._s(e[s].metadata))]),t._v(" "),a("td",["NaN"!=e[s].ty?[t._v(t._s(t._f("number_format")(t._f("multiply")(e[s].ty,100),1))+"%")]:[t._v("暂无数据")]],2),t._v(" "),t._l(e[s].month_target,function(e,s){return a("td",["NaN"!=e?[t._v(" "+t._s(t._f("number_format")(t._f("multiply")(e,100),1))+"%")]:[t._v("暂无数据")]],2)}),t._v(" "),t._l(t.columns,function(i){return a("td",["NaN"!=e[s][i]?[t._v(t._s(t._f("number_format")(t._f("multiply")(e[s][i],100),1))+"%")]:[t._v("暂无数据")]],2)})],2)}):t._e()]:t._e()})],2):t._e()})],2)])]),t._v(" "),a("span",{staticClass:"cyc-xl-btn",on:{click:t.nextStep}},[a("i",{staticClass:"iconfont icon-xiangyou"}),t._v("确认目标并下发")]),t._v(" "),a("router-link",{staticClass:"cyc-xl-btn_back",attrs:{to:{path:"setvb",query:{uuid:t.uuid}}}},[a("i",{staticClass:"iconfont icon-icon--"}),t._v("修改车型区域目标")])],1)],1)},staticRenderFns:[]},Me=a("Z0/y")(De,Ae,!1,null,null,null).exports,Ne={name:"",mixins:[g.a],data:function(){return O()({isAllShow:!0,loading:!0,uuid:this.$route.query.uuid||"",month_targets:[],month_sales_targets:[],month_sales_target_obj:[],year_sales_target:[],open_status:[],open_status2:[],popover_status:[],month_status:[],month_focus:[],remain_target:[],remain_target_total:0,target_start_month:1,rows:["proportion","last_year_proportion","target_share","last_year_share","segment_growth_rate","target_growth_rate"],columns:["q1","q2","h1","q3","q4","h2"],serial_number:"",userInfo:{},chart_bar_options:[],chart_pie_options:[]},"target_start_month",1)},watch:{month_targets:function(){var t=this;this.month_targets.map(function(e,a){t.open_status.push(!1),t.open_status2.push([]),e.list.map(function(e,s){t.open_status2[a].push(!1)})});for(var e=[],a=[],s=[],i=[],n=1;n<=12;n++)e.push(n+"月");this.month_targets.map(function(t,e){a[e]=t.previous_level.month_target}),this.month_targets.map(function(t,e){i.push({value:t.previous_level.ty,name:t.previous_level.metadata.name})}),i.map(function(t,e){if(0==e)s[e]=i.filter(function(t,e){return 0!=e});else{var a={value:i[0].value-t.value,name:"其他"};s[e]=[t,a]}}),this.chart_bar_axis_data=e,this.chart_bar_series_data=a,this.chart_pie_series_data=s}},mounted:function(){var t=this;this.PUT_MONTH_TARGET(function(e){var a=e.data,s=[],i=[],n=[],r=[],o=0;t.target_start_month=e.target_start_month,a.map(function(e,a){var l=e.previous_level.month_target||"",_=0;r[a]=[],s[a]=[],i[a]=[],n[a]=[],t.year_sales_target[a]=e.previous_level.ty,l.map(function(t,e){r[a][e]=t,s[a][e]=!1,i[a][e]="complete",n[a][e]=!1,_+=Number(t)}),t.remain_target[a]=t.year_sales_target[a]-_,o+=t.remain_target[a]}),t.month_sales_targets=r,t.month_focus=s,t.month_status=i,t.popover_status=n,t.remain_target_total=o}),this.GET_USER_INFO()},methods:{changeOpenStatus:function(t){de.a.set(this.open_status,t,!this.open_status[t])},changeOpenStatus2:function(t,e){var a=this;this.open_status2=this.open_status2.map(function(s,i){return i==t&&de.a.set(a.open_status2[i],e,!a.open_status2[i][e]),a.open_status2[i]})},showWays:function(t){var e=this;0==t?this.isAllShow=!0:(this.isAllShow=!1,this.$nextTick(function(){e.initChart()}))},initChart:function(){var t=this;t.month_targets.map(function(e,a){var s={animation:0==a,tooltip:{trigger:"axis",axisPointer:{type:"line"}},xAxis:{type:"category",data:t.chart_bar_axis_data},yAxis:{type:"value"},series:[{data:t.chart_bar_series_data[a],type:"bar",itemStyle:{normal:{color:function(e){var s=t.target_start_month-1,i=[];return t.chart_bar_series_data[a].map(function(t,e){e<s?i.push("rgb(42,170,227)"):i.push("rgb(164,205,238)")}),i[e.dataIndex]}},emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};t.chart_bar_options.push(s);var i={animation:0==a,tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},series:[{name:"目标比例",type:"pie",hoverAnimation:!1,legendHoverLink:!1,radius:["31%","35%"],label:{normal:{position:"inner"}},labelLine:{normal:{show:!1}},tooltip:{show:!1},data:t.chart_pie_series_data[a].map(function(t){return{value:t.value,name:""}})},{name:"目标比例",type:"pie",radius:["35%","65%"],label:{normal:{formatter:"{b}\n{d}%"}},data:t.chart_pie_series_data[a].map(function(t){return{value:t.value,name:t.name}})}]};t.chart_pie_options.push(i)})},nextStep:function(){var t=this;this.POST_TARGET(function(e){e.serial_number&&t.$router.push({path:"/zhiku/xl/country/target/setve",query:{serial_number:e.serial_number}})})},PUT_MONTH_TARGET:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};this.loading=!0,this.$request.put(this.$interface.PUT_MONTH_TARGET,{header:{token:this.token},month_target:[],uuid:this.uuid},function(a){t.loading=!1;var s=a.data;t.month_targets=s,"function"==typeof e&&e(a)},function(e){"400"==e.result_code&&"Bad Request: 目标草稿已过期或不存在"==e.result_msg?(sessionStorage.removeItem("iways_uuid"),t.$router.push({path:"/zhiku/xl/country/target/setva"})):t.failure(e)})},POST_TARGET:function(t){this.$request.post(this.$interface.POST_TARGET,{header:{token:this.token,ContentType:"application/x-www-form-urlencoded"},uuid:this.uuid},function(e){var a=e.data[0];"function"==typeof t&&t(a)},this.failure)},GET_USER_INFO:function(t){var e=this;this.$request.get(this.$interface.GET_USER_INFO,{header:{token:this.token},ids:[this.$store.state.user.user_id]},function(t){var a=t.data[0]||{};e.userInfo=a||{}},this.failure)}},components:{BiBar:Rt,BiPanel:v.a,BiChart:B}},Ge={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("bi-bar",{attrs:{columnTitle:"目标制定"}},[a("template",{slot:"button"},[a("span",{staticClass:"mgr20 mgl10"},[t._v("时间：2018/03")]),t._v(" "),a("span",{staticClass:"mgr20"},[t._v("管理维度：全国")]),t._v(" "),a("span",{staticClass:"mgr20"},[t._v("管理类型：零售量")])]),t._v(" "),a("template",{slot:"right"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("span",{staticClass:"bread-legend"},[t._v("当前位置：")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("概览主页")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 销量目标管理")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 目标制定")])],1)],1)],2),t._v(" "),a("div",{staticClass:"content"},[a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[t._v("预览结果并下发")]),t._v(" "),a("div",{staticClass:"cyc-xl-step"},[a("ul",{staticClass:"step-bar"},[a("li",{staticClass:"end"},[a("span",[a("i",{staticClass:"iconfont icon-check"})]),t._v(" "),a("div",[t._v("\n              已完成\n              "),a("em"),t._v(" "),a("small",[t._v("请输入全国总目标")])])]),t._v(" "),a("li",{staticClass:"end"},[a("span",[a("i",{staticClass:"iconfont icon-check"})]),t._v(" "),a("div",[t._v("\n              已完成\n              "),a("em"),t._v(" "),a("small",[t._v("按区域车型制定目标")])])]),t._v(" "),a("li",{staticClass:"end"},[a("span",[a("i",{staticClass:"iconfont icon-check"})]),t._v(" "),a("div",[t._v("\n              已完成\n              "),a("em"),t._v(" "),a("small",[t._v("按车型区域月份制定")])])]),t._v(" "),a("li",{staticClass:"active"},[a("span",[t._v("4")]),t._v(" "),a("div",[t._v("\n              待进行\n              "),a("small",[t._v("预览结果并下发任务")])])])])])],2),t._v(" "),a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[t._v("目标制定人信息")]),t._v(" "),a("div",{staticClass:"cyc-xl-user"},[a("img",{attrs:{src:"/static/images/default-user.png",alt:""}}),t._v(" "),a("ul",[a("li",[t._v("\n            所属组："),a("span",[t._v(t._s(t.userInfo.group_name||"未知"))]),t._v("\n            角色："),a("span",[t._v(t._s(t.userInfo.role_name||"未知"))]),t._v("\n            姓名："),a("span",[t._v(t._s(t.userInfo.nickname||"未知"))])]),t._v(" "),a("li",[t._v("\n            帐户："),a("span",[t._v(t._s(t.userInfo.username||"未知"))]),t._v("\n            手机："),a("span",[t._v(t._s(t.userInfo.phone||"未知"))])])])])],2),t._v(" "),a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[t._v(" ")]),t._v(" "),a("div",{attrs:{slot:"others"},slot:"others"},[a("span",{class:["cyc-xl-step-btn",1==t.isAllShow?"on":""],on:{click:function(e){t.showWays(0)}}},[t._v("按全部预览")]),t._v(" "),a("span",{class:["cyc-xl-step-btn",0==t.isAllShow?"on":""],on:{click:function(e){t.showWays(1)}}},[t._v("按图表预览")])]),t._v(" "),t.isAllShow?a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{overflow:"auto","min-height":"300px"},attrs:{"element-loading-background":"#fff"}},[a("table",{staticClass:"cyc-xl-table_va expand"},[a("thead",[a("tr",[a("th",{attrs:{width:"9%"}},[t._v("区域-车型")]),t._v(" "),a("th",[t._v("TY-2018"),a("br"),t._v(" 目标")]),t._v(" "),a("th",[t._v("Jan")]),t._v(" "),a("th",[t._v("Feb")]),t._v(" "),a("th",[t._v("Mar")]),t._v(" "),a("th",[t._v("Apr")]),t._v(" "),a("th",[t._v("May")]),t._v(" "),a("th",[t._v("Jun")]),t._v(" "),a("th",[t._v("Jul")]),t._v(" "),a("th",[t._v("Aug")]),t._v(" "),a("th",[t._v("Sep")]),t._v(" "),a("th",[t._v("Oct")]),t._v(" "),a("th",[t._v("Nov")]),t._v(" "),a("th",[t._v("Dec")]),t._v(" "),a("th",{attrs:{width:"5%"}},[t._v("Q1")]),t._v(" "),a("th",{attrs:{width:"5%"}},[t._v("Q2")]),t._v(" "),a("th",{attrs:{width:"5%"}},[t._v("H1")]),t._v(" "),a("th",{attrs:{width:"5%"}},[t._v("Q3")]),t._v(" "),a("th",{attrs:{width:"5%"}},[t._v("Q4")]),t._v(" "),a("th",{attrs:{width:"5%"}},[t._v("H2")])])]),t._v(" "),t._l(t.month_targets,function(e,s){return e.previous_level?a("tbody",[a("tr",{},[a("td",[a("i",{class:t.open_status[s]?"el-icon-remove on":"el-icon-circle-plus",on:{click:function(e){t.changeOpenStatus(s)}}}),t._v(t._s(e.previous_level.metadata.name))]),t._v(" "),a("td",[a("cite",{staticStyle:{border:"0px"}},[t._v(t._s(t._f("number_format")(1*e.previous_level.ty)))])]),t._v(" "),t._l(e.previous_level.month_target,function(e,i){return a("td",[a("el-popover",{attrs:{"visible-arrow":!0,"popper-class":"cyc-xl-table_box_tips",placement:"top",trigger:"click"},model:{value:t.popover_status[s][i],callback:function(e){t.$set(t.popover_status[s],i,e)},expression:"popover_status[key][key2]"}},[a("div",{class:["cyc-xl-table_tips",{error:t.remain_target[s]<0}]},[t.remain_target[s]>=0?[t._v("\n                      未分配总目标："+t._s(t._f("number_format")(t.remain_target[s]))+"\n                    ")]:[t._v("\n                      已超出总目标："+t._s(t._f("number_format")(-1*t.remain_target[s]))+"\n                    ")]],2)]),t._v(" "),a("cite",{staticStyle:{border:"0px"}},[t._v(t._s(t._f("number_format")(1*t.month_sales_targets[s][i])))])],1)}),t._v(" "),t._l(t.columns,function(s){return a("td",[a("cite",{staticStyle:{border:"0px"}},[t._v(t._s(t._f("number_format")(e.previous_level[s])))])])})],2),t._v(" "),t.open_status[s]?t._l(t.rows,function(s){return a("tr",{staticClass:"secondary"},[a("td",[t._v(t._s(e.previous_level[s].metadata))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.previous_level[s].ty,100),1))+"%")]),t._v(" "),t._l(e.previous_level[s].month_target,function(e,s){return a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e,100),1))+"%")])}),t._v(" "),t._l(t.columns,function(i){return a("td",[a("cite",{staticStyle:{border:"0px"}},[t._v(t._s(t._f("number_format")(t._f("multiply")(e.previous_level[s][i],100),1))+"%")])])})],2)}):t._e(),t._v(" "),t._l(e.list,function(e,i){return t.open_status[s]?[a("tr",{staticClass:"secondary"},[a("td",[a("i",{class:t.open_status2[s][i]?"el-icon-remove on":"el-icon-circle-plus",on:{click:function(e){t.changeOpenStatus2(s,i)}}}),t._v(t._s(e.metadata.name))]),t._v(" "),a("td",[t._v(t._s(e.ty))]),t._v(" "),t._l(e.month_target,function(e,s){return a("td",[t._v(t._s(t._f("number_format")(e)))])})],2),t._v(" "),t.open_status2[s][i]?t._l(t.rows,function(s){return a("tr",{staticClass:"secondary"},[a("td",{staticStyle:{"padding-left":"70px"}},[t._v(t._s(e[s].metadata))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e[s].ty,100),1))+"%")]),t._v(" "),t._l(e[s].month_target,function(e,s){return a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e,100),1))+"%")])})],2)}):t._e()]:t._e()})],2):t._e()})],2)]):a("div",t._l(t.month_targets,function(e,s){return a("div",{staticClass:"cyc-xl-chartshow"},[a("h2",[t._v(t._s(e.previous_level.metadata.name))]),t._v(" "),a("el-row",[a("el-col",{staticClass:"hasborder",attrs:{span:12}},[a("h4",[t._v(t._s(e.previous_level.metadata.name)+"-目标走势")]),t._v(" "),a("bi-chart",{staticClass:"chart",attrs:{id:"chartA"+s,option:t.chart_bar_options[s]||{}}})],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("h4",[t._v(t._s(e.previous_level.metadata.name)+"-目标比例")]),t._v(" "),a("bi-chart",{staticClass:"chart",attrs:{id:"chartB"+s,option:t.chart_pie_options[s]||{}}})],1)],1)],1)}))],2),t._v(" "),a("span",{staticClass:"cyc-xl-btn",on:{click:t.nextStep}},[t._v("确认目标并下发")]),t._v(" "),a("router-link",{staticClass:"cyc-xl-btn_back",attrs:{to:{path:"setvc",query:{uuid:t.uuid}}}},[a("i",{staticClass:"iconfont icon-icon--"}),t._v("按车型区域月份制定目标")])],1)],1)},staticRenderFns:[]};var Ie=a("Z0/y")(Ne,Ge,!1,function(t){a("/mg1")},"data-v-f5254fe6",null).exports,Re={name:"",data:function(){return{serial_number:this.$route.query.serial_number||""}},mounted:function(){this.$emit("panelStyle",!1)},destroyed:function(){this.$emit("panelStyle",!0)},components:{BiBar:Rt,BiPanel:v.a}},Pe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("bi-bar",{attrs:{columnTitle:"目标制定"}},[a("template",{slot:"button"},[a("span",{staticClass:"mgr20 mgl10"},[t._v("时间：2018/03")]),t._v(" "),a("span",{staticClass:"mgr20"},[t._v("管理维度：全国")]),t._v(" "),a("span",{staticClass:"mgr20"},[t._v("管理类型：零售量")])]),t._v(" "),a("template",{slot:"right"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("span",{staticClass:"bread-legend"},[t._v("当前位置：")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("概览主页")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 销量目标管理")])],1)],1)],2),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"cyc-xl-step-end"},[t._m(0),t._v(" "),a("h2",[t._v("目标制定及下发成功！")]),t._v(" "),a("p",[t._v("您的目标制定及下发成功，流水号："),a("cite",[t._v(t._s(t.serial_number))]),t._v("，请通知区域管理者查看目标。")])]),t._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("router-link",{staticClass:"cyc-xl-btn",attrs:{to:{path:"detail",query:{serial_number:t.serial_number}}}},[t._v("查看当前定制的目标")]),t._v(" "),a("router-link",{staticClass:"cyc-xl-btn_back",attrs:{to:"setva"}},[t._v("继续制定新目标")])],1)])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"step-status"},[e("i",{staticClass:"iconfont icon-check"})])}]};var Fe=a("Z0/y")(Re,Pe,!1,function(t){a("GG5E")},"data-v-60d00b50",null).exports,Be={name:"",mixins:[g.a],data:function(){return{openSecondaryVa:!1,openSecondaryVb:!1,currentPage:1,options:[{value:10,label:"10行/页"},{value:20,label:"20行/页"},{value:30,label:"30行/页"},{value:40,label:"40行/页"},{value:50,label:"50行/页"}],brands:[],models:[],regions:[],allRegions:[],selected_brand_id:"",selected_model_id:[],selected_region_id:[],selected_brand:{},selected_group:{},serial_number:"",target_list:[],page_size:10,page:1,total:0,loading:!0}},mounted:function(){var t=this;this.getToken(function(){t.GET_TARGET_LOG_PAGE(),t.GET_SUBMODEL(),t.GET_REGION()})},watch:{selected_brand:function(){this.filtersRegion()},selected_group:function(){this.GET_TARGET_LOG_PAGE({brand_id:this.selected_group.brand,sub_model_id:this.selected_group.model,region_id:this.selected_group.region})}},methods:{handleSizeChange:function(){this.page=1,this.GET_TARGET_LOG_PAGE()},handleCurrentChange:function(t){this.page=t,this.GET_TARGET_LOG_PAGE()},changeBrand:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.selected_brand={id:e,name:a},this.selected_brand_id=e,this.selected_model_id=[],this.selected_region_id=[],""===e?this.models=this.brands[0].list:this.brands.map(function(a,s){a.previous_level.id==e&&(t.models=a.list)}),this.selectedConditions()},changeModel:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";arguments[1];if(""==t)for(var e in this.selected_model_id=[],this.selected_model_all=[],this.models)this.selected_model_all.push(this.models[e].id);else{var a=this.selected_model_id.indexOf(t);a>-1?this.selected_model_id.splice(a,1):this.selected_model_id.push(t),this.selected_model_all=this.selected_model_id}this.selectedConditions()},changeRegion:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(""==t)for(var e in this.selected_region_id=[],this.selected_region_all=[],this.regions)this.selected_region_all.push(this.regions[e].previous_level.id);else{var a=this.selected_region_id.indexOf(t);a>-1?this.selected_region_id.splice(a,1):this.selected_region_id.push(t),this.selected_region_all=this.selected_region_id}this.selectedConditions()},selectedConditions:function(){this.selected_group={brand:this.selected_brand_id,model:this.selected_model_id,region:this.selected_region_id}},filtersRegion:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selected_brand.name;for(var e in this.regions=[],this.allRegions){this.allRegions[e].previous_level.name.indexOf(t)>-1&&this.regions.push(this.allRegions[e])}},search:function(){this.GET_TARGET_LOG_PAGE({brand_id:this.selected_group.brand,sub_model_id:this.selected_group.model,region_id:this.selected_group.region,serial_number:this.serial_number})},GET_TARGET_LOG_PAGE:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.$request.get(this.$interface.GET_TARGET_LOG_PAGE,{header:{token:this.token},manage_dimension:"NATIONAL",brand_id:e.brand_id||"",sub_model_id:e.sub_model_id||"",region_id:e.region_id||"",serial_number:e.serial_number||"",page:this.page,rows:this.page_size},function(e){var a=e.data[0];t.target_list=a.list||[],t.total=a.total,t.loading=!1},this.failure)},GET_SUBMODEL:function(){var t=this;this.$request.get(this.$interface.GET_SUB_MODEL,{header:{token:this.token}},function(e){t.brands=e.data||[],t.models=t.brands[0].list,t.selected_brand={id:t.brands[0].previous_level.id,name:t.brands[0].previous_level.name}},this.failure)},GET_REGION:function(){var t=this;this.$request.get(this.$interface.GET_REGION,{header:{token:this.token}},function(e){t.allRegions=e.data||[],t.filtersRegion()},this.failure)}},components:{BiBar:Rt,BiPanel:v.a,BiEmpty:wt.a}},$e={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("bi-bar",{attrs:{columnTitle:"目标列表"}},[a("template",{slot:"button"},[a("span",{staticClass:"mgr20 mgl10"},[t._v("时间：2018/03")]),t._v(" "),a("span",{staticClass:"mgr20"},[t._v("管理维度：全国")]),t._v(" "),a("span",{staticClass:"mgr20"},[t._v("管理类型：零售量")])]),t._v(" "),a("template",{slot:"right"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("span",{staticClass:"bread-legend"},[t._v("当前位置：")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("概览主页")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 销量目标管理 ")])],1)],1)],2),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"content",attrs:{"element-loading-background":"#fff"}},[t._e(),t._v(" "),t.target_list.length>0?a("div",{staticClass:"cyc-xl-table-box"},[a("table",{staticClass:"cyc-xl-table_vc"},[t._m(0),t._v(" "),a("tbody",t._l(t.target_list,function(e,s){return a("tr",[a("td",[t._v(t._s((t.page-1)*t.page_size+s+1))]),t._v(" "),a("td",[a("a",{attrs:{href:"/client.html#/zhiku/xl/country/target/detail?serial_number="+e.serial_number,target:"_blank"}},[t._v("\n              "+t._s(e.serial_number)+"\n              ")])]),t._v(" "),a("td",[a("a",{attrs:{href:"/client.html#/zhiku/xl/country/target/detail?serial_number="+e.serial_number,target:"_blank"}},[t._v("\n              "+t._s(e.name)+"\n              ")])]),t._v(" "),a("td",[t._v(t._s(e.manage_type.name||"零售量"))]),t._v(" "),a("td",[t._v(t._s(e.region.name))]),t._v(" "),a("td",[e.author?a("span",[t._v(t._s(e.author.username||"")+" "+t._s(e.author.role_name||""))]):t._e()]),t._v(" "),a("td",[t._v(t._s(e.create_time))]),t._v(" "),a("td",[a("a",{attrs:{href:"/client.html#/zhiku/xl/country/target/detail?serial_number="+e.serial_number,target:"_blank"}},[t._v("查看")])])])}))]),t._v(" "),a("div",{staticClass:"pagination-box"},[a("span",{staticStyle:{float:"left"}},[t._v("\n          显示行数：\n            "),a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择",size:"mini"},on:{change:t.handleSizeChange},model:{value:t.page_size,callback:function(e){t.page_size=e},expression:"page_size"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-pagination",{staticStyle:{float:"right"},attrs:{"current-page":t.page,"page-size":t.page_size,layout:"prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.page=e}}})],1)]):a("bi-panel",{attrs:{operating:!1}},[t.loading?t._e():a("bi-empty",{staticStyle:{margin:"100px auto"}},[a("span",{attrs:{slot:"tips"},slot:"tips"})])],1)],1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("序号")]),t._v(" "),a("th",[t._v("流水号")]),t._v(" "),a("th",[t._v("标题")]),t._v(" "),a("th",[t._v("管理类型")]),t._v(" "),a("th",[t._v("区域")]),t._v(" "),a("th",[t._v("目标制定人")]),t._v(" "),a("th",[t._v("制定日期")]),t._v(" "),a("th",[t._v("操作")])])])}]};var qe=a("Z0/y")(Be,$e,!1,function(t){a("q3Xi")},"data-v-77a94cb7",null).exports,Le={name:"",mixins:[g.a,me],data:function(){return{isAllShow:!0,loading:!0,serial_number:this.$route.query.serial_number||"",month_targets:[],month_sales_targets:[],open_status:[],open_status2:[],rows:["proportion","last_year_proportion","target_share","last_year_share","segment_growth_rate","target_growth_rate"],columns:["q1","q2","h1","q3","q4","h2"],chart_bar_options:[],chart_pie_options:[],target_start_month:1,userInfo:{}}},watch:{month_targets:function(){var t=this;this.month_targets.map(function(e,a){t.open_status.push(!1),t.open_status2.push([]),e.list.map(function(e,s){t.open_status2[a].push(!1)})});for(var e=[],a=[],s=[],i=[],n=1;n<=12;n++)e.push(n+"月");this.month_targets.map(function(t,e){a[e]=t.previous_level.month_target}),this.month_targets.map(function(t,e){i.push({value:t.previous_level.ty,name:t.previous_level.metadata.name})}),i.map(function(t,e){if(0==e)s[e]=i.filter(function(t,e){return 0!=e});else{var a={value:i[0].value-t.value,name:"其他"};s[e]=[t,a]}}),this.chart_bar_axis_data=e,this.chart_bar_series_data=a,this.chart_pie_series_data=s}},mounted:function(){var t=this;this.GET_TARGET_DETAIL(function(e){var a=e.data,s=[];t.target_start_month=e.target_start_month||1,a.map(function(t,e){var a=t.previous_level.month_target||"";s[e]=[],a.map(function(t,a){s[e][a]=t})}),t.month_sales_targets=s}),this.GET_TARGET_LOG()},methods:{changeOpenStatus:function(t){de.a.set(this.open_status,t,!this.open_status[t])},changeOpenStatus2:function(t,e){var a=this;this.open_status2=this.open_status2.map(function(s,i){return i==t&&de.a.set(a.open_status2[i],e,!a.open_status2[i][e]),a.open_status2[i]})},showWays:function(t){var e=this;0==t?this.isAllShow=!0:(this.isAllShow=!1,this.$nextTick(function(){e.initChart()}))},initChart:function(){var t=this;t.month_targets.map(function(e,a){var s={tooltip:{trigger:"axis",axisPointer:{type:"line"}},xAxis:{type:"category",data:t.chart_bar_axis_data},yAxis:{type:"value"},series:[{data:t.chart_bar_series_data[a],type:"bar",itemStyle:{normal:{color:function(e){var s=t.target_start_month-1,i=[];return t.chart_bar_series_data[a].map(function(t,e){e<s?i.push("rgb(42,170,227)"):i.push("rgb(164,205,238)")}),i[e.dataIndex]}},emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};t.chart_bar_options.push(s);var i={tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},series:[{name:"目标比例",type:"pie",hoverAnimation:!1,legendHoverLink:!1,radius:["31%","35%"],label:{normal:{position:"inner"}},labelLine:{normal:{show:!1}},tooltip:{show:!1},data:t.chart_pie_series_data[a].map(function(t){return{value:t.value,name:""}})},{name:"目标比例",type:"pie",radius:["35%","65%"],label:{normal:{formatter:"{b}\n{d}%"}},data:t.chart_pie_series_data[a].map(function(t){return{value:t.value,name:t.name}})}]};t.chart_pie_options.push(i)})},GET_TARGET_DETAIL:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};this.loading=!0,this.$request.get(this.$interface.GET_TARGET_DETAIL,{header:{token:this.token},serial_number:this.serial_number},function(a){t.loading=!1;var s=a.data;t.month_targets=s,"function"==typeof e&&e(a)},this.failure)},GET_TARGET_LOG:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.serial_number&&this.$request.get(this.$interface.GET_TARGET_LOG,{header:{token:this.token},serial_number:this.serial_number},function(e){var a=e.data[0]||{};t.userInfo=a.author||{}},this.failure)}},components:{BiBar:Rt,BiPanel:v.a,BiChart:B}},ze={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cyc-xl-targetDetail"},[a("bi-bar",{attrs:{columnTitle:"制定目标详情"}},[a("template",{slot:"button"},[a("span",{staticClass:"mgr20 mgl10"},[t._v("时间："+t._s(t.year_month))]),t._v(" "),a("span",{staticClass:"mgr20"},[t._v("管理维度："+t._s(t.dimension_name))]),t._v(" "),a("span",{staticClass:"mgr20"},[t._v("管理类型："+t._s(t.manage_type))])]),t._v(" "),a("template",{slot:"right"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("span",{staticClass:"bread-legend"},[t._v("当前位置：")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("概览主页")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 销量目标管理")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 全国 - 目标详情")])],1)],1)],2),t._v(" "),a("div",{staticClass:"content"},[a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[t._v("目标制定人信息")]),t._v(" "),a("div",{staticClass:"cyc-xl-user"},[a("img",{attrs:{src:t.userInfo.logo_url?t.userInfo.logo_url:"/static/images/default-user.png",alt:""}}),t._v(" "),a("ul",[a("li",[t._v("\n            所属组："),a("span",[t._v(t._s(t.userInfo.group_name||"未知"))]),t._v("\n            角色："),a("span",[t._v(t._s(t.userInfo.role_name||"未知"))]),t._v("\n            姓名："),a("span",[t._v(t._s(t.userInfo.username||"未知"))])]),t._v(" "),a("li",[t._v("\n            帐户："),a("span",[t._v(t._s(t.userInfo.nickname||"未知"))]),t._v("\n            手机："),a("span",[t._v(t._s(t.userInfo.phone||"未知"))])])])])],2),t._v(" "),a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[t._v(" ")]),t._v(" "),a("div",{attrs:{slot:"others"},slot:"others"},[a("span",{class:["cyc-xl-step-btn",1==t.isAllShow?"on":""],on:{click:function(e){t.showWays(0)}}},[t._v("按全部预览")]),t._v(" "),a("span",{class:["cyc-xl-step-btn",0==t.isAllShow?"on":""],on:{click:function(e){t.showWays(1)}}},[t._v("按图表预览")])]),t._v(" "),t.isAllShow?a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{overflow:"auto","min-height":"300px"},attrs:{"element-loading-background":"#fff"}},[a("table",{staticClass:"cyc-xl-table_va expand"},[a("thead",[a("tr",[a("th",{attrs:{width:"9%"}},[t._v("区域-车型")]),t._v(" "),a("th",[t._v("TY-2018"),a("br"),t._v(" 目标")]),t._v(" "),a("th",[t._v("Jan")]),t._v(" "),a("th",[t._v("Feb")]),t._v(" "),a("th",[t._v("Mar")]),t._v(" "),a("th",[t._v("Apr")]),t._v(" "),a("th",[t._v("May")]),t._v(" "),a("th",[t._v("Jun")]),t._v(" "),a("th",[t._v("Jul")]),t._v(" "),a("th",[t._v("Aug")]),t._v(" "),a("th",[t._v("Sep")]),t._v(" "),a("th",[t._v("Oct")]),t._v(" "),a("th",[t._v("Nov")]),t._v(" "),a("th",[t._v("Dec")]),t._v(" "),a("th",{attrs:{width:"5%"}},[t._v("Q1")]),t._v(" "),a("th",{attrs:{width:"5%"}},[t._v("Q2")]),t._v(" "),a("th",{attrs:{width:"5%"}},[t._v("H1")]),t._v(" "),a("th",{attrs:{width:"5%"}},[t._v("Q3")]),t._v(" "),a("th",{attrs:{width:"5%"}},[t._v("Q4")]),t._v(" "),a("th",{attrs:{width:"5%"}},[t._v("H2")])])]),t._v(" "),t._l(t.month_targets,function(e,s){return e.previous_level?a("tbody",[a("tr",[a("td",[a("i",{class:t.open_status[s]?"el-icon-remove on":"el-icon-circle-plus",on:{click:function(e){t.changeOpenStatus(s)}}}),t._v("\n                "+t._s(e.previous_level.metadata.name)+"\n              ")]),t._v(" "),a("td",["NaN"!=e.previous_level.ty?a("cite",{staticStyle:{border:"0px"}},[t._v(t._s(t._f("number_format")(e.previous_level.ty)))]):a("cite",{staticStyle:{border:"0px"}},[t._v("暂无数据")])]),t._v(" "),t._l(e.previous_level.month_target,function(e,i){return a("td",["NaN"!=t.month_sales_targets[s][i]?a("cite",{staticStyle:{border:"0px"}},[t._v(t._s(t._f("number_format")(t.month_sales_targets[s][i])))]):a("cite",{staticStyle:{border:"0px"}},[t._v("暂无数据")])])}),t._v(" "),t._l(t.columns,function(s){return a("td",["NaN"!=e.previous_level[s]?a("cite",{staticStyle:{border:"0px"}},[t._v(t._s(t._f("number_format")(e.previous_level[s])))]):a("cite",{staticStyle:{border:"0px"}},[t._v("暂无数据")])])})],2),t._v(" "),t.open_status[s]?t._l(t.rows,function(s){return a("tr",{staticClass:"secondary"},[a("td",[t._v("\n                    "+t._s(e.previous_level[s].metadata)+"\n                ")]),t._v(" "),a("td",["NaN"!=e.previous_level[s].ty?[t._v(t._s(t._f("number_format")(t._f("multiply")(e.previous_level[s].ty,100),1))+"%")]:[t._v("暂无数据")]],2),t._v(" "),t._l(e.previous_level[s].month_target,function(e,s){return a("td",["NaN"!=e?[t._v(t._s(t._f("number_format")(t._f("multiply")(e,100),1))+"%")]:[t._v("暂无数据")]],2)}),t._v(" "),t._l(t.columns,function(i){return a("td",["NaN"!=e.previous_level[s][i]?a("cite",{staticStyle:{border:"0px"}},[t._v(t._s(t._f("number_format")(t._f("multiply")(e.previous_level[s][i],100),1))+"%")]):a("cite",[t._v("暂无数据")])])})],2)}):t._e(),t._v(" "),t._l(e.list,function(e,i){return t.open_status[s]?[a("tr",{staticClass:"secondary"},[a("td",[a("i",{class:t.open_status2[s][i]?"el-icon-remove on":"el-icon-circle-plus",on:{click:function(e){t.changeOpenStatus2(s,i)}}}),t._v(t._s(e.metadata.name))]),t._v(" "),a("td",["NaN"!=e.ty?[t._v(t._s(t._f("number_format")(e.ty)))]:[t._v("暂无数据")]],2),t._v(" "),t._l(e.month_target,function(e,s){return a("td",["NaN"!=e?[t._v(t._s(t._f("number_format")(e)))]:[t._v("暂无数据")]],2)}),t._v(" "),t._l(t.columns,function(s){return a("td",["NaN"!=e[s]?[t._v(" "+t._s(t._f("number_format")(e[s])))]:[t._v("暂无数据")]],2)})],2),t._v(" "),t.open_status2[s][i]?t._l(t.rows,function(s){return a("tr",{staticClass:"secondary"},[a("td",{staticStyle:{"padding-left":"70px"}},[t._v(t._s(e[s].metadata))]),t._v(" "),a("td",["NaN"!=e[s].ty?[t._v(t._s(t._f("number_format")(t._f("multiply")(e[s].ty,100),1))+"%")]:[t._v("暂无数据")]],2),t._v(" "),t._l(e[s].month_target,function(e,s){return a("td",["NaN"!=e?[t._v(" "+t._s(t._f("number_format")(t._f("multiply")(e,100),1))+"%")]:[t._v("暂无数据")]],2)}),t._v(" "),t._l(t.columns,function(i){return a("td",["NaN"!=e[s][i]?[t._v(t._s(t._f("number_format")(t._f("multiply")(e[s][i],100),1))+"%")]:[t._v("暂无数据")]],2)})],2)}):t._e()]:t._e()})],2):t._e()})],2)]):a("div",t._l(t.month_targets,function(e,s){return a("div",{staticClass:"cyc-xl-chartshow"},[a("h2",[t._v(t._s(e.previous_level.metadata.name))]),t._v(" "),a("el-row",[a("el-col",{staticClass:"hasborder",attrs:{span:12}},[a("h4",[t._v(t._s(e.previous_level.metadata.name)+"-目标走势")]),t._v(" "),a("bi-chart",{staticClass:"chart",attrs:{id:"chartA"+s,option:t.chart_bar_options[s]||{}}})],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("h4",[t._v(t._s(e.previous_level.metadata.name)+"-目标比例")]),t._v(" "),a("bi-chart",{staticClass:"chart",attrs:{id:"chartB"+s,option:t.chart_pie_options[s]||{}}})],1)],1)],1)}))],2)],1)],1)},staticRenderFns:[]};var je=a("Z0/y")(Le,ze,!1,function(t){a("ZRMW")},"data-v-75500c4a",null).exports,Ve={name:"",mixins:[g.a,me],data:function(){return{newstTarget:"",serialNumber:"",dataTime:"",manageDimension:"NATIONAL",brands:[],models:[],areas:[],forecast:[],allAreas:[],selected_brand_id:"",selected_brand_name:"",selected_model_id:[],selected_area_id:[],complete:!1,loading:new Array(2).fill(!1)}},computed:{selected_all_model_id:function(){var t=[];for(var e in this.models)t.push(this.models[e].id);return t},area_id_name:function(){var t={};for(var e in this.allAreas)t[this.allAreas[e].previous_level.id]=this.allAreas[e].previous_level.name;return t}},mounted:function(){var t=this;this.getToken(function(){t.getNewstTarget()})},methods:{getDataTime:function(){var t=this;this.$request.get(this.$interface.GET_DATA_TIME,{header:{token:this.token}},function(e){t.dataTime=e.data[0].end_time,t.getSubModel()},this.failure)},getNewstTarget:function(){var t=this;this.$request.get(this.$interface.GET_NEWST_TARGET,{header:{token:this.token},manage_dimension:this.manageDimension},function(e){t.newstTarget=e.data[0]||"",t.newstTarget.serial_number?(t.serialNumber=t.newstTarget.serial_number?t.newstTarget.serial_number:"",t.getDataTime()):(t.loading[0]=!1,t.loading[1]=!1,t.complete=!0)},this.failure)},getSubModel:function(){var t=this;this.$request.get(this.$interface.GET_SUB_MODEL,{header:{token:this.token},manage_dimension:this.manageDimension,serial_number:this.serialNumber},function(e){t.brands=e.data||[],t.getRegion()},this.failure)},getRegion:function(){var t=this;this.$request.get(this.$interface.GET_REGION,{header:{token:this.token},serial_number:this.serialNumber},function(e){t.allAreas=e.data||[],t.initData()},this.failure)},getTotalForecast:function(t,e){var a=this;this.loading[0]=!0,this.loading[1]=!0,this.$request.get(this.$interface.GET_TOTAL_FORECAST,ce()({header:{token:this.token},manage_dimension:this.manageDimension,ym:this.dataTime,serial_number:this.serialNumber},t),function(s){if(s.data.length<=0)return a.forecast=[],a.loading[0]=!1,a.loading[1]=!1,void(a.complete=!0);var i=s.data[0].list,n={},r={},o=[];for(var l in i)r=ce()({brand_id:a.selected_brand_id,brand_name:a.selected_brand_name},i[l]),o.push(r),n.list=o,n.previous_level={id:t.region_id,name:e};a.forecast.push(n),a.loading[0]=!1,a.loading[1]=!1,a.complete=!0},this.failure)},changeBrand:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";""!=t&&(this.selected_model_id=[],this.selected_area_id=[],this.selected_brand_id=t,this.selected_brand_name=e,this.manageDimension="NATIONAL",this.forecast=[],this.filtersModel(t),this.filtersArea(e),this.transferGetTotalForecast(this.selected_model_id,this.selected_area_id))},changeModel:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";arguments[1];if(""==t)this.selected_model_id=[];else{var e=this.selected_model_id.indexOf(t);e>-1?this.selected_model_id.splice(e,1):this.selected_model_id.push(t)}this.transferGetTotalForecast(this.selected_model_id,this.selected_area_id)},changeArea:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(""==t)this.selected_area_id=[],this.manageDimension="NATIONAL";else{var e=this.selected_area_id.indexOf(t);e>-1?this.selected_area_id.splice(e,1):this.selected_area_id.push(t),0==this.selected_area_id.length?this.manageDimension="NATIONAL":this.manageDimension="REGION"}this.transferGetTotalForecast(this.selected_model_id,this.selected_area_id)},filtersArea:function(t){for(var e in this.areas=[],this.allAreas){this.allAreas[e].previous_level.name.indexOf(t)>-1&&this.areas.push(this.allAreas[e])}},filtersModel:function(t){var e=this;this.models=[],this.brands.every(function(a){return a.previous_level.id!=t||(e.models=a.list,!1)})},transferGetTotalForecast:function(t,e){var a={},s="";if(this.forecast=[],t=0==t.length?this.selected_all_model_id:t,0==e.length)a={sub_model_id:t,region_id:""},s="全国",this.getTotalForecast(a,s);else for(var i in e)a={sub_model_id:t,region_id:e[i]},s=this.area_id_name[e[i]],this.getTotalForecast(a,s)},initData:function(){var t=this.brands[0];this.selected_brand_id=t.previous_level.id,this.selected_brand_name=t.previous_level.name,this.filtersModel(this.selected_brand_id),this.filtersArea(this.selected_brand_name),this.transferGetTotalForecast(this.selected_all_model_id,this.selected_area_id)}},components:{BiBar:Rt,BiPanel:v.a,BiEmpty:wt.a}},We={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("bi-bar",{attrs:{columnTitle:"监测预警"}},[a("template",{slot:"button"},[a("span",{staticClass:"mgr20 mgl10"},[t._v("时间："+t._s(t.year_month))]),t._v(" "),a("span",{staticClass:"mgr20"},[t._v("管理维度："+t._s(t.dimension_name))]),t._v(" "),a("span",{staticClass:"mgr20"},[t._v("管理类型："+t._s(t.manage_type))])]),t._v(" "),a("template",{slot:"right"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("span",{staticClass:"bread-legend"},[t._v("当前位置：")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("概览主页")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 销量目标管理")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 全国 - 监测预警")])],1)],1)],2),t._v(" "),a("div",{staticClass:"content cyc-xl-targetList",staticStyle:{"min-height":"200px"}},[a("bi-panel",{attrs:{operating:!1}},[a("div",{staticClass:"cyc-xl-search"},[a("div",{staticClass:"selected-box"},[[t._v("\n          请选择条件\n          ")]],2),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading[0],expression:"loading[0]"}],attrs:{"element-loading-background":"#fff"}},[a("dl",[a("dt",[t._v("品牌：")]),t._v(" "),a("dd",[t._l(t.brands,function(e){return[a("span",{class:{on:e.previous_level.id==t.selected_brand_id},on:{click:function(a){t.changeBrand(e.previous_level.id,e.previous_level.name)}}},[t._v("\n            "+t._s(e.previous_level.name)+"\n          ")])]})],2)]),t._v(" "),a("dl",[a("dt",[t._v("车型：")]),t._v(" "),a("dd",[a("span",{class:{on:0==t.selected_model_id.length},on:{click:function(e){t.changeModel()}}},[t._v("不限")]),t._v(" "),t._l(t.models,function(e){return[a("span",{class:[t.selected_model_id.indexOf(e.id)>-1?"on":""],on:{click:function(a){t.changeModel(e.id,e.name)}}},[t._v(" "+t._s(e.name)+"\n          ")])]})],2)]),t._v(" "),a("dl",[a("dt",[t._v("区域：")]),t._v(" "),a("dd",[a("span",{class:{on:0==t.selected_area_id.length},on:{click:function(e){t.changeArea()}}},[t._v("全国")]),t._v(" "),t._l(t.areas,function(e){return[a("span",{class:[t.selected_area_id.indexOf(e.previous_level.id)>-1?"on":""],on:{click:function(a){t.changeArea(e.previous_level.id,e.previous_level.name)}}},[t._v("\n            "+t._s(e.previous_level.name)+"\n          ")])]})],2)])])])]),t._v(" "),a("h2",{staticClass:"panel-condition"},[t._v("\n      当前共选：\n      "),a("b",[t._v("1")]),t._v("个品牌，\n      "),a("b",[t._v(t._s(t.selected_model_id.length>0?t.selected_model_id.length+"个":"所有"))]),t._v("车型，\n      "),a("b",[t._v(t._s(t.selected_area_id.length>0?t.selected_area_id.length+"个":"所有"))]),t._v("区域\n      ")]),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading[1],expression:"loading[1]"}],staticStyle:{"min-height":"200px"},attrs:{"element-loading-background":"#fff"}},[t._l(t.forecast,function(e,s){return[a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[a("router-link",{staticClass:"link",attrs:{target:"_blank",to:{path:"alarm/detail",query:{type:"region",area_id:e.previous_level.id,area_name:e.previous_level.name,dimension:t.manageDimension}}}},[t._v("\n              "+t._s(e.previous_level.name)+"\n            ")])],1),t._v(" "),a("template",{slot:"others"},[a("span",{staticClass:"cyc-xl-title-tips"},[a("font",[t._v("关联ID："+t._s(t.newstTarget.serial_number))]),t._v(" "),a("font",[t._v("制定日期： "+t._s(t.newstTarget.create_time))])],1)]),t._v(" "),e.list.length>0?a("div",{staticStyle:{"max-width":"100%","overflow-x":"auto","overflow-y":"hidden"}},[a("table",{staticClass:"cyc-xl-table_vc"},[a("thead",[a("tr",[a("th",{attrs:{rowspan:"2"}},[t._v("车型")]),t._v(" "),a("th",{attrs:{rowspan:"2"}},[t._v("指标")]),t._v(" "),a("th",{attrs:{colspan:"3"}},[t._v("YTD实际完成")]),t._v(" "),a("th",{attrs:{rowspan:"2"}},[t._v("去年同期实际完成率")]),t._v(" "),a("th",{attrs:{colspan:"2"}},[t._v("目标")]),t._v(" "),a("th",{attrs:{colspan:"2"}},[t._v("最新市场预测（维持YTD份额）")]),t._v(" "),a("th",{attrs:{colspan:"2"}},[t._v("最新市场预测（维持RTG份额）")]),t._v(" "),a("th",{attrs:{colspan:"2"}},[t._v("最新市场预测（维持TY份额）")])]),t._v(" "),a("tr",[a("th",[t._v("实际完成销量")]),t._v(" "),a("th",[t._v("份额")]),t._v(" "),a("th",[t._v("目标完成率")]),t._v(" "),a("th",[t._v("RTG")]),t._v(" "),a("th",[t._v("TY")]),t._v(" "),a("th",[t._v("RTG")]),t._v(" "),a("th",[t._v("TY")]),t._v(" "),a("th",[t._v("RTG")]),t._v(" "),a("th",[t._v("TY")]),t._v(" "),a("th",[t._v("RTG")]),t._v(" "),a("th",[t._v("TY")])])]),t._v(" "),a("tbody",t._l(e.list,function(s,i){return a("tr",[a("td",[a("router-link",{attrs:{target:"_blank",to:{path:"alarm/detail",query:{type:"model",brand_name:s.brand_name,brand_id:s.brand_id,model_name:s.metadata.name,model_id:s.metadata.id,area_id:e.previous_level.id,area_name:e.previous_level.name}}}},[t._v("\n                    "+t._s(s.metadata.name)+"\n                  ")])],1),t._v(" "),a("td",[t._v("销量")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(s.sales)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(s.share,100),1))+"%")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(s.cr,100),1))+"%")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(s.last_year_cr,100),1))+"%")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(s.target.rtg)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(s.target.ty)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(s.keep_ytd.rtg)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(s.keep_ytd.ty)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(s.keep_rtg.rtg)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(s.keep_rtg.ty)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(s.keep_ty.rtg)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(s.keep_ty.ty)))])])}))])]):t.complete?a("bi-empty",{staticStyle:{margin:"50px auto"}},[a("span",{attrs:{slot:"tips"},slot:"tips"},[t._v("亲爱的，暂时没有相关数据，请先完成目标制定！如还有疑问，请联系客户管理员。")])]):t._e()],2)]})],2)],1)],1)},staticRenderFns:[]};var Ye=a("Z0/y")(Ve,We,!1,function(t){a("pgdi")},"data-v-76f8adeb",null).exports,Ue={name:"",mixins:[g.a,me],data:function(){return{newstTarget:"",pageType:"",dataTime:"",managePermission:"",manageDimensionId:"",manageDimension:this.$route.query.dimension?this.$route.query.dimension:"NATIONAL",manageTypeId:"",selected_brand:{},brands:[],models:[],regions:[],forecast:[],resForecastData:[],allRegions:[],brand_id:"",model_id:"",region_id:"",headerData:[],model_previous_level:{},model_previous_level_img:{},selected_model_id:[],selected_model_all:[],selected_region_id:[],selected_region_all:[],region_previous_level:{},loading:{all:!0,header:!0,forecast:!0},title_model_img:""}},computed:{pageTitle:function(){return{brand_name:this.$route.query.brand_name?this.$route.query.brand_name:"",model_name:this.$route.query.model_name?this.$route.query.model_name:"",area_name:this.$route.query.area_name?this.$route.query.area_name:"",area_id:this.$route.query.area_id?this.$route.query.area_id:""}},dimension:function(){return{}}},filters:{},mounted:function(){var t=this;this.getToken(function(){t.getNewstTarget()}),this.pageType=this.$route.query.type,this.brand_id=this.$route.query.brand_id?this.$route.query.brand_id:"",this.brand_name=this.$route.query.brand_name?this.$route.query.brand_name:"",this.model_id=this.$route.query.model_id?this.$route.query.model_id:"",this.model_name=this.$route.query.model_name?this.$route.query.model_name:"",this.region_id=this.$route.query.region_id?this.$route.query.region_id:""},methods:{getNewstTarget:function(){var t=this,e="";e=this.$route.query.regionid?this.$route.query.regionid:this.$route.query.area_id?this.$route.query.area_id:"",this.$request.get(this.$interface.GET_NEWST_TARGET,{header:{token:this.token},manage_dimension:"PROVINCE"==this.$route.query.dimension?"REGION":"NATIONAL",region_id:e},function(e){t.loading.forecast=!1,t.newstTarget=e.data[0]||"",t.newstTarget&&t.getDataTime()},this.failure)},getDataTime:function(){var t=this;this.$request.get(this.$interface.GET_DATA_TIME,{header:{token:this.token}},function(e){e.data.length<=0||(t.dataTime=e.data[0].end_time,t.getSubModel())},this.failure)},getSubModel:function(){var t=this;this.$request.get(this.$interface.GET_SUB_MODEL,{header:{token:this.token},serial_number:this.newstTarget.serial_number?this.newstTarget.serial_number:""},function(e){for(var a in t.getRegion(),t.brands=e.data||[],t.brands=t.brands.filter(function(t){if(15==t.previous_level.id)return t}),t.selected_brand.id=t.brands[0].previous_level.id,t.selected_brand.name=t.brands[0].previous_level.name,t.models=t.brands[0].list,t.models)t.model_previous_level[t.models[a].id]=t.models[a].name,t.model_previous_level_img[t.models[a].id]=t.models[a].logo_url;if("model"===t.pageType)t.brands[0].list.every(function(e){return e.id!=t.$route.query.model_id||(t.title_model_img=e.logo_url,!1)}),t.changeModel();else{var s={};"NATIONAL"==t.$route.query.dimension&&(s={manage_dimension:"NATIONAL"}),"REGION"==t.$route.query.dimension&&(s={manage_dimension:"REGION",region_id:t.$route.query.area_id?t.$route.query.area_id:""}),"PROVINCE"==t.$route.query.dimension&&(s={manage_dimension:"PROVINCE",region_id:t.$route.query.area_id?t.$route.query.area_id:""}),s.brand_id=t.selected_brand.id,s.manage_type_id=1,t.getMonthForecastHeader(s),t.$route.query.model_id?t.changeModel(parseInt(t.$route.query.model_id)):t.changeModel(),t.loading.condition=!1}},this.failure)},getRegion:function(){var t=this;this.$request.get(this.$interface.GET_REGION,{header:{token:this.token},serial_number:this.newstTarget.serial_number?this.newstTarget.serial_number:""},function(e){for(var a in t.allRegions=e.data||[],t.allRegions)t.region_previous_level[t.allRegions[a].previous_level.id]=t.allRegions[a].previous_level.name;if("model"===t.pageType){t.filtersRegion("别克");var s;s={manage_dimension:"NATIONAL",sub_model_id:t.$route.query.model_id?t.$route.query.model_id:""},t.getMonthForecastHeader(s)}},this.failure)},getMonthForecastHeader:function(t){var e=this;this.$request.get(this.$interface.GET_MONTH_FORECAST_HEADER,ce()({header:{token:this.token},ym:this.dataTime,serial_number:this.newstTarget.serial_number?this.newstTarget.serial_number:""},t),function(t){e.headerData=t.data[0]||[],e.loading.header=!1},this.failure)},getMonthForecast:function(t){var e=this;this.loading.forecast=!0,this.$request.get(this.$interface.GET_MONTH_FORECAST,ce()({header:{token:this.token},manage_dimension:this.manageDimension,ym:this.dataTime,dimension_id:"",manage_type_id:this.manageTypeId,serial_number:this.newstTarget.serial_number?this.newstTarget.serial_number:""},t),function(a){if(e.resForecastData=a.data||[],"model"===e.pageType){var s={};for(var i in a.data)s.list=a.data[i];"{}"==yt()(t)?s.previous_level={id:"",name:"全国"}:s.previous_level={id:t.region_id,name:e.region_previous_level[t.region_id]},0==e.selected_region_all.length&&(s.previous_level={id:"",name:"全国"}),e.forecast.push(s)}else{var n={};for(var r in a.data)n.list=a.data[r];n.previous_level={id:t.sub_model_id,name:e.model_previous_level[t.sub_model_id],logo_url:e.model_previous_level_img[t.sub_model_id]},e.forecast.push(n)}e.loading.all=!1,e.loading.forecast=!1},this.failure)},filtersRegion:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";for(var e in this.regions=[],this.allRegions){this.allRegions[e].previous_level.name.indexOf(t)>-1&&this.regions.push(this.allRegions[e])}},changeBrand:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments[1];""===e||(this.selected_brand.id=e,this.selected_brand.name=a,this.selected_model_id=[],this.brands.every(function(a){return a.previous_level.id!=e||(t.models=a.list,!1)}))},changeModel:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";arguments[1];if(""==t)for(var e in this.selected_model=[],this.selected_model_id=[],this.selected_model_all=[],this.models)this.selected_model_all.push(this.models[e].id);else{var a=this.selected_model_id.indexOf(t);a>-1?this.selected_model_id.splice(a,1):this.selected_model_id.push(t),this.selected_model_all=this.selected_model_id}if(0==this.selected_model_all.length)for(var s in this.selected_model=[],this.selected_model_id=[],this.selected_model_all=[],this.models)this.selected_model_all.push(this.models[s].id),this.model_previous_level[this.models[s].id]=this.models[s].name;this.initForecastData()},changeRegion:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(this.forecast=[],""==t)this.selected_region_id=[],this.selected_region_all=[];else{var e=this.selected_region_id.indexOf(t);e>-1?this.selected_region_id.splice(e,1):this.selected_region_id.push(t),this.selected_region_all=this.selected_region_id,0==this.selected_region_all.length&&(this.selected_region_id=[],this.selected_region_all=[])}this.initForecastData()},initForecastData:function(){if("model"===this.pageType)if(0==this.selected_region_all.length)this.manageDimension="NATIONAL",this.getMonthForecast({sub_model_id:this.$route.query.model_id});else for(var t in this.manageDimension="REGION",this.selected_region_all)this.getMonthForecast({region_id:this.selected_region_all[t],sub_model_id:this.$route.query.model_id});else for(var e in this.manageDimension=this.$route.query.dimension?this.$route.query.dimension:"NATIONAL",this.forecast=[],this.selected_model_all)this.getMonthForecast({sub_model_id:this.selected_model_all[e],region_id:this.pageTitle.area_id})}},components:{BiBar:Rt,BiPanel:v.a,BiEmpty:wt.a,BiProgress:f.a}},He={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("bi-bar",{attrs:{columnTitle:"监测预警"}},[a("template",{slot:"button"},[a("span",{staticClass:"mgr20 mgl10"},[t._v("时间："+t._s(t.year_month))]),t._v(" "),a("span",{staticClass:"mgr20"},[t._v("管理维度："+t._s(t.dimension_name))]),t._v(" "),a("span",{staticClass:"mgr20"},[t._v("管理类型："+t._s(t.manage_type))])]),t._v(" "),a("template",{slot:"right"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("span",{staticClass:"bread-legend"},[t._v("当前位置：")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("概览主页")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 销量目标管理")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 全国 - 监测预警")])],1)],1)],2),t._v(" "),a("div",{staticClass:"content cyc-xl-targetList"},[t.newstTarget?[a("bi-panel",{attrs:{operating:!1}},[a("div",{staticClass:"targetList-title",attrs:{slot:"title"},slot:"title"},["model"===t.pageType?[t.title_model_img?a("img",{attrs:{src:t.title_model_img,alt:""}}):a("img",{attrs:{src:"/static/images/nocar.png",alt:""}}),t._v(" "),a("p",[t._v(t._s(t.pageTitle.brand_name)+" "+t._s(t.pageTitle.model_name)+"-区域目标详情")])]:[a("p",[t._v(t._s(t.pageTitle.area_name)+" - 车型目标详情")])]],2),t._v(" "),a("template",{slot:"others"},[a("span",{staticClass:"cyc-xl-title-tips",staticStyle:{"margin-top":"10px"}},[a("font",[t._v("关联ID："+t._s(t.newstTarget.serial_number))]),t._v(" "),a("font",[t._v("制定日期： "+t._s(t.newstTarget.create_time))])],1)]),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading.header,expression:"loading['header']"}],staticStyle:{"min-height":"100px"},attrs:{"element-loading-background":"#fff"}},[t.loading.header?t._e():a("el-row",{staticClass:"detail",attrs:{align:"middle",justify:"center"}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-warning"},[a("h3",[t._v("TY目标")]),t._v(" "),a("h2",[a("font",{staticStyle:{color:"#339acd"}},[t._v(t._s(t._f("number_format")(t.headerData.ty))+" ")])],1)])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("h3",[t._v("MTD当月完成率")]),t._v(" "),a("el-row",[a("el-col",{attrs:{span:13}},[a("h2",{staticStyle:{color:"#339acd"}},[t._v(t._s(t._f("number_format")(t.headerData.mtd_sales)))]),t._v(" "),a("p",[t._v("（完成销量）")])]),t._v(" "),a("el-col",{attrs:{span:11}},[a("bi-progress",{attrs:{type:"circle",precision:1,percentage:[t.headerData.mtd_rate?t.headerData.mtd_rate:-1],color:"#339acd","circle-width":"50"}}),t._v(" "),a("p",[t._v("（当月完成率）")])],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("h3",[t._v("YTD完成目标进度")]),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("bi-progress",{attrs:{precision:1,type:"circle",percentage:[t.headerData.ytd_target_rate?t.headerData.ytd_target_rate:-1],color:"#339acd","circle-width":"50"}}),t._v(" "),a("p",[t._v("（目标进度）")])],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("bi-progress",{attrs:{type:"circle",precision:1,percentage:[t.headerData.ytd_this_year_rate?t.headerData.ytd_this_year_rate:-1],color:"#339acd","circle-width":"50"}}),t._v(" "),a("p",[t._v("（当年完成率）")])],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("bi-progress",{attrs:{type:"circle",precision:1,percentage:[t.headerData.ytd_last_year_rate?t.headerData.ytd_last_year_rate:-1],color:"#339acd","circle-width":"50"}}),t._v(" "),a("p",[t._v("（去年完成率）")])],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("h3",[t._v("YTD市场份额")]),t._v(" "),a("span",{staticClass:"box"},[a("bi-progress",{attrs:{precision:1,percentage:[t.headerData.ytd_rate?t.headerData.ytd_rate:-1],color:"#339acd",height:"16"}})],1),t._v(" "),a("h4",[t._v("目标份额："+t._s(t._f("number_format")(t._f("multiply")(t.headerData.ytd_target_cr,100),1))+" %")]),t._v(" "),a("h4",[t._v("差额："+t._s(t._f("number_format")(t._f("multiply")(t.headerData.ytd_balance,100),1))+" %")])])],1)],1)],2),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading.all,expression:"loading['all']"}],staticStyle:{"min-height":"300px"},attrs:{"element-loading-background":"#fff"}},[a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[t._v("请选择条件")]),t._v(" "),"model"==t.pageType?a("div",{staticClass:"cyc-xl-search"},[a("dl",[a("dt",[t._v("区域：")]),t._v(" "),a("dd",[a("span",{class:[0==t.selected_region_id.length?"on":""],on:{click:function(e){t.changeRegion()}}},[t._v("全国")]),t._v(" "),t._l(t.regions,function(e){return[a("span",{class:[t.selected_region_id.indexOf(e.previous_level.id)>-1?"on":""],on:{click:function(a){t.changeRegion(e.previous_level.id,e.previous_level.name)}}},[t._v("\n                "+t._s(e.previous_level.name)+"\n              ")])]})],2)])]):a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading.condition,expression:"loading['condition']"}],staticClass:"cyc-xl-search",attrs:{"element-loading-background":"#fff"}},[a("dl",[a("dt",[t._v("品牌：")]),t._v(" "),a("dd",[t._l(t.brands,function(e){return[a("span",{class:{on:e.previous_level.id==t.selected_brand.id},on:{click:function(a){t.changeBrand(e.previous_level.id,e.previous_level.name)}}},[t._v("\n                "+t._s(e.previous_level.name)+"\n              ")])]})],2)]),t._v(" "),a("dl",[a("dt",[t._v("车型：")]),t._v(" "),a("dd",[a("span",{class:[0==t.selected_model_id.length?"on":""],on:{click:function(e){t.changeModel()}}},[t._v("不限")]),t._v(" "),t._l(t.models,function(e){return[a("span",{class:[t.selected_model_id.indexOf(e.id)>-1?"on":""],on:{click:function(a){t.changeModel(e.id,e.name)}}},[t._v(" "+t._s(e.name))])]})],2)])])],2),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading.forecast,expression:"loading['forecast']"}],staticStyle:{"min-height":"200px"},attrs:{"element-loading-background":"#fff"}},[t._l(t.forecast,function(e,s){return[a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},["model"===t.pageType?["全国"==e.previous_level.name?a("router-link",{staticClass:"link",attrs:{target:"_blank",to:{path:"detail",query:{type:"national",area_name:e.previous_level.name,area_id:e.previous_level.id,dimension:"NATIONAL"}}}},[t._v("\n                    "+t._s(e.previous_level.name)+"\n                  ")]):a("router-link",{staticClass:"link",attrs:{target:"_blank",to:{path:"detail",query:{type:"region",area_name:e.previous_level.name,area_id:e.previous_level.id,dimension:"REGION"}}}},[t._v("\n                    "+t._s(e.previous_level.name)+"\n                  ")])]:[e.previous_level.logo_url?a("img",{staticClass:"cyc-xl-title-img",attrs:{alt:e.previous_level.name,src:e.previous_level.logo_url}}):a("img",{staticClass:"cyc-xl-title-img",attrs:{alt:"",src:"/static/images/nocar.png"}}),t._v(" "),a("router-link",{staticClass:"link",attrs:{target:"_blank",to:{path:"detail",query:{type:"model",brand_name:t.selected_brand.name,model_name:e.previous_level.name,model_id:e.previous_level.id}}}},[t._v("\n                    "+t._s(e.previous_level.name)+"\n                  ")])]],2),t._v(" "),a("template",{slot:"others"},[a("span",{staticClass:"cyc-xl-title-tips",staticStyle:{"margin-top":"10px"}},[a("font",[t._v("关联ID："+t._s(t.newstTarget.serial_number))]),t._v(" "),a("font",[t._v("制定日期： "+t._s(t.newstTarget.create_time))])],1)]),t._v(" "),a("table",{staticClass:"cyc-xl-table_vc"},[a("thead",[a("tr",[a("th",{attrs:{colspan:"2",rowspan:"2",width:"22%"}},[t._v("零售量")]),t._v(" "),a("th",[t._v("YTD")]),t._v(" "),a("th",[t._v("RTG")]),t._v(" "),a("th",[t._v("TY")]),t._v(" "),a("th",[t._v("Jan")]),t._v(" "),a("th",[t._v("Feb")]),t._v(" "),a("th",[t._v("Mar")]),t._v(" "),a("th",[t._v("Apr")]),t._v(" "),a("th",[t._v("May")]),t._v(" "),a("th",[t._v("Jun")]),t._v(" "),a("th",[t._v("Jul")]),t._v(" "),a("th",[t._v("Aug")]),t._v(" "),a("th",[t._v("Sep")]),t._v(" "),a("th",[t._v("Oct")]),t._v(" "),a("th",[t._v("Nov")]),t._v(" "),a("th",[t._v("Dec")])]),t._v(" "),a("tr",[a("th",[t._v("实际")]),t._v(" "),a("th",[t._v("预测")]),t._v(" "),a("th",[t._v("-")]),t._v(" "),t._l(t.forecast[0].list.segment.flag,function(e,s){return a("th",[t._v("\n                    "+t._s(e)+"\n                  ")])})],2)]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("所属细分市场预测")]),t._v(" "),a("td",{attrs:{width:"4%"}},[t._v("销量")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.list.segment.ytd)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.list.segment.rtg)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.list.segment.ty)))]),t._v(" "),t._l(e.list.segment.month_forecast,function(e,s){return a("td",{key:s},[t._v("\n                    "+t._s(t._f("number_format")(e))+"\n                  ")])})],2),t._v(" "),a("tr",[a("td",{attrs:{colspan:"1",rowspan:"2"}},[t._v("目标销量")]),t._v(" "),a("td",[t._v("销量")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.list.target_sales.ytd)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.list.target_sales.rtg)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.list.target_sales.ty)))]),t._v(" "),t._l(e.list.target_sales.month_forecast,function(e,s){return a("td",{key:s},[t._v("\n                    "+t._s(t._f("number_format")(e))+"\n                  ")])})],2),t._v(" "),a("tr",[a("td",[t._v("份额")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.list.target_share.ytd,100),1))+"%")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.list.target_share.rtg,100),1))+"%")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.list.target_share.ty,100),1))+"%")]),t._v(" "),t._l(e.list.target_share.month_forecast,function(e,s){return a("td",{key:s},[t._v("\n                    "+t._s(t._f("number_format")(t._f("multiply")(e,100),1))+"%\n                  ")])})],2),t._v(" "),a("tr",[a("td",{attrs:{colspan:"1",rowspan:"2"}},[t._v("最新市场预测（维持YTD份额）")]),t._v(" "),a("td",[t._v("销量")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.list.keep_ytd_sales.ytd)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.list.keep_ytd_sales.rtg)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.list.keep_ytd_sales.ty)))]),t._v(" "),""==e.list.keep_ytd_sales.month_forecast||"null"==e.list.keep_ytd_sales.month_forecast?a("td"):t._l(e.list.keep_ytd_sales.month_forecast,function(e,s){return a("td",{key:s},[t._v("\n                    "+t._s(t._f("number_format")(e))+"\n                  ")])})],2),t._v(" "),a("tr",[a("td",[t._v("份额")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.list.keep_ytd_share.ytd,100),1))+"%")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.list.keep_ytd_share.rtg,100),1))+"%")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.list.keep_ytd_share.ty,100),1))+"%")]),t._v(" "),t._l(e.list.keep_ytd_share.month_forecast,function(e,s){return a("td",{key:s},[t._v("\n                    "+t._s(t._f("number_format")(t._f("multiply")(e,100),1))+"%\n                  ")])})],2),t._v(" "),a("tr",[a("td",{attrs:{colspan:"1",rowspan:"2"}},[t._v("最新市场预测（维持RTG份额）")]),t._v(" "),a("td",[t._v("销量")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.list.keep_rtg_sales.ytd)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.list.keep_rtg_sales.rtg)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.list.keep_rtg_sales.ty)))]),t._v(" "),t._l(e.list.keep_rtg_sales.month_forecast,function(e,s){return a("td",{key:s},[t._v("\n                    "+t._s(t._f("number_format")(e))+"\n                  ")])})],2),t._v(" "),a("tr",[a("td",[t._v("份额")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.list.keep_rtg_share.ytd,100),1))+"%")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.list.keep_rtg_share.rtg,100),1))+"%")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.list.keep_rtg_share.ty,100),1))+"%")]),t._v(" "),t._l(e.list.keep_rtg_share.month_forecast,function(e,s){return a("td",{key:s},[t._v("\n                    "+t._s(t._f("number_format")(t._f("multiply")(e,100),1))+"%\n                  ")])})],2),t._v(" "),a("tr",[a("td",{attrs:{colspan:"1",rowspan:"2"}},[t._v("最新市场预测（维持TY份额）")]),t._v(" "),a("td",[t._v("销量")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.list.keep_ty_sales.ytd)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.list.keep_ty_sales.rtg)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.list.keep_ty_sales.ty)))]),t._v(" "),t._l(e.list.keep_ty_sales.month_forecast,function(e,s){return a("td",{key:s},[t._v("\n                    "+t._s(t._f("number_format")(e))+"\n                  ")])})],2),t._v(" "),a("tr",[a("td",[t._v("份额")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.list.keep_ty_share.ytd,100),1))+"%")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.list.keep_ty_share.rtg,100),1))+"%")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.list.keep_ty_share.ty,100),1))+"%")]),t._v(" "),t._l(e.list.keep_ty_share.month_forecast,function(e,s){return a("td",{key:s},[t._v("\n                    "+t._s(t._f("number_format")(t._f("multiply")(e,100),1))+"%\n                  ")])})],2)])])],2)]})],2)],1)]:[t.loading.forecast?t._e():a("bi-panel",[a("bi-empty",{staticStyle:{margin:"100px auto"}},[a("span",{attrs:{slot:"tips"},slot:"tips"},[t._v("亲爱的，暂时没有相关数据，请先完成目标制定！如还有疑问，请联系客户管理员。")])])],1)]],2)],1)},staticRenderFns:[]};var Ze=a("Z0/y")(Ue,He,!1,function(t){a("iHVe")},"data-v-2a1652f9",null).exports,Ke={name:"",mixins:[g.a,me],data:function(){return O()({isSelected:[],areaPart:!0,areaArray:[],areaMap:[],province_map:{"北京":["北京市"],"辽宁":["辽宁省"],"湖北":["湖北省"],"重庆":["重庆市"],"河南":["河南省"],"湖南":["湖南省"],"河北":["河北省"],"山西":["山西省"],"广东":["广东省"],"浙江":["浙江省"],"安徽":["安徽省"],"江苏":["江苏省"],"上海":["上海市"],"黑龙江":["黑龙江省"],"天津":["天津市"],"云南":["云南省"],"新疆":["新疆维吾尔族自治区","新疆维吾尔自治区"],"江西":["江西省"],"广西":["广西壮族自治区"],"甘肃":["甘肃省"],"内蒙古":["内蒙古自治区"],"陕西":["陕西省"],"吉林":["吉林省"],"山东":["山东省"],"福建":["福建省"],"贵州":["贵州省"],"青海":["青海省"],"西藏":["西藏自治区"],"四川":["四川省"],"宁夏":["宁夏回族自治区"],"海南":["海南省"],"台湾":["台湾省"],"香港":["香港"],"澳门":["澳门"],"南海诸岛":["南海诸岛"]},target_list:[],total_page:0,regions:[],colored_by_range:[{color:"#99cc00",range:[1,"max"]},{color:"#ff9900",range:[.8,1]},{color:"#e55353",range:[0,.8]}],brands:[],brand_id:"",brand_name:"",brands_models:[],complete:!1,complete2:!1,map_area:2,overview_info:"",overview_children:[],page_size:5,page:1,province_id:"",province_name:"",region_id:"",sub_model_id:"",serial_number:"",selected_models:{},target_list_get:[],target_list_push:[],options:[],selectedOptions:[],loading:new Array(3).fill(!1)},"complete",new Array(3).fill(!1))},watch:{brands_models:function(){this.brands=this.brands_models.map(function(t){return t.previous_level}),!this.brand_id&&this.brands.length&&(this.brand_id=this.brands[0].id,this.brand_name=this.brands[0].name)},regions:function(){if(1==this.manage_type_id){var t=this.groupByBrandName(this.regions,"region");this.options=t[1].children}}},computed:{region_name:function(){var t=this;return this.regions.find(function(e){return e.previous_level.id==t.region_id}).previous_level.name},overview_children_page:function(){return this.overview_children},sub_models:function(){var t=this,e=this.brands_models.filter(function(e){return e.previous_level.id==t.brand_id});return e.length?e[0].list:[]},region_valid:function(){var t=this.overview_children.map(function(t){return t.metadata.id});return this.regions.filter(function(e){for(var a in e.list)return t.includes(e.list[a].id)})},region_groups:function(){var t=[],e=this.province_map;return this.region_valid.map(function(a){a.previous_level.id;var s=a.previous_level.name;a.list.map(function(a){var i="",n="";for(var r in e){e[r].includes(a.name)&&(i=r)}i=i||a.name,n=n||a.id,t.push({name:i,regions:s,value:1,id:n})})}),t},province_groups:function(){var t=[],e=this.province_map,a=this.province_id,s=this.province_name;for(var i in e){e[i].includes(s)&&(s=i)}return t.push({name:s,value:1,id:a}),t},provinceColor:function(){var t=this.colored_by_range,e=this.province_map,a=this.overview_children;return 3==this.map_area&&(a=[this.overview_info]),a.map(function(a,s){var i=t.find(function(t){var e=a.ytd_cr;return e>=t.range[0]&&("max"==t.range[1]||e<t.range[1])}),n="";for(var r in e){e[r].includes(a.metadata.name)&&(n=r)}return{name:n,color:i.color||""}})}},mounted:function(){var t=this;this.region_id=this.dimension.object_id,this.brand_id=15,this.brand_name="别克",this.GET_REGION(),this.GET_TARGET_LOG_PAGE(),this.GET_TARGET_LOG_PUSH(),this.GET_NEWST_TARGET(function(){t.GET_SUB_MODEL(),t.getData()})},methods:{selectOptions:function(){var t=this;this.region_id=this.selectedOptions[0],this.dimension_id=this.region_id,this.dimension_name=this.region_name,this.updateDimension(this.dimension_id,this.dimension_name),sessionStorage.removeItem("iways_uuid_b"),this.GET_NEWST_TARGET(function(){t.GET_SUB_MODEL(),t.getData()})},selectSubmodel:function(t){var e=this;t==this.sub_model_id?(this.sub_model_id="",t=""):this.sub_model_id=t,this.selected_models={},this.sub_models.map(function(a){a.id==t?e.selected_models[a.id]=!0:e.selected_models[a.id]=!1}),this.getData()},selectCar:function(t){this.isSelected=[];for(var e=0;e<this.carData.length;e++)t==e?this.isSelected.push(!0):this.isSelected.push(!1)},changeBrand:function(t){var e=this.brands.find(function(e){return e.id==t});e&&(this.brand_id=e.id,this.brand_name=e.name,this.getData())},initChart:function(){var t=this,e=document.getElementById("areaChart");if(e){var a=R.a.init(e),s={geo:{map:this.region_name,roam:!1,itemStyle:{normal:{borderColor:"#fff"}}},series:[{type:"map",geoIndex:0,itemStyle:{normal:{color:function(e){var a=t.provinceColor.find(function(t){return t.name==e.data.name}),s=a?a.color:"";return s}}},data:t.region_groups}]};a.on("mouseover",function(e){var s=e.data.name;t.region_groups.forEach(function(t,e,i){s==t.name&&a.dispatchAction({type:"highlight",name:t.name})})}),a.on("mouseout",function(e){var s=e.data.name;t.region_groups.forEach(function(t,e,i){s==t.name&&a.dispatchAction({type:"downplay",name:t.name})})}),a.on("click",function(e){t.province_id=e.data.id,t.province_name=e.data.name,t.map_area=3,t.GET_NEWST_TARGET(function(){t.GET_SUB_MODEL(),t.getData()})}),a.setOption(s)}},initChart2:function(){var t=this,e=document.getElementById("provinceChart");if(e){var a=R.a.init(e),s={geo:{map:this.province_name,roam:!1,itemStyle:{normal:{borderColor:"#fff"}}},series:[{type:"map",geoIndex:0,itemStyle:{normal:{color:function(e){var a=t.provinceColor.find(function(t){return t.name==e.data.name}),s=a?a.color:"";return s}}},data:t.province_groups}]};a.on("mouseover",function(e){var s=e.data.name;t.region_groups.forEach(function(t,e,i){s==t.name&&a.dispatchAction({type:"highlight",name:t.name})})}),a.on("mouseout",function(e){var s=e.data.name;t.region_groups.forEach(function(t,e,i){s==t.name&&a.dispatchAction({type:"downplay",name:t.name})})}),a.on("click",function(t){}),a.setOption(s)}},GET_TARGET_LOG_PAGE:function(){var t=this;this.loading[0]=!0,this.$request.get(this.$interface.GET_TARGET_LOG_PAGE,{header:{token:this.token},manage_dimension:"NATIONAL",page:1,rows:3},function(e){var a=e.data[0];t.target_list_get=a.list||[],t.complete[0]=!0,t.loading[0]=!1},this.failure)},GET_TARGET_LOG_PUSH:function(){var t=this;this.loading[1]=!0,this.$request.get(this.$interface.GET_TARGET_LOG_PAGE,{header:{token:this.token},manage_dimension:"REGION",dimension_id:this.dimension_id,page:1,rows:3},function(e){var a=e.data[0];t.target_list_push=a.list||[],t.complete[1]=!0,t.loading[1]=!1},this.failure)},GET_TARGET_OVERVIEW:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this.loading[2]=!0,this.$request.get(this.$interface.GET_TARGET_OVERVIEW,{header:{token:this.token},serial_number:this.serial_number||"",brand_id:this.brand_id||"",sub_model_id:this.sub_model_id||"",manage_dimension:e.manage_dimension||"REGION",region_id:e.region_id||"",dimension_id:e.dimension_id||""},function(e){t.complete[2]=!0,t.loading[2]=!1;var s=e.data;"function"==typeof a&&a(s)},this.failure)},backToRegion:function(){this.map_area=2,this.getData(!0)},getData:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.serial_number){var a=function(){};switch(this.map_area){case 2:if(!this.region_id)break;if(e){var s=this.regions.find(function(e){return e.previous_level.id==t.region_id}),i=s?s.list:[],n=this.province_map;i=i.map(function(t){var e="";for(var a in n){n[a].includes(t.name)&&(e=a)}return{name:e}}),a=function(){var e=[];for(var a in i)for(var s in be.a.features)be.a.features[s].properties.name==i[a].name&&e.push(be.a.features[s]);R.a.parseGeoJson(be.a),R.a.registerMap(t.region_name,{type:"FeatureCollection",features:e,UTF8Encoding:!1}),t.initChart()}}this.GET_TARGET_OVERVIEW({manage_dimension:"REGION",dimension_id:this.region_id||""},function(e){t.overview_info=e[0]}),this.GET_TARGET_OVERVIEW({manage_dimension:"PROVINCE",region_id:this.region_id||""},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.overview_children=e,t.complete2=!0,t.$nextTick(function(){a()})});break;case 3:if(!this.province_name)break;e&&(a=function(){var e=[];for(var a in be.a.features)be.a.features[a].properties.name==t.province_name&&e.push(be.a.features[a]);R.a.parseGeoJson(be.a),R.a.registerMap(t.province_name,{type:"FeatureCollection",features:e,UTF8Encoding:!1}),t.initChart2()}),this.GET_TARGET_OVERVIEW({manage_dimension:"PROVINCE",dimension_id:this.province_id,region_id:this.region_id},function(e){t.overview_info=e[0],t.overview_children=[],t.complete2=!0,t.$nextTick(function(){a()})})}}},GET_REGION:function(){var t=this;this.$request.get(this.$interface.GET_REGION,{header:{token:this.token}},function(e){t.regions=e.data||[]},this.failure)},GET_NEWST_TARGET:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"REGION";this.$request.get(this.$interface.GET_NEWST_TARGET,{header:{token:this.token},manage_dimension:a,region_id:this.region_id},function(a){var s=a.data[0]||{};t.serial_number=s.serial_number||"",t.serial_number&&"function"==typeof e&&e()},this.failure)},GET_SUB_MODEL:function(){var t=this;this.$request.get(this.$interface.GET_SUB_MODEL,{header:{token:this.token},serial_number:this.serial_number||""},function(e){var a=e.data;t.brands_models=a||[]},this.failure)}},components:{BiBar:Rt,BiPanel:v.a,BiProgress:f.a,BiEmpty:wt.a}},Xe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("bi-bar",{attrs:{columnTitle:"概况"}},[a("template",{slot:"button"},[a("span",{staticClass:"mgr20 mgl10"},[t._v("时间："+t._s(t.year_month))]),t._v(" "),a("span",{staticClass:"mgr20 cyc-xl-column"},[t._v("\n          管理维度："+t._s(t.dimension_name)+"\n          "),1==t.manage_type_id?a("el-cascader",{staticClass:"change-data-button",attrs:{size:"mini","popper-class":"cyc-xl-column_cascader",options:t.options},on:{change:t.selectOptions},model:{value:t.selectedOptions,callback:function(e){t.selectedOptions=e},expression:"selectedOptions"}}):t._e()],1),t._v(" "),a("span",{staticClass:"mgr20"},[t._v("管理类型："+t._s(t.manage_type))])]),t._v(" "),a("template",{slot:"right"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("span",{staticClass:"bread-legend"},[t._v("当前位置：")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("概览主页")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 销量目标管理")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 区域 - 概况")])],1)],1)],2),t._v(" "),a("div",{staticClass:"content cyc-xl-target"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("bi-panel",{attrs:{operating:!1,titleSize:"small"}},[a("template",{slot:"title"},[t._v("\n              我收到的目标制定信息\n            ")]),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading[0],expression:"loading[0]"}],staticStyle:{"min-height":"132px"}},[t.target_list_get.length>0?a("ul",{staticClass:"grid-target type2"},t._l(t.target_list_get,function(e,s){return a("li",[a("p",[a("router-link",{attrs:{to:{path:"target/detail",query:{serial_number:e.serial_number}},title:e.name}},[t._v("\n                      "+t._s(e.name)+"\n                    ")]),t._v(" "),0==s?a("el-badge",{staticClass:"grid-target-badge",attrs:{value:"new"}}):t._e()],1),t._v(" "),e.author?a("font",[t._v("\n                    "+t._s(e.author.username)+" "+t._s(e.author.role_name)+"\n                    "),a("cite",[t._v(t._s(t._f("date_format")(e.create_time,"YYYY-MM-DD")))])]):t._e()],1)})):t.complete[0]?a("bi-empty",[a("span",{attrs:{slot:"tips"},slot:"tips"})]):t._e()],1)],2)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("bi-panel",{attrs:{operating:!1,titleSize:"small"}},[a("template",{slot:"title"},[t._v("\n              我制定的目标信息\n            ")]),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading[1],expression:"loading[1]"}],staticStyle:{"min-height":"132px"}},[t.target_list_push.length>0?a("ul",{staticClass:"grid-target type2"},t._l(t.target_list_push,function(e,s){return a("li",[a("p",[a("router-link",{attrs:{to:{path:"target/detail",query:{serial_number:e.serial_number}},title:e.name}},[t._v("\n                      "+t._s(e.name)+"\n                    ")]),t._v(" "),0==s?a("el-badge",{staticClass:"grid-target-badge",attrs:{value:"new"}}):t._e()],1),t._v(" "),e.author?a("font",[t._v("\n                    "+t._s(e.author.username)+" "+t._s(e.author.role_name)+"\n                    "),a("cite",[t._v(t._s(t._f("date_format")(e.create_time,"YYYY-MM-DD")))])]):t._e()],1)})):t.complete[1]?a("bi-empty",[a("span",{attrs:{slot:"tips"},slot:"tips"})]):t._e()],1)],2)],1)],1),t._v(" "),a("bi-panel",{staticStyle:{"min-height":"400px"},attrs:{operating:!1,titleSize:"small"}},[a("template",{slot:"title"},[t._v("\n          预警信息\n        ")]),t._v(" "),a("template",{slot:"others"},[2==t.map_area?a("router-link",{staticClass:"edit-btn",attrs:{to:"alarm"}},[t._v("查看全区"),a("i",{staticClass:"iconfont icon-right",staticStyle:{"font-size":"14px",top:"0","margin-left":"8px"}})]):t._e()],1),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading[2],expression:"loading[2]"}],staticStyle:{"min-height":"200px"},attrs:{"element-loading-background":"#fff"}},[t.serial_number?a("el-container",[a("el-aside",{staticClass:"warning-left",attrs:{width:"180px"}},[a("el-dropdown",{attrs:{trigger:"click"},on:{command:t.changeBrand}},[a("div",{staticClass:"el-dropdown-link"},[t._v("\n                  "+t._s(t.brand_name)),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.brands,function(e){return a("el-dropdown-item",{key:e.id,attrs:{command:e.id}},[t._v(t._s(e.name))])}))],1),t._v(" "),a("div",{staticClass:"car-box"},[a("ul",t._l(t.sub_models,function(e,s){return a("li",{class:{on:t.selected_models[e.id]},on:{click:function(a){t.selectSubmodel(e.id)}}},[a("img",{attrs:{src:e.logo_url&&0==e.logo_url.indexOf("http")?e.logo_url:"/static/images/nocar-nbg.png",alt:""}}),a("span",[t._v(t._s(e.name))])])}))])],1),t._v(" "),a("el-main",[a("div",{staticClass:"warning-top"},[a("el-row",[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-warning"},[a("h2",[t._v("TY目标")]),t._v(" "),a("h3",[t.overview_info.ty?[t._v(t._s(t._f("number_format")(t.overview_info.ty)))]:[t._v("暂无数据")]],2)])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-warning-right"},[a("h2",[t._v("MTD当月完成率 ")]),t._v(" "),a("span",{staticClass:"progress-box"},[a("bi-progress",{attrs:{percentage:[t.overview_info.mtd_cr?t.overview_info.mtd_cr:-1],precision:1,color:"#339acd",height:"12"}})],1),t._v(" "),a("p",{attrs:{title:[t.overview_info.mtd_sales?"完成销量："+t.overview_info.mtd_sales:"完成销量：暂无数据"]}},[t._v("\n                        完成销量：\n                        "),t.overview_info.mtd_sales?a("font",{staticStyle:{color:"#339acd"}},[t._v(t._s(t._f("number_format")(t.overview_info.mtd_sales)))]):a("font",{staticStyle:{color:"#339acd"}},[t._v("暂无数据")])],1)])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-warning-right"},[a("h2",[t._v("YTD完成目标进度")]),t._v(" "),a("span",{staticClass:"progress-box"},[a("bi-progress",{attrs:{percentage:[t.overview_info.ytd_target_progress?t.overview_info.ytd_target_progress:-1],precision:1,color:"#339acd",height:"12"}})],1),t._v(" "),a("p",{attrs:{title:[t.overview_info.ytd_cr?"YTD全年完成率："+(100*t.overview_info.ytd_cr).toFixed(1)+"%":"YTD全年完成率：暂无数据"]}},[t._v("\n                        YTD全年完成率：\n                        "),t.overview_info.ytd_cr?a("font",{staticStyle:{color:"#339acd"}},[t._v(t._s(t._f("number_format")(t._f("multiply")(t.overview_info.ytd_cr,100),1))+"%")]):a("font",{staticStyle:{color:"#339acd"}},[t._v("暂无数据")])],1),t._v(" "),a("p",{attrs:{title:[t.overview_info.ytd_last_year_cr?"去年YTD全年完成率："+(100*t.overview_info.ytd_last_year_cr).toFixed(1)+"%":"去年YTD全年完成率：暂无数据"]}},[t._v("\n                        去年YTD全年完成率：\n                        "),t.overview_info.ytd_last_year_cr?a("font",{staticStyle:{color:"#339acd"}},[t._v(t._s(t._f("number_format")(t._f("multiply")(t.overview_info.ytd_last_year_cr,100),1))+"%")]):a("font",{staticStyle:{color:"#339acd"}},[t._v("暂无数据")])],1)])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-warning-right"},[a("h2",[t._v("YTD市场份额")]),t._v(" "),a("span",{staticClass:"progress-box"},[a("bi-progress",{attrs:{percentage:[t.overview_info.ytd_share?t.overview_info.ytd_share:-1],precision:1,color:"#339acd",height:"12"}})],1),t._v(" "),a("p",{attrs:{title:[t.overview_info.ytd_target_share?"目标份额："+(100*t.overview_info.ytd_target_share).toFixed(1)+"%":"目标份额：暂无数据"]}},[t._v("\n                        目标份额：\n                        "),t.overview_info.ytd_target_share?a("font",{staticStyle:{color:"#339acd"}},[t._v(t._s(t._f("number_format")(t._f("multiply")(t.overview_info.ytd_target_share,100),1))+"%")]):a("font",{staticStyle:{color:"#339acd"}},[t._v("暂无数据")])],1),t._v(" "),a("p",{attrs:{title:[t.overview_info.ytd_share_diff?"差额："+(100*t.overview_info.ytd_share_diff).toFixed(1)+"%":"差额：暂无数据"]}},[t._v("\n                        差额：\n                        "),t.overview_info.ytd_share_diff?a("font",{staticStyle:{color:"#339acd"}},[t._v(t._s(t._f("number_format")(t._f("multiply")(t.overview_info.ytd_share_diff,100),1))+"%")]):a("font",{staticStyle:{color:"#339acd"}},[t._v("暂无数据")])],1)])])],1)],1),t._v(" "),a("div",{staticClass:"warning-center"},[a("span",{directives:[{name:"show",rawName:"v-show",value:3==t.map_area,expression:"map_area == 3"}],staticClass:"back-btn btn-plain",on:{click:function(e){t.backToRegion()}}},[a("i",{staticClass:"iconfont icon-icon&#45;&#45;"}),t._v(" 返回区域\n              ")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:2==t.map_area,expression:"map_area == 2"}],staticStyle:{width:"100%",height:"500px"},attrs:{id:"areaChart"}}),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:3==t.map_area,expression:"map_area == 3"}],staticStyle:{width:"100%",height:"500px"},attrs:{id:"provinceChart"}})])]),t._v(" "),a("transition",{attrs:{name:"el-fade-in-linear"}},[a("el-aside",{directives:[{name:"show",rawName:"v-show",value:2==t.map_area,expression:"map_area == 2"}],staticClass:"warning-right",attrs:{width:"190px"}},[t.overview_children_page.length?a("div",{staticClass:"car-box"},[a("ul",t._l(t.overview_children_page,function(e){return a("li",[a("router-link",{staticClass:"box",attrs:{target:"_blank",to:{path:"/zhiku/xl/area/alarm/detail",query:{type:"province",area_name:e.metadata.name,area_id:e.metadata.id,model_id:t.sub_model_id,dimension:"PROVINCE"}}}},[a("h3",[a("router-link",{attrs:{target:"_blank",to:{path:"/zhiku/xl/area/alarm/detail",query:{type:"province",area_name:e.metadata.name,area_id:e.metadata.id,model_id:t.sub_model_id,dimension:"PROVINCE"}}}},[t._v(t._s(e.metadata.name))])],1),t._v(" "),a("p",[t._v("TY目标："),a("span",[t._v(t._s(t._f("number_format")(e.ty)))])]),t._v(" "),a("p",[t._v("MTD："),a("span",[t._v(t._s(t._f("number_format")(e.mtd_sales)))])]),t._v(" "),a("p",[t._v("YTD完成进度："),a("span",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.ytd_target_progress,100),1))+"%")])]),t._v(" "),a("p",[t._v("YTD市场份额："),a("span",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.ytd_share,100),1))+"%")])])])],1)}))]):t.complete2?a("bi-empty",{attrs:{"show-result":!1}},[a("span",{attrs:{slot:"tips"},slot:"tips"},[t._v("暂无数据")])]):t._e()],1)],1)],1):t.complete[2]?a("bi-empty",{staticStyle:{margin:"100px auto"}},[a("span",{attrs:{slot:"tips"},slot:"tips"},[t._v("亲爱的，暂时没有相关数据，请先完成目标制定！如还有疑问，请联系客户管理员。")])]):t._e()],1)],2)],1)],1)},staticRenderFns:[]};var Je=a("Z0/y")(Ke,Xe,!1,function(t){a("X0IP")},"data-v-2ecab700",null).exports,Qe={name:"",mixins:[g.a,me],data:function(){return{region_target:[],serial_number:"",uuid:"",loading:!0,region_id:"",regions:[],options:[],selectedOptions:[]}},mounted:function(){this.region_id=this.dimension.object_id,this.region_id?(this.GET_REGION(),this.GET_NEWST_TARGET()):alert("region_id is null")},watch:{regions:function(){if(1==this.manage_type_id){var t=this.groupByBrandName(this.regions,"region");this.options=t[1].children}}},computed:{region_name:function(){var t=this;return this.regions.find(function(e){return e.previous_level.id==t.region_id}).previous_level.name}},methods:{selectOptions:function(){this.region_id=this.selectedOptions[0],this.dimension_id=this.region_id,this.dimension_name=this.region_name,this.updateDimension(this.dimension_id,this.dimension_name),sessionStorage.removeItem("iways_uuid_b"),this.GET_NEWST_TARGET()},GET_REGION:function(){var t=this;this.$request.get(this.$interface.GET_REGION,{header:{token:this.token}},function(e){t.regions=e.data||[]},this.failure)},GET_NEWST_TARGET:function(t){var e=this;this.$request.get(this.$interface.GET_NEWST_TARGET,{header:{token:this.token},manage_dimension:"NATIONAL"},function(t){var a=t.data[0]||{};e.serial_number=a.serial_number,e.loading=!1,e.serial_number&&e.POST_REGION_TARGET_DRAFT()},this.failure)},POST_REGION_TARGET_DRAFT:function(){var t=this,e=sessionStorage.getItem("iways_uuid_b")||"";if(e)return this.uuid=e,this.$router.push({path:"/zhiku/xl/area/target",query:{uuid:this.uuid}}),void this.PUT_REGION_TARGET();this.$request.post(this.$interface.POST_REGION_TARGET_DRAFT,{header:{token:this.token},national_serial_number:this.serial_number,region_id:this.region_id,title:""},function(e){t.uuid=e.data[0].uuid||"",sessionStorage.setItem("iways_uuid_b",t.uuid),t.$router.push({path:"/zhiku/xl/area/target",query:{uuid:t.uuid}}),t.PUT_REGION_TARGET()},this.failure)},PUT_REGION_TARGET:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};this.$request.put(this.$interface.PUT_REGION_TARGET,{header:{token:this.token},region_target:[{id:0,sales:0}],resplit:!1,uuid:this.uuid},function(a){t.region_target=a.data[0],"function"==typeof e&&e(a)},function(a){"400"==a.result_code&&"Bad Request: 目标草稿已过期或不存在"==a.result_msg?(sessionStorage.removeItem("iways_uuid_b"),t.POST_REGION_TARGET_DRAFT(e)):t.failure(a)})}},components:{BiBar:Rt,BiPanel:v.a,BiEmpty:wt.a}},ta={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("bi-bar",{attrs:{columnTitle:"目标制定"}},[a("template",{slot:"button"},[a("span",{staticClass:"mgr20"},[t._v("时间："+t._s(t.year_month))]),t._v(" "),a("span",{staticClass:"mgr20 cyc-xl-column"},[t._v("\n        管理维度："+t._s(t.dimension_name)+"\n        "),1==t.manage_type_id?a("el-cascader",{staticClass:"change-data-button",attrs:{size:"mini","popper-class":"cyc-xl-column_cascader",options:t.options},on:{change:t.selectOptions},model:{value:t.selectedOptions,callback:function(e){t.selectedOptions=e},expression:"selectedOptions"}}):t._e()],1),t._v(" "),a("span",{staticClass:"mgr20"},[t._v("管理类型："+t._s(t.manage_type))])]),t._v(" "),a("template",{slot:"right"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("span",{staticClass:"bread-legend"},[t._v("当前位置：")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("概览主页")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 销量目标管理")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 区域 - 目标制定")])],1)],1)],2),t._v(" "),a("div",{staticClass:"content"},[t.serial_number?[a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[t._v("请确认区域总目标")]),t._v(" "),a("div",{attrs:{slot:"others"},slot:"others"},[a("router-link",{staticClass:"cyc-xl-step-btn on",attrs:{to:"target/list"}},[a("i",{staticClass:"iconfont icon-time"}),t._v("查看过往制定的目标")])],1),t._v(" "),a("div",{staticClass:"cyc-xl-step"},[a("ul",{staticClass:"step-bar"},[a("li",{staticClass:"active"},[a("span",[t._v("1")]),t._v(" "),a("div",[t._v("\n                进行中\n                "),a("em"),t._v(" "),a("small",[t._v("车型总目标")])])]),t._v(" "),a("li",[a("span",{staticClass:"iconfont"},[t._v("2")]),t._v(" "),a("div",[t._v("\n                待进行\n                "),a("em"),t._v(" "),a("small",[t._v("省份车型目标")])])]),t._v(" "),a("li",[a("span",{staticClass:"iconfont"},[t._v("3")]),t._v(" "),a("div",[t._v("\n                待进行\n                "),a("em"),t._v(" "),a("small",[t._v("省份月度目标")])])]),t._v(" "),a("li",[a("span",{staticClass:"iconfont"},[t._v("4")]),t._v(" "),a("div",[t._v("\n                待进行\n                "),a("small",[t._v("确认下发")])])])])])],2),t._v(" "),a("bi-panel",{staticStyle:{"margin-bottom":"-2px"},attrs:{operating:!1,"title-size":"small"}},[a("template",{slot:"title"},[t._v("确认品牌总目标")]),t._v(" "),a("template",{slot:"others"},[a("span",{staticClass:"cyc-xl-title-tips"},[a("font",[t._v("说明：MTD 当前月份")]),t._v(" "),a("font",[t._v("YTD 累积至当前月份")]),t._v(" "),a("font",[t._v("RTD 下月累积至年底")]),t._v(" "),a("font",[t._v("TY  全年累积")])],1)]),t._v(" "),a("div",[a("table",{staticClass:"cyc-xl-table_va"},[a("thead",[a("tr",[a("th",{attrs:{width:"13%"}},[t._v("品牌")]),t._v(" "),a("th",{attrs:{width:"23"}},[t._v("TY-2018目标")]),t._v(" "),a("th",{attrs:{width:"16%"}},[t._v("TY-2017实际完成")]),t._v(" "),a("th",{attrs:{width:"21%"}},[t._v("最新目标-相对去年增长")]),t._v(" "),a("th",{attrs:{width:"10%"}},[t._v("TY(0+12)")]),t._v(" "),a("th",{attrs:{width:"17%"}},[t._v("最新目标-相对0+12增长")])])]),t._v(" "),a("tbody",[t.region_target.previous_level?a("tr",[a("td",[t._v(t._s(t.region_target.previous_level.metadata.name))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t.region_target.previous_level.ty)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t.region_target.previous_level.ly_sales)))]),t._v(" "),a("td",[t.region_target.previous_level.ty_growth_rate?[t._v("\n                  "+t._s(t._f("number_format")(t._f("multiply")(t.region_target.previous_level.ty_growth_rate,100),1))+"%\n                ")]:[t._v("\n                  亲，暂未制定目标\n                ")]],2),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t.region_target.previous_level.last_ty)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t.region_target.previous_level.ty_mom)))])]):t._e()])])])],2),t._v(" "),a("bi-panel",{attrs:{operating:!1,"title-size":"small"}},[a("template",{slot:"title"},[t._v("确认车型总目标")]),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{"min-height":"200px"},attrs:{"element-loading-background":"#fff"}},[a("table",{staticClass:"cyc-xl-table_va"},[a("thead",[a("tr",[a("th",{attrs:{width:"13%"}},[t._v("车型")]),t._v(" "),a("th",{attrs:{width:"23"}},[t._v("TY-2018目标")]),t._v(" "),a("th",{attrs:{width:"16%"}},[t._v("TY-2017实际完成")]),t._v(" "),a("th",{attrs:{width:"21%"}},[t._v("最新目标-相对去年增长")]),t._v(" "),a("th",{attrs:{width:"10%"}},[t._v("TY(0+12)")]),t._v(" "),a("th",{attrs:{width:"17%"}},[t._v("最新目标-相对0+12增长")])])]),t._v(" "),a("tbody",t._l(t.region_target.list,function(e,s){return a("tr",{},[a("td",[t._v(t._s(e.metadata.name))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.ty)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.ly_sales)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.ty_growth_rate,100),1))+"%")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.last_ty)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.ty_mom,100),1))+"%")])])}))])])],2),t._v(" "),a("router-link",{staticClass:"cyc-xl-btn",attrs:{to:{path:"target/setvb",query:{uuid:t.uuid}}}},[t._v("下一步：制定省份车型目标")])]:a("bi-panel",[t.loading?t._e():a("bi-empty",{staticStyle:{margin:"100px auto"}},[a("span",{attrs:{slot:"tips"},slot:"tips"},[t._v("亲爱的，暂时没有相关数据，请先完成目标制定！如还有疑问，请联系客户管理员。")])])],1)],2)],1)},staticRenderFns:[]};var ea=a("Z0/y")(Qe,ta,!1,function(t){a("scoC")},"data-v-070c79d2",null).exports,aa={name:"",mixins:[g.a,me],data:function(){return{spread:!0,uuid:this.$route.query.uuid||"",resplit:this.$route.query.resplit,region_target:[],open_status:[],popover_status:[],region_status:[],region_focus:[],region_hover:[],region_sales_targets:[],region_sales_target_obj:[],remainTarget:0,area_sales_target:0,model_group_status:"",click_flag:1,editbtn_state:!0,errortip_state:!1,clickEvent:!1,apply:!0}},directives:{focus:{inserted:function(t,e){e.value&&(Number(t.value)<=0&&(t.value=""),t.focus())}}},mounted:function(){var t=this,e=void 0!=this.resplit&&this.resplit;this.PUT_REGION_TARGET(e,function(e){var a=e.data,i=[],n=[],r=[],o=0;t.region_sales_targets=[],a.map(function(e,a){var l=e.previous_level.ty;t.region_sales_targets.push(l),i[a]=!1,n[a]="complete",r[a]=!1,s.default.set(t.region_hover,a,!1),0==a?t.area_sales_target=e.previous_level.ty:o+=l}),t.region_focus=i,t.region_status=n,t.popover_status=r,t.remainTarget=t.area_sales_target-o,t.model_group_status="completeListVb"}),document.getElementById("app").addEventListener("click",this.windowClick)},beforeDestroy:function(){document.getElementById("app").removeEventListener("click",this.windowClick)},watch:{region_target:function(){var t=this,e=[];this.open_status=[],this.region_target.map(function(a,s){t.open_status.push(!1),0!=s&&e.push({id:a.previous_level.metadata.id,sales:a.previous_level.ty||""})}),this.region_sales_target_obj=e},region_sales_targets:function(){var t=[];for(var e in this.region_sales_target_obj){var a=this.region_sales_target_obj[e],s=Number(e)+1;t.push({id:a.id,sales:Number(this.region_sales_targets[s])||""})}this.region_sales_target_obj=t,this.apply=!0},remainTarget:function(){var t=this;0==this.remainTarget&&this.checkNull?this.spread=!0:(this.spread=!1,this.open_status.map(function(e,a){s.default.set(t.open_status,a,!1)}))}},methods:{panelClick:function(){var t=this,e=this.to_zero(this.area_sales_target);this.clickEvent=!1,0!=e.length&&0!=e?0!=this.remainTarget||this.checkNull()?(this.model_group_status="errorListVb",this.editbtn_state=!1,this.click_flag=0,this.errortip_state=!0):(this.model_group_status="completeListVb",this.spread=!0,this.editbtn_state=!0,this.click_flag=1,this.errortip_state=!1,this.apply&&this.PUT_REGION_TARGET(!1,function(){t.apply=!1})):this.model_group_status="defaultListVb"},changeOpenStatus:function(t){0==this.spread?this.$confirm('<div>抱歉，您的区域总目标还未分配完成，请继续<br>制定区域总目标。</div><div><strong style="font-size:20px;color:red;">'+this.number_format(this.remainTarget>=0?this.remainTarget:-1*this.remainTarget)+"</strong></div><div><em>未分配区域目标</em>","温馨提示",{type:"error",center:!0,showCancelButton:!1,showConfirmButton:!1,dangerouslyUseHTMLString:!0}).catch(function(){}):(this.model_group_status="defaultListVb",this.open_status=this.open_status.map(function(e,a){return a==t?!e:e}))},focusRegionTarget:function(t,e){var a=this;if(2==e)this.$confirm("<p>亲爱的，您车型总目标已分配完成， <br/>您确定要修改车型总目标？</p>","温馨提示",{confirmButtonText:"确定",cancelButtonText:"放弃",type:"warning",center:!0,dangerouslyUseHTMLString:!0}).then(function(){s.default.set(a.popover_status,t,!0),s.default.set(a.region_status,t,"edit"),s.default.set(a.region_focus,t,!0),a.model_group_status="editListVb",a.errortip_state=!1,a.editbtn_state=!1,a.click_flag=0,a.open_status.map(function(t,e){s.default.set(a.open_status,e,!1)})}).catch(function(){});else{if(1==e)return;0==t?0!=this.remainTarget||this.checkNull()?(this.model_group_status="errorListVb",this.editbtn_state=!1,this.click_flag=0,this.errortip_state=!0):(this.model_group_status="completeListVb",this.spread=!0,this.editbtn_state=!0,this.click_flag=1,this.errortip_state=!1,this.PUT_REGION_TARGET(!1)):(s.default.set(this.popover_status,t,!0),s.default.set(this.region_status,t,"edit"),s.default.set(this.region_focus,t,!0),this.model_group_status="editListVb",this.errortip_state=!1)}},blurRegionTarget:function(t){var e=this.region_sales_targets[t];s.default.set(this.popover_status,t,!1),s.default.set(this.region_status,t,"complete"),s.default.set(this.region_focus,t,!1),0==e.length?(s.default.set(this.region_status,t,"default"),s.default.set(this.region_focus,t,!1)):this.region_sales_targets[t]=this.to_zero(e)},keyupRegionTarget:function(t){this.calRemainTarget()},mouseenterInput:function(t){"complete"==this.region_status[t]&&s.default.set(this.region_hover,t,!0)},mouseleaveInput:function(t){s.default.set(this.region_hover,t,!1)},calRemainTarget:function(){var t=0;for(var e in this.region_sales_targets)0!=e&&(t+=this.to_zero(this.region_sales_targets[e]));this.remainTarget=this.area_sales_target-t},nextStep:function(){var t=this;0!=this.remainTarget?(this.$confirm('<div>抱歉，您的区域总目标还未分配完成，请继续<br>制定区域总目标。</div><div><strong style="font-size:20px;color:red;">'+this.number_format(this.remainTarget>=0?this.remainTarget:-1*this.remainTarget)+"</strong></div><div><em>未分配区域目标</em>","温馨提示",{type:"error",center:!0,showCancelButton:!1,showConfirmButton:!1,dangerouslyUseHTMLString:!0}).catch(function(){}),this.model_group_status=!0):this.PUT_REGION_TARGET(!1,function(e){e.verify_msg&&alert(e.verify_msg),t.$router.push({path:"/zhiku/xl/area/target/setvc",query:{uuid:t.uuid,resplit:!0}})})},checkNull:function(){var t=!1;return this.region_sales_targets.map(function(e,a){0==e.length&&(t=!0)}),t},checkAllNull:function(){var t=!0;return this.region_sales_targets.map(function(e,a){0!=e.length&&(t=!1)}),t},PUT_REGION_TARGET:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this.$request.put(this.$interface.PUT_REGION_TARGET,{header:{token:this.token},region_target:this.region_sales_target_obj||[],resplit:void 0!==t?t:this.resplit,uuid:this.uuid},function(t){var s=t.data;e.region_target=s,"function"==typeof a&&a(t)},function(t){"400"==t.result_code&&"Bad Request: 目标草稿已过期或不存在"==t.result_msg?(sessionStorage.removeItem("iways_uuid"),e.$router.push({path:"/zhiku/xl/area/target/setva"})):e.failure(t)})}},components:{BiBar:Rt,BiPanel:v.a}},sa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("bi-bar",{attrs:{columnTitle:"目标制定"}},[a("template",{slot:"button"},[a("span",{staticClass:"mgr20 mgl10"},[t._v("时间："+t._s(t.year_month))]),t._v(" "),a("span",{staticClass:"mgr20"},[t._v("管理维度："+t._s(t.dimension_name))]),t._v(" "),a("span",{staticClass:"mgr20"},[t._v("管理类型："+t._s(t.manage_type))])]),t._v(" "),a("template",{slot:"right"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("span",{staticClass:"bread-legend"},[t._v("当前位置：")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("概览主页")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 销量目标管理")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 区域 - 目标制定")])],1)],1)],2),t._v(" "),a("div",{staticClass:"content"},[a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[t._v("按车型省份制定目标")]),t._v(" "),a("div",{staticClass:"cyc-xl-step"},[a("ul",{staticClass:"step-bar"},[a("li",{staticClass:"end"},[a("span",[a("i",{staticClass:"iconfont icon-check"})]),t._v(" "),a("div",[t._v("\n              已完成\n              "),a("em"),t._v(" "),a("small",[t._v("车型总目标")])])]),t._v(" "),a("li",{staticClass:"active"},[a("span",[t._v("2")]),t._v(" "),a("div",[t._v("\n              待进行\n              "),a("em"),t._v(" "),a("small",[t._v("省份车型目标")])])]),t._v(" "),a("li",[a("span",[t._v("3")]),t._v(" "),a("div",[t._v("\n              待进行\n              "),a("em"),t._v(" "),a("small",[t._v("省份月度目标")])])]),t._v(" "),a("li",[a("span",[t._v("4")]),t._v(" "),a("div",[t._v("\n              待进行\n              "),a("small",[t._v("预览结果并下发任务")])])])])])],2),t._v(" "),a("bi-panel",{attrs:{operating:!1}},[a("div",[a("table",{staticClass:"cyc-xl-table_va",class:t.model_group_status,on:{click:function(e){t.panelClick()}}},[a("thead",{staticClass:"big"},[a("tr",[a("th",{attrs:{width:"15%"}},[t._v("省份-车型")]),t._v(" "),a("th",{attrs:{width:"15%"}},[t._v("TY-2018目标")]),t._v(" "),a("th",{attrs:{width:"6%"}},[t._v("构成比%")]),t._v(" "),a("th",{attrs:{width:"8%"}},[t._v("最新目标"),a("br"),t._v("- 相对去年增速")]),t._v(" "),a("th",{attrs:{width:"8%"}},[t._v("2018行业"),a("br"),t._v(" 预测增速")]),t._v(" "),a("th",{attrs:{width:"8%"}},[t._v("TY-2017 "),a("br"),t._v(" 实际完成")]),t._v(" "),a("th",{attrs:{width:"8%"}},[t._v("构成比%")]),t._v(" "),a("th",{attrs:{width:"8%"}},[t._v("TY "),a("br"),t._v(" ( 0 + 12 )")]),t._v(" "),a("th",{attrs:{width:"8%"}},[t._v("最新目标-相对 "),a("br"),t._v(" (0+12)增长")])])]),t._v(" "),t._l(t.region_target,function(e,s){return e.previous_level?a("tbody",[a("tr",{},[a("td",[a("i",{class:t.open_status[s]?"el-icon-remove on":"el-icon-circle-plus",on:{click:[function(e){t.changeOpenStatus(s)},function(e){e.stopPropagation(),t.clickEvent=!t.clickEvent}]}}),t._v(t._s(e.previous_level.metadata.name))]),t._v(" "),a("td",{class:t.region_status[s],on:{mouseenter:function(e){t.mouseenterInput(s)},mouseleave:function(e){t.mouseleaveInput(s)},click:[function(e){t.focusRegionTarget(s,t.click_flag)},function(e){e.stopPropagation(),t.clickEvent=!t.clickEvent}]}},[a("el-popover",{attrs:{"visible-arrow":!0,"popper-class":"cyc-xl-table_box_tips",placement:"top",trigger:"click"},model:{value:t.popover_status[s],callback:function(e){t.$set(t.popover_status,s,e)},expression:"popover_status[key]"}},[a("div",{class:["cyc-xl-table_tips",{error:t.remainTarget<0}]},[t.remainTarget>=0?[t._v("\n                    未分配总目标："+t._s(t._f("number_format")(t.remainTarget))+"\n                  ")]:[t._v("\n                    已超出总目标："+t._s(t._f("number_format")(-1*t.remainTarget))+"\n                  ")]],2)]),t._v(" "),a("div",{staticStyle:{color:"red","font-size":"12px"}},[1==s&t.remainTarget>0&&t.errortip_state?a("span",[a("i",{staticClass:"el-icon-warning"}),t._v(" 未分配总目标："+t._s(t._f("number_format")(t.remainTarget)))]):1==s&t.remainTarget<0&&t.errortip_state?a("span",[a("i",{staticClass:"el-icon-warning"}),t._v(" 已超出总目标："+t._s(t._f("number_format")(-1*t.remainTarget)))]):t._e()]),t._v(" "),0==s?a("cite",{staticStyle:{border:"0"}},[t._v(t._s(t._f("number_format")(1*t.area_sales_target)))]):["default"].includes(t.region_status[s])?a("cite",{on:{click:function(e){t.focusRegionTarget(s)}}},[t._v("请输入目标数")]):["complete","error"].includes(t.region_status[s])?a("cite",{on:{click:function(e){t.focusRegionTarget(s,t.click_flag)}}},[t._v(t._s(t._f("number_format")(1*t.region_sales_targets[s])))]):a("input",{directives:[{name:"focus",rawName:"v-focus",value:t.region_focus[s],expression:"region_focus[key]"},{name:"model",rawName:"v-model",value:t.region_sales_targets[s],expression:"region_sales_targets[key]"}],attrs:{type:"text",placeholder:"请输入目标数"},domProps:{value:t.region_sales_targets[s]},on:{blur:function(e){t.blurRegionTarget(s)},keyup:function(e){t.keyupRegionTarget(s)},input:function(e){e.target.composing||t.$set(t.region_sales_targets,s,e.target.value)}}}),t._v(" "),t.region_hover[s]&&0!=s&&t.editbtn_state?a("span",{staticClass:"cyc-xl-table_btn",on:{click:function(e){t.focusRegionTarget(s,2)}}},[t._v("编辑")]):t._e()],1),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.previous_level.ty_ratio,100),1))+"%")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.previous_level.ty_growth_rate,100),1))+"%")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.previous_level.forecast_growth_rate,100),1))+"%")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.previous_level.ly_sales)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.previous_level.ly_ratio,100),1))+"%")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.previous_level.last_ty)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.previous_level.ty_mom,100),1))+"%")])]),t._v(" "),e.list&&t.open_status[s]?t._l(e.list,function(e,s){return a("tr",{staticClass:"secondary"},[a("td",[t._v(t._s(e.metadata.name))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.ty)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.ty_ratio,100),1))+"%")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.ty_growth_rate,100),1))+"%")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.forecast_growth_rate,100),1))+"%")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.cust_forecast)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.share_split)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.ly_sales)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.ly_ratio,100),1))+"%")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.last_ty)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.ty_mom,100),1))+"%")])])}):t._e()],2):t._e()})],2)])]),t._v(" "),a("span",{staticClass:"cyc-xl-btn",on:{click:t.nextStep}},[a("i",{staticClass:"iconfont icon-xiangyou"}),t._v("下一步：制定省份月度目标")]),t._v(" "),a("router-link",{staticClass:"cyc-xl-btn_back",attrs:{to:{path:"setva",query:{uuid:t.uuid}}}},[a("i",{staticClass:"iconfont icon-icon--"}),t._v("上一步：修改车型总目标")])],1)],1)},staticRenderFns:[]};var ia=a("Z0/y")(aa,sa,!1,function(t){a("9Noz")},"data-v-86508ab4",null).exports,na={name:"",mixins:[g.a,me],data:function(){return{uuid:this.$route.query.uuid||"",resplit:this.$route.query.resplit,month_targets:[],month_sales_targets:[],month_sales_target_obj:[],year_sales_target:[],open_status:[],open_status2:[],popover_status:[],month_status:[],month_focus:[],remain_target:[],target_start_month:1,rows:["proportion","last_year_proportion","target_share","last_year_share","segment_growth_rate","target_growth_rate"],columns:["q1","q2","h1","q3","q4","h2"]}},directives:{focus:{inserted:function(t,e){e.value&&(Number(t.value)<=0&&(t.value=""),t.focus())}}},computed:{remain_target_total:function(){var t=0;return this.remain_target.map(function(e){t+=e}),t}},mounted:function(){var t=this,e=void 0!=this.resplit&&this.resplit;this.PUT_MONTH_TARGET(e,function(e){var a=e.data,s=[],i=[],n=[],r=[];t.target_start_month=e.target_start_month,a.map(function(e,a){var o=e.previous_level.month_target||"",l=0;r[a]=[],s[a]=[],i[a]=[],n[a]=[],t.year_sales_target[a]=e.previous_level.ty,o.map(function(t,e){r[a][e]=t,s[a][e]=!1,i[a][e]="complete",n[a][e]=!1,l+=Number(t)}),t.remain_target[a]=t.year_sales_target[a]-l}),t.month_sales_targets=r,t.month_focus=s,t.month_status=i,t.popover_status=n})},watch:{month_targets:function(){var t=this,e=[];this.month_targets.map(function(a,s){t.open_status.push(!1),t.open_status2.push([]),a.list.map(function(e,a){t.open_status2[s].push(!1)});var i=[];a.previous_level.month_target.map(function(e,a){a+1<t.target_start_month||i.push(e||"")}),e.push({id:a.previous_level.metadata.id,sales:i})}),this.month_sales_target_obj=e},month_sales_targets:function(){var t=this,e=[],a=function(a){var s=t.month_sales_target_obj[a],i=[];s.sales.map(function(e,s){var n=s+t.target_start_month-1;i.push(Number(t.month_sales_targets[a][n])||"")}),e.push({id:s.id,sales:i})};for(var s in this.month_sales_target_obj)a(s);this.month_sales_target_obj=e}},methods:{changeOpenStatus:function(t){de.a.set(this.open_status,t,!this.open_status[t])},changeOpenStatus2:function(t,e){var a=this;this.open_status2=this.open_status2.map(function(s,i){return i==t&&de.a.set(a.open_status2[i],e,!a.open_status2[i][e]),a.open_status2[i]})},focusMonthTarget:function(t,e){this.popover_status=this.popover_status.map(function(a,s){return t!=s?a:a.map(function(t,a){return e==a||t})}),this.month_status=this.month_status.map(function(a,s){return t!=s?a:a.map(function(t,a){return e!=a?t:"edit"})}),this.month_focus=this.month_focus.map(function(a,s){return t!=s?a:a.map(function(t,a){return e==a||t})})},blurMonthTarget:function(t,e){var a=this.to_zero(this.month_sales_targets[t][e]);this.popover_status=this.popover_status.map(function(a,s){return t!=s?a:a.map(function(t,a){return e!=a&&t})}),this.month_status=this.month_status.map(function(a,s){return t!=s?a:a.map(function(t,a){return e!=a?t:"complete"})}),this.month_focus=this.month_focus.map(function(a,s){return t!=s?a:a.map(function(t,a){return e!=a&&t})}),a<=0||isNaN(a)?this.month_sales_targets[t][e]=0:this.month_sales_targets[t][e]=Math.round(a)},keyupMonthTarget:function(t){this.calRemainTarget(t)},calRemainTarget:function(t){var e=this,a=0;this.month_sales_targets[t]&&(this.month_sales_targets[t].map(function(t,s){a+=e.to_zero(t)}),this.remain_target=this.remain_target.map(function(s,i){return t!=i?s:e.year_sales_target[t]-a}))},PUT_MONTH_TARGET:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this.$request.put(this.$interface.PUT_MONTH_TARGET,{header:{token:this.token},month_target:this.month_sales_target_obj||[],resplit:void 0!==t?t:this.resplit,uuid:this.uuid},function(t){var s=t.data;e.month_targets=s,"function"==typeof a&&a(t)},function(t){"400"==t.result_code&&"Bad Request: 目标草稿已过期或不存在"==t.result_msg?(sessionStorage.removeItem("iways_uuid"),e.$router.push({path:"/zhiku/xl/area/target/setva"})):e.failure(t)})},nextStep:function(){var t=this;if(0!=this.remain_target_total)return this.$confirm('<div>抱歉，您的区域总目标还未分配完成，请继续<br>制定区域总目标。</div><div><strong style="font-size:20px;color:red;">'+this.number_format(this.remain_target_total>=0?this.remain_target_total:-1*this.remain_target_total)+"</strong></div><div><em>未分配区域目标</em>","温馨提示",{type:"error",center:!0,showCancelButton:!1,showConfirmButton:!1,dangerouslyUseHTMLString:!0}).catch(function(){}),void(this.model_group_status=!0);if(this.remain_target.length){var e=this.remain_target.findIndex(function(t){return 0!=t});if(-1!=e){var a=this.remain_target[e],s="<div>抱歉，制定区域目标第"+(e+1)+'行</div><div><strong style="font-size:20px;color:red;">'+this.number_format(a>0?a:-1*a)+"</strong></div><div><em>"+(a>0?"未分配":"已超过")+"目标</em>";return void this.$confirm(s,"温馨提示",{type:"error",center:!0,showCancelButton:!1,showConfirmButton:!1,dangerouslyUseHTMLString:!0})}}this.PUT_MONTH_TARGET(!1,function(e){e.verify_msg?alert(e.verify_msg):t.$router.push({path:"/zhiku/xl/area/target/setvd",query:{uuid:t.uuid}})})}},components:{BiBar:Rt,BiPanel:v.a}},ra={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("bi-bar",{attrs:{columnTitle:"目标制定"}},[a("template",{slot:"button"},[a("span",{staticClass:"mgr20 mgl10"},[t._v("时间："+t._s(t.year_month))]),t._v(" "),a("span",{staticClass:"mgr20"},[t._v("管理维度："+t._s(t.dimension_name))]),t._v(" "),a("span",{staticClass:"mgr20"},[t._v("管理类型："+t._s(t.manage_type))])]),t._v(" "),a("template",{slot:"right"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("span",{staticClass:"bread-legend"},[t._v("当前位置：")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("概览主页")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 销量目标管理")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 区域 - 目标制定")])],1)],1)],2),t._v(" "),a("div",{staticClass:"content"},[a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[t._v("按车型区域月份制定")]),t._v(" "),a("div",{staticClass:"cyc-xl-step"},[a("ul",{staticClass:"step-bar"},[a("li",{staticClass:"end"},[a("span",[a("i",{staticClass:"iconfont icon-check"})]),t._v(" "),a("div",[t._v("\n              已完成\n              "),a("em"),t._v(" "),a("small",[t._v("请输入区域总目标")])])]),t._v(" "),a("li",{staticClass:"end"},[a("span",[a("i",{staticClass:"iconfont icon-check"})]),t._v(" "),a("div",[t._v("\n              已完成\n              "),a("em"),t._v(" "),a("small",[t._v("按区域车型制定目标")])])]),t._v(" "),a("li",{staticClass:"active"},[a("span",[t._v("3")]),t._v(" "),a("div",[t._v("\n              待进行\n              "),a("em"),t._v(" "),a("small",[t._v("按车型区域月份制定")])])]),t._v(" "),a("li",[a("span",[t._v("4")]),t._v(" "),a("div",[t._v("\n              待进行\n              "),a("small",[t._v("预览结果并下发任务")])])])])])],2),t._v(" "),a("bi-panel",{attrs:{operating:!1}},[a("div",{staticStyle:{overflow:"auto"}},[a("table",{staticClass:"cyc-xl-table_va expand"},[a("thead",[a("tr",[a("th",{attrs:{width:"10%"}},[t._v("区域-车型")]),t._v(" "),a("th",{attrs:{width:"8%"}},[t._v("TY-2018"),a("br"),t._v(" 目标")]),t._v(" "),a("th",{attrs:{width:"4.3%"}},[t._v("Jan")]),t._v(" "),a("th",{attrs:{width:"4.3%"}},[t._v("Feb")]),t._v(" "),a("th",{attrs:{width:"4.3%"}},[t._v("Mar")]),t._v(" "),a("th",{attrs:{width:"4.3%"}},[t._v("Apr")]),t._v(" "),a("th",{attrs:{width:"4.3%"}},[t._v("May")]),t._v(" "),a("th",{attrs:{width:"4.3%"}},[t._v("Jun")]),t._v(" "),a("th",{attrs:{width:"4.3%"}},[t._v("Jul")]),t._v(" "),a("th",{attrs:{width:"4.3%"}},[t._v("Aug")]),t._v(" "),a("th",{attrs:{width:"4.3%"}},[t._v("Sep")]),t._v(" "),a("th",{attrs:{width:"4.3%"}},[t._v("Oct")]),t._v(" "),a("th",{attrs:{width:"4.3%"}},[t._v("Nov")]),t._v(" "),a("th",{attrs:{width:"4.3%"}},[t._v("Dec")]),t._v(" "),a("th",{attrs:{width:"5%"}},[t._v("Q1")]),t._v(" "),a("th",{attrs:{width:"5%"}},[t._v("Q2")]),t._v(" "),a("th",{attrs:{width:"5%"}},[t._v("H1")]),t._v(" "),a("th",{attrs:{width:"5%"}},[t._v("Q3")]),t._v(" "),a("th",{attrs:{width:"5%"}},[t._v("Q4")]),t._v(" "),a("th",{attrs:{width:"5%"}},[t._v("H2")])])]),t._v(" "),t._l(t.month_targets,function(e,s){return e.previous_level?a("tbody",{staticClass:"completeListVc"},[a("tr",[a("td",[a("i",{class:t.open_status[s]?"el-icon-remove on":"el-icon-circle-plus",on:{click:function(e){t.changeOpenStatus(s)}}}),t._v(t._s(e.previous_level.metadata.name))]),t._v(" "),a("td",["NaN"!=e.previous_level.ty?a("cite",{staticStyle:{border:"0px"}},[t._v(t._s(t._f("number_format")(e.previous_level.ty)))]):a("cite",{staticStyle:{border:"0px"}},[t._v("暂无数据")])]),t._v(" "),t._l(e.previous_level.month_target,function(e,i){return a("td",{class:t.month_status[s][i]},[a("el-popover",{attrs:{"visible-arrow":!0,"popper-class":"cyc-xl-table_box_tips",placement:"top",trigger:"click"},model:{value:t.popover_status[s][i],callback:function(e){t.$set(t.popover_status[s],i,e)},expression:"popover_status[key][key2]"}},[a("div",{class:["cyc-xl-table_tips",{error:t.remain_target[s]<0}]},[t.remain_target[s]>=0?[t._v("\n                    未分配总目标："+t._s(t._f("number_format")(t.remain_target[s]))+"\n                  ")]:[t._v("\n                    已超出总目标："+t._s(t._f("number_format")(-1*t.remain_target[s]))+"\n                  ")]],2)]),t._v(" "),i+1<t.target_start_month||0==s?a("cite",{staticStyle:{border:"0px"}},[t._v(t._s(t._f("number_format")(1*t.month_sales_targets[s][i])))]):["complete","error"].includes(t.month_status[s][i])?a("cite",{on:{click:function(e){t.focusMonthTarget(s,i)}}},[t._v(t._s(t._f("number_format")(1*t.month_sales_targets[s][i])))]):a("input",{directives:[{name:"focus",rawName:"v-focus",value:t.month_focus[s][i],expression:"month_focus[key][key2]"},{name:"model",rawName:"v-model",value:t.month_sales_targets[s][i],expression:"month_sales_targets[key][key2]"}],staticClass:"small",attrs:{type:"text",placeholder:"请输入目标数"},domProps:{value:t.month_sales_targets[s][i]},on:{blur:function(e){t.blurMonthTarget(s,i)},keyup:function(e){t.keyupMonthTarget(s,i)},input:function(e){e.target.composing||t.$set(t.month_sales_targets[s],i,e.target.value)}}})],1)}),t._v(" "),t._l(t.columns,function(s){return a("td",["NaN"!=e.previous_level[s]?a("cite",{staticStyle:{border:"0px"}},[t._v(t._s(t._f("number_format")(e.previous_level[s])))]):a("cite",{staticStyle:{border:"0px"}},[t._v("暂无数据")])])})],2),t._v(" "),t.open_status[s]?t._l(t.rows,function(s){return a("tr",{staticClass:"secondary"},[a("td",[t._v(t._s(e.previous_level[s].metadata))]),t._v(" "),a("td",["NaN"!=e.previous_level[s].ty?[t._v(t._s(t._f("number_format")(t._f("multiply")(e.previous_level[s].ty,100),1))+"%")]:[t._v("暂无数据")]],2),t._v(" "),t._l(e.previous_level[s].month_target,function(e,s){return a("td",["NaN"!=e?[t._v(" "+t._s(t._f("number_format")(t._f("multiply")(e,100),1))+"%")]:[t._v("暂无数据")]],2)}),t._v(" "),t._l(t.columns,function(i){return a("td",["NaN"!=e.previous_level[s][i]?a("cite",{staticStyle:{border:"0px"}},[t._v(t._s(t._f("number_format")(t._f("multiply")(e.previous_level[s][i],100),1))+"%")]):a("cite",{staticStyle:{border:"0px"}},[t._v("暂无数据")])])})],2)}):t._e(),t._v(" "),t._l(e.list,function(e,i){return t.open_status[s]?[a("tr",{staticClass:"secondary"},[a("td",[a("i",{class:t.open_status2[s][i]?"el-icon-remove on":"el-icon-circle-plus",on:{click:function(e){t.changeOpenStatus2(s,i)}}}),t._v(t._s(e.metadata.name))]),t._v(" "),a("td",["NaN"!=e.ty?[t._v(t._s(t._f("number_format")(e.ty)))]:[t._v("暂无数据")]],2),t._v(" "),t._l(e.month_target,function(e,s){return a("td",["NaN"!=e?[t._v(t._s(t._f("number_format")(e)))]:[t._v("暂无数据")]],2)}),t._v(" "),t._l(t.columns,function(s){return a("td",["NaN"!=e[s]?[t._v(" "+t._s(t._f("number_format")(e[s])))]:[t._v("暂无数据")]],2)})],2),t._v(" "),t.open_status2[s][i]?t._l(t.rows,function(s){return a("tr",{staticClass:"secondary"},[a("td",{staticStyle:{"padding-left":"70px"}},[t._v(t._s(e[s].metadata))]),t._v(" "),a("td",["NaN"!=e[s].ty?[t._v(t._s(t._f("number_format")(t._f("multiply")(e[s].ty,100),1))+"%")]:[t._v("暂无数据")]],2),t._v(" "),t._l(e[s].month_target,function(e,s){return a("td",["NaN"!=e?[t._v(" "+t._s(t._f("number_format")(t._f("multiply")(e,100),1))+"%")]:[t._v("暂无数据")]],2)}),t._v(" "),t._l(t.columns,function(i){return a("td",["NaN"!=e[s][i]?[t._v(t._s(t._f("number_format")(t._f("multiply")(e[s][i],100),1))+"%")]:[t._v("暂无数据")]],2)})],2)}):t._e()]:t._e()})],2):t._e()})],2)])]),t._v(" "),a("span",{staticClass:"cyc-xl-btn",on:{click:t.nextStep}},[a("i",{staticClass:"iconfont icon-xiangyou"}),t._v("确认目标并下发")]),t._v(" "),a("router-link",{staticClass:"cyc-xl-btn_back",attrs:{to:{path:"setvb",query:{uuid:t.uuid}}}},[a("i",{staticClass:"iconfont icon-icon--"}),t._v("修改车型区域目标")])],1)],1)},staticRenderFns:[]},oa=a("Z0/y")(na,ra,!1,null,null,null).exports,la={name:"",mixins:[g.a,me],data:function(){var t;return t={isAllShow:!0,uuid:this.$route.query.uuid||"",month_targets:[],month_sales_targets:[],month_sales_target_obj:[],year_sales_target:[],open_status:[],open_status2:[],popover_status:[],month_status:[],month_focus:[],remain_target:[],remain_target_total:0,target_start_month:1,rows:["proportion","last_year_proportion","target_share","last_year_share","segment_growth_rate","target_growth_rate"],columns:["q1","q2","h1","q3","q4","h2"],chart_bar_options:[],chart_pie_options:[]},O()(t,"target_start_month",1),O()(t,"userInfo",{}),t},watch:{month_targets:function(){var t=this;this.month_targets.map(function(e,a){t.open_status.push(!1),t.open_status2.push([]),e.list.map(function(e,s){t.open_status2[a].push(!1)})});for(var e=[],a=[],s=[],i=[],n=1;n<=12;n++)e.push(n+"月");this.month_targets.map(function(t,e){a[e]=t.previous_level.month_target}),this.month_targets.map(function(t,e){i.push({value:t.previous_level.ty,name:t.previous_level.metadata.name})}),i.map(function(t,e){if(0==e)s[e]=i.filter(function(t,e){return 0!=e});else{var a={value:i[0].value-t.value,name:"其他"};s[e]=[t,a]}}),this.chart_bar_axis_data=e,this.chart_bar_series_data=a,this.chart_pie_series_data=s}},mounted:function(){var t=this;this.PUT_MONTH_TARGET(function(e){var a=e.data,s=[],i=[],n=[],r=[],o=0;t.target_start_month=e.target_start_month,a.map(function(e,a){var l=e.previous_level.month_target||"",_=0;r[a]=[],s[a]=[],i[a]=[],n[a]=[],t.year_sales_target[a]=e.previous_level.ty,l.map(function(t,e){r[a][e]=t,s[a][e]=!1,i[a][e]="complete",n[a][e]=!1,_+=Number(t)}),t.remain_target[a]=t.year_sales_target[a]-_,o+=t.remain_target[a]}),t.month_sales_targets=r,t.month_focus=s,t.month_status=i,t.popover_status=n,t.remain_target_total=o}),this.GET_USER_INFO()},methods:{changeOpenStatus:function(t){de.a.set(this.open_status,t,!this.open_status[t])},changeOpenStatus2:function(t,e){var a=this;this.open_status2=this.open_status2.map(function(s,i){return i==t&&de.a.set(a.open_status2[i],e,!a.open_status2[i][e]),a.open_status2[i]})},showWays:function(t){var e=this;0==t?this.isAllShow=!0:(this.isAllShow=!1,this.$nextTick(function(){e.initChart()}))},initChart:function(){var t=this;t.month_targets.map(function(e,a){var s={animation:0==a,tooltip:{trigger:"axis",axisPointer:{type:"line"}},xAxis:{type:"category",data:t.chart_bar_axis_data},yAxis:{type:"value"},series:[{data:t.chart_bar_series_data[a],type:"bar",itemStyle:{normal:{color:function(e){var s=t.target_start_month-1,i=[];return t.chart_bar_series_data[a].map(function(t,e){e<s?i.push("rgb(42,170,227)"):i.push("rgb(164,205,238)")}),i[e.dataIndex]}},emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};t.chart_bar_options.push(s);var i={animation:0==a,tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},series:[{name:"目标比例",type:"pie",hoverAnimation:!1,legendHoverLink:!1,radius:["31%","35%"],label:{normal:{position:"inner"}},labelLine:{normal:{show:!1}},tooltip:{show:!1},data:t.chart_pie_series_data[a].map(function(t){return{value:t.value,name:""}})},{name:"目标比例",type:"pie",radius:["35%","65%"],label:{normal:{formatter:"{b}\n{d}%"}},data:t.chart_pie_series_data[a].map(function(t){return{value:t.value,name:t.name}})}]};t.chart_pie_options.push(i)})},nextStep:function(){var t=this;this.POST_TARGET(function(e){e.serial_number&&t.$router.push({path:"setve",query:{serial_number:e.serial_number}})})},PUT_MONTH_TARGET:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};this.$request.put(this.$interface.PUT_MONTH_TARGET,{header:{token:this.token},month_target:[],uuid:this.uuid},function(a){var s=a.data;t.month_targets=s,"function"==typeof e&&e(a)},function(e){"400"==e.result_code&&"Bad Request: 目标草稿已过期或不存在"==e.result_msg?(sessionStorage.removeItem("iways_uuid"),t.$router.push({path:"/zhiku/xl/area/target/setva"})):t.failure(e)})},POST_TARGET:function(t){this.$request.post(this.$interface.POST_TARGET,{header:{token:this.token,ContentType:"application/x-www-form-urlencoded"},uuid:this.uuid},function(e){var a=e.data[0];"function"==typeof t&&t(a)},this.failure)},GET_USER_INFO:function(t){var e=this;this.$request.get(this.$interface.GET_USER_INFO,{header:{token:this.token},ids:[this.$store.state.user.user_id]},function(t){var a=t.data[0]||{};e.userInfo=a||{}},this.failure)}},components:{BiBar:Rt,BiChart:B,BiPanel:v.a}},_a={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("bi-bar",{attrs:{columnTitle:"目标制定"}},[a("template",{slot:"button"},[a("span",{staticClass:"mgr20 mgl10"},[t._v("时间："+t._s(t.year_month))]),t._v(" "),a("span",{staticClass:"mgr20"},[t._v("管理维度："+t._s(t.dimension_name))]),t._v(" "),a("span",{staticClass:"mgr20"},[t._v("管理类型："+t._s(t.manage_type))])]),t._v(" "),a("template",{slot:"right"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("span",{staticClass:"bread-legend"},[t._v("当前位置：")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("概览主页")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 销量目标管理")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 区域 - 目标制定")])],1)],1)],2),t._v(" "),a("div",{staticClass:"content"},[a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[t._v("预览结果并下发")]),t._v(" "),a("div",{staticClass:"cyc-xl-step"},[a("ul",{staticClass:"step-bar"},[a("li",{staticClass:"end"},[a("span",[a("i",{staticClass:"iconfont icon-check"})]),t._v(" "),a("div",[t._v("\n              已完成\n              "),a("em"),t._v(" "),a("small",[t._v("车型总目标")])])]),t._v(" "),a("li",{staticClass:"end"},[a("span",[a("i",{staticClass:"iconfont icon-check"})]),t._v(" "),a("div",[t._v("\n              已完成\n              "),a("em"),t._v(" "),a("small",[t._v("省份车型目标")])])]),t._v(" "),a("li",{staticClass:"end"},[a("span",[a("i",{staticClass:"iconfont icon-check"})]),t._v(" "),a("div",[t._v("\n              已完成\n              "),a("em"),t._v(" "),a("small",[t._v("省份月度目标")])])]),t._v(" "),a("li",{staticClass:"active"},[a("span",[t._v("4")]),t._v(" "),a("div",[t._v("\n              待进行\n              "),a("small",[t._v("预览结果并下发任务")])])])])])],2),t._v(" "),a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[t._v("目标制定人信息")]),t._v(" "),a("div",{staticClass:"cyc-xl-user"},[a("img",{attrs:{src:t.userInfo.logo_url?t.userInfo.logo_url:"/static/images/default-user.png",alt:""}}),t._v(" "),a("ul",[a("li",[t._v("\n            所属组："),a("span",[t._v(t._s(t.userInfo.group_name||"未知"))]),t._v("\n            角色："),a("span",[t._v(t._s(t.userInfo.role_name||"未知"))]),t._v("\n            姓名："),a("span",[t._v(t._s(t.userInfo.nickname||"未知"))])]),t._v(" "),a("li",[t._v("\n            帐户："),a("span",[t._v(t._s(t.userInfo.username||"未知"))]),t._v("\n            手机："),a("span",[t._v(t._s(t.userInfo.phone||"未知"))])])])])],2),t._v(" "),a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[t._v(" ")]),t._v(" "),a("div",{attrs:{slot:"others"},slot:"others"},[a("span",{class:["cyc-xl-step-btn",1==t.isAllShow?"on":""],on:{click:function(e){t.showWays(0)}}},[t._v("按全部预览")]),t._v(" "),a("span",{class:["cyc-xl-step-btn",0==t.isAllShow?"on":""],on:{click:function(e){t.showWays(1)}}},[t._v("按图表预览")])]),t._v(" "),t.isAllShow?a("div",{staticStyle:{overflow:"auto"}},[a("table",{staticClass:"cyc-xl-table_va expand"},[a("thead",[a("tr",[a("th",{attrs:{width:"9%"}},[t._v("区域-车型")]),t._v(" "),a("th",[t._v("TY-2018"),a("br"),t._v(" 目标")]),t._v(" "),a("th",[t._v("Jan")]),t._v(" "),a("th",[t._v("Feb")]),t._v(" "),a("th",[t._v("Mar")]),t._v(" "),a("th",[t._v("Apr")]),t._v(" "),a("th",[t._v("May")]),t._v(" "),a("th",[t._v("Jun")]),t._v(" "),a("th",[t._v("Jul")]),t._v(" "),a("th",[t._v("Aug")]),t._v(" "),a("th",[t._v("Sep")]),t._v(" "),a("th",[t._v("Oct")]),t._v(" "),a("th",[t._v("Nov")]),t._v(" "),a("th",[t._v("Dec")]),t._v(" "),a("th",{attrs:{width:"5%"}},[t._v("Q1")]),t._v(" "),a("th",{attrs:{width:"5%"}},[t._v("Q2")]),t._v(" "),a("th",{attrs:{width:"5%"}},[t._v("H1")]),t._v(" "),a("th",{attrs:{width:"5%"}},[t._v("Q3")]),t._v(" "),a("th",{attrs:{width:"5%"}},[t._v("Q4")]),t._v(" "),a("th",{attrs:{width:"5%"}},[t._v("H2")])])]),t._v(" "),t._l(t.month_targets,function(e,s){return e.previous_level?a("tbody",[a("tr",{},[a("td",[a("i",{class:t.open_status[s]?"el-icon-remove on":"el-icon-circle-plus",on:{click:function(e){t.changeOpenStatus(s)}}}),t._v(t._s(e.previous_level.metadata.name))]),t._v(" "),a("td",[a("cite",{staticStyle:{border:"0px"}},[t._v(t._s(t._f("number_format")(1*e.previous_level.ty)))])]),t._v(" "),t._l(e.previous_level.month_target,function(e,i){return a("td",[a("el-popover",{attrs:{"visible-arrow":!0,"popper-class":"cyc-xl-table_box_tips",placement:"top",trigger:"click"},model:{value:t.popover_status[s][i],callback:function(e){t.$set(t.popover_status[s],i,e)},expression:"popover_status[key][key2]"}},[a("div",{class:["cyc-xl-table_tips",{error:t.remain_target[s]<0}]},[t.remain_target[s]>=0?[t._v("\n                    未分配总目标："+t._s(t._f("number_format")(t.remain_target[s]))+"\n                  ")]:[t._v("\n                    已超出总目标："+t._s(t._f("number_format")(-1*t.remain_target[s]))+"\n                  ")]],2)]),t._v(" "),a("cite",{staticStyle:{border:"0px"}},[t._v(t._s(t._f("number_format")(1*t.month_sales_targets[s][i])))])],1)}),t._v(" "),t._l(t.columns,function(s){return a("td",[a("cite",{staticStyle:{border:"0px"}},[t._v(t._s(t._f("number_format")(e.previous_level[s])))])])})],2),t._v(" "),t.open_status[s]?t._l(t.rows,function(s){return a("tr",{staticClass:"secondary"},[a("td",[t._v(t._s(e.previous_level[s].metadata))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.previous_level[s].ty,100),1))+"%")]),t._v(" "),t._l(e.previous_level[s].month_target,function(e,s){return a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e,100),1))+"%")])}),t._v(" "),t._l(t.columns,function(i){return a("td",[a("cite",{staticStyle:{border:"0px"}},[t._v(t._s(t._f("number_format")(t._f("multiply")(e.previous_level[s][i],100),1))+"%")])])})],2)}):t._e(),t._v(" "),t._l(e.list,function(e,i){return t.open_status[s]?[a("tr",{staticClass:"secondary"},[a("td",[a("i",{class:t.open_status2[s][i]?"el-icon-remove on":"el-icon-circle-plus",on:{click:function(e){t.changeOpenStatus2(s,i)}}}),t._v(t._s(e.metadata.name))]),t._v(" "),a("td",[t._v(t._s(e.ty))]),t._v(" "),t._l(e.month_target,function(e,s){return a("td",[t._v(t._s(t._f("number_format")(e)))])})],2),t._v(" "),t.open_status2[s][i]?t._l(t.rows,function(s){return a("tr",{staticClass:"secondary"},[a("td",{staticStyle:{"padding-left":"70px"}},[t._v(t._s(e[s].metadata))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e[s].ty,100),1))+"%")]),t._v(" "),t._l(e[s].month_target,function(e,s){return a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e,100),1))+"%")])})],2)}):t._e()]:t._e()})],2):t._e()})],2)]):a("div",t._l(t.month_targets,function(e,s){return a("div",{staticClass:"cyc-xl-chartshow"},[a("h2",[t._v(t._s(e.previous_level.metadata.name))]),t._v(" "),a("el-row",[a("el-col",{staticClass:"hasborder",attrs:{span:12}},[a("h4",[t._v(t._s(e.previous_level.metadata.name)+"-目标走势")]),t._v(" "),a("bi-chart",{staticClass:"chart",attrs:{id:"chartA"+s,option:t.chart_bar_options[s]||{}}})],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("h4",[t._v(t._s(e.previous_level.metadata.name)+"-目标比例")]),t._v(" "),a("bi-chart",{staticClass:"chart",attrs:{id:"chartB"+s,option:t.chart_pie_options[s]||{}}})],1)],1)],1)}))],2),t._v(" "),a("span",{staticClass:"cyc-xl-btn",on:{click:t.nextStep}},[t._v("预览结果并下发任务")]),t._v(" "),a("router-link",{staticClass:"cyc-xl-btn_back",attrs:{to:{path:"setvc",query:{uuid:t.uuid}}}},[a("i",{staticClass:"iconfont icon-icon--"}),t._v("按车型区域月份制定目标")])],1)],1)},staticRenderFns:[]};var ca=a("Z0/y")(la,_a,!1,function(t){a("Dxrq")},"data-v-026a70a8",null).exports,da={name:"",mixins:[me],data:function(){return{serial_number:this.$route.query.serial_number||""}},mounted:function(){this.$emit("panelStyle",!1)},destroyed:function(){this.$emit("panelStyle",!0)},components:{BiBar:Rt,BiPanel:v.a}},ua={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("bi-bar",{attrs:{columnTitle:"目标制定"}},[a("template",{slot:"button"},[a("span",{staticClass:"mgr20 mgl10"},[t._v("时间："+t._s(t.year_month))]),t._v(" "),a("span",{staticClass:"mgr20"},[t._v("管理维度："+t._s(t.dimension_name))]),t._v(" "),a("span",{staticClass:"mgr20"},[t._v("管理类型："+t._s(t.manage_type))])]),t._v(" "),a("template",{slot:"right"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("span",{staticClass:"bread-legend"},[t._v("当前位置：")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("概览主页")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 销量目标管理")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 区域 - 目标制定")])],1)],1)],2),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"cyc-xl-step-end"},[t._m(0),t._v(" "),a("h2",[t._v("目标制定及下发成功！")]),t._v(" "),a("p",[t._v("您的目标制定及下发成功，流水号："),a("cite",[t._v(t._s(t.serial_number))]),t._v("，请通知区域管理者查看目标。")])]),t._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("router-link",{staticClass:"cyc-xl-btn",attrs:{to:{path:"detail",query:{serial_number:t.serial_number}}}},[t._v("查看当前定制的目标")]),t._v(" "),a("router-link",{staticClass:"cyc-xl-btn_back",attrs:{to:"setva"}},[t._v("继续制定新目标")])],1)])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"step-status"},[e("i",{staticClass:"iconfont icon-check"})])}]};var ha=a("Z0/y")(da,ua,!1,function(t){a("HplK")},"data-v-61101a0c",null).exports,ma={name:"",mixins:[g.a,me],data:function(){return{openSecondaryVa:!1,openSecondaryVb:!1,currentPage:1,options:[{value:10,label:"10行/页"},{value:20,label:"20行/页"},{value:30,label:"30行/页"},{value:40,label:"40行/页"},{value:50,label:"50行/页"}],brands:[],models:[],regions:[],allRegions:[],selected_brand_id:"",selected_model_id:[],selected_region_id:[],selected_brand:{},selected_group:{},serial_number:"",target_list:[],page_size:10,page:1,total:0,loading:!0}},mounted:function(){var t=this;this.getToken(function(){t.GET_TARGET_LOG_PAGE(),t.GET_SUBMODEL()})},watch:{selected_brand:function(){this.filtersRegion()},selected_group:function(){this.GET_TARGET_LOG_PAGE({brand_id:this.selected_group.brand,sub_model_id:this.selected_group.model,region_id:this.selected_group.region})}},methods:{handleSizeChange:function(){this.page=1,this.GET_TARGET_LOG_PAGE()},handleCurrentChange:function(t){this.page=t,this.GET_TARGET_LOG_PAGE()},changeBrand:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.selected_brand={id:e,name:a},this.selected_brand_id=e,this.selected_model_id=[],this.selected_region_id=[],""===e?this.models=this.brands[0].list:this.brands.map(function(a,s){a.previous_level.id==e&&(t.models=a.list)}),this.selectedConditions()},changeModel:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";arguments[1];if(""==t)for(var e in this.selected_model_id=[],this.selected_model_all=[],this.models)this.selected_model_all.push(this.models[e].id);else{var a=this.selected_model_id.indexOf(t);a>-1?this.selected_model_id.splice(a,1):this.selected_model_id.push(t),this.selected_model_all=this.selected_model_id}this.selectedConditions()},changeRegion:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(""==t)for(var e in this.selected_region_id=[],this.selected_region_all=[],this.regions)this.selected_region_all.push(this.regions[e].previous_level.id);else{var a=this.selected_region_id.indexOf(t);a>-1?this.selected_region_id.splice(a,1):this.selected_region_id.push(t),this.selected_region_all=this.selected_region_id}this.selectedConditions()},selectedConditions:function(){this.selected_group={brand:this.selected_brand_id,model:this.selected_model_id,region:this.selected_region_id}},filtersRegion:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selected_brand.name;for(var e in this.regions=[],this.allRegions){this.allRegions[e].previous_level.name.indexOf(t)>-1&&this.regions.push(this.allRegions[e])}},search:function(){this.GET_TARGET_LOG_PAGE({brand_id:this.selected_group.brand,sub_model_id:this.selected_group.model,region_id:this.selected_group.region,serial_number:this.serial_number})},GET_TARGET_LOG_PAGE:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.loading=!0,this.$request.get(this.$interface.GET_TARGET_LOG_PAGE,{header:{token:this.token},manage_dimension:"REGION",brand_id:e.brand_id||"",sub_model_id:e.sub_model_id||"",region_id:e.region_id||"",serial_number:e.serial_number||"",page:this.page,rows:this.page_size},function(e){t.loading=!1;var a=e.data[0];t.target_list=a.list||[],t.total=a.total},this.failure)},GET_SUBMODEL:function(){var t=this;this.$request.get(this.$interface.GET_SUB_MODEL,{header:{token:this.token}},function(e){t.brands=e.data||[],t.models=t.brands[0].list,t.selected_brand={id:t.brands[0].previous_level.id,name:t.brands[0].previous_level.name}},this.failure)},GET_REGION:function(){var t=this;this.$request.get(this.$interface.GET_REGION,{header:{token:this.token}},function(e){t.allRegions=e.data||[],t.filtersRegion()},this.failure)}},components:{BiBar:Rt,BiPanel:v.a,BiEmpty:wt.a}},va={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("bi-bar",{attrs:{columnTitle:"目标列表"}},[a("template",{slot:"button"},[a("span",{staticClass:"mgr20 mgl10"},[t._v("时间："+t._s(t.year_month))]),t._v(" "),a("span",{staticClass:"mgr20"},[t._v("管理维度："+t._s(t.dimension_name))]),t._v(" "),a("span",{staticClass:"mgr20"},[t._v("管理类型："+t._s(t.manage_type))])]),t._v(" "),a("template",{slot:"right"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("span",{staticClass:"bread-legend"},[t._v("当前位置：")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("概览主页")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 销量目标管理")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 区域 - 目标列表")])],1)],1)],2),t._v(" "),a("div",{staticClass:"content"},[t._e(),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{"min-height":"200px"},attrs:{"element-loading-background":"#fff"}},[t.target_list.length>0?a("div",{staticClass:"cyc-xl-table-box"},[a("table",{staticClass:"cyc-xl-table_vc"},[t._m(0),t._v(" "),a("tbody",t._l(t.target_list,function(e,s){return a("tr",[a("td",[t._v(t._s((t.page-1)*t.page_size+s+1))]),t._v(" "),a("td",[a("a",{attrs:{href:"/client.html#/zhiku/xl/area/target/detail?serial_number="+e.serial_number,target:"_blank"}},[t._v("\n              "+t._s(e.serial_number)+"\n              ")])]),t._v(" "),a("td",[a("a",{attrs:{href:"/client.html#/zhiku/xl/area/target/detail?serial_number="+e.serial_number,target:"_blank"}},[t._v("\n              "+t._s(e.name)+"\n              ")])]),t._v(" "),a("td",[t._v(t._s(e.manage_type.name||"零售量"))]),t._v(" "),a("td",[t._v(t._s(e.region.name))]),t._v(" "),a("td",[e.author?a("span",[t._v(t._s(e.author.username||"")+" "+t._s(e.author.role_name||""))]):t._e()]),t._v(" "),a("td",[t._v(t._s(e.create_time))]),t._v(" "),a("td",[a("a",{attrs:{href:"/client.html#/zhiku/xl/area/target/detail?serial_number="+e.serial_number,target:"_blank"}},[t._v("查看")])])])}))]),t._v(" "),a("div",{staticClass:"pagination-box"},[a("span",{staticStyle:{float:"left"}},[t._v("\n          显示行数：\n            "),a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择",size:"mini"},on:{change:t.handleSizeChange},model:{value:t.page_size,callback:function(e){t.page_size=e},expression:"page_size"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-pagination",{staticStyle:{float:"right"},attrs:{"current-page":t.page,"page-size":t.page_size,layout:"prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.page=e}}})],1)]):t.target_list.length<=0&&!t.loading?a("bi-empty",{staticStyle:{background:"#fff",padding:"200px auto"}},[a("span",{attrs:{slot:"tips"},slot:"tips"})]):t._e()],1)],1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("序号")]),t._v(" "),a("th",[t._v("流水号")]),t._v(" "),a("th",[t._v("标题")]),t._v(" "),a("th",[t._v("管理类型")]),t._v(" "),a("th",[t._v("区域")]),t._v(" "),a("th",[t._v("目标制定人")]),t._v(" "),a("th",[t._v("制定日期")]),t._v(" "),a("th",[t._v("操作")])])])}]};var pa=a("Z0/y")(ma,va,!1,function(t){a("cuZv")},"data-v-561e0e6b",null).exports,fa={name:"",mixins:[g.a,me],data:function(){return{isAllShow:!0,serial_number:this.$route.query.serial_number||"",month_targets:[],month_sales_targets:[],open_status:[],open_status2:[],rows:["proportion","last_year_proportion","target_share","last_year_share","segment_growth_rate","target_growth_rate"],columns:["q1","q2","h1","q3","q4","h2"],chart_bar_options:[],chart_pie_options:[],target_start_month:1,userInfo:{}}},watch:{month_targets:function(){var t=this;this.month_targets.map(function(e,a){t.open_status.push(!1),t.open_status2.push([]),e.list.map(function(e,s){t.open_status2[a].push(!1)})});for(var e=[],a=[],s=[],i=[],n=1;n<=12;n++)e.push(n+"月");this.month_targets.map(function(t,e){a[e]=t.previous_level.month_target}),this.month_targets.map(function(t,e){i.push({value:t.previous_level.ty,name:t.previous_level.metadata.name})}),i.map(function(t,e){if(0==e)s[e]=i.filter(function(t,e){return 0!=e});else{var a={value:i[0].value-t.value,name:"其他"};s[e]=[t,a]}}),this.chart_bar_axis_data=e,this.chart_bar_series_data=a,this.chart_pie_series_data=s}},mounted:function(){var t=this;this.GET_TARGET_DETAIL(function(e){var a=e.data,s=[];t.target_start_month=e.target_start_month||1,a.map(function(t,e){var a=t.previous_level.month_target||"";s[e]=[],a.map(function(t,a){s[e][a]=t})}),t.month_sales_targets=s}),this.GET_TARGET_LOG()},methods:{changeOpenStatus:function(t){de.a.set(this.open_status,t,!this.open_status[t])},changeOpenStatus2:function(t,e){var a=this;this.open_status2=this.open_status2.map(function(s,i){return i==t&&de.a.set(a.open_status2[i],e,!a.open_status2[i][e]),a.open_status2[i]})},showWays:function(t){var e=this;0==t?this.isAllShow=!0:(this.isAllShow=!1,this.$nextTick(function(){e.initChart()}))},initChart:function(){var t=this;t.month_targets.map(function(e,a){var s={tooltip:{trigger:"axis",axisPointer:{type:"line"}},xAxis:{type:"category",data:t.chart_bar_axis_data},yAxis:{type:"value"},series:[{data:t.chart_bar_series_data[a],type:"bar",itemStyle:{normal:{color:function(e){var s=t.target_start_month-1,i=[];return t.chart_bar_series_data[a].map(function(t,e){e<s?i.push("rgb(42,170,227)"):i.push("rgb(164,205,238)")}),i[e.dataIndex]}},emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};t.chart_bar_options.push(s);var i={tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},series:[{name:"目标比例",type:"pie",hoverAnimation:!1,legendHoverLink:!1,radius:["31%","35%"],label:{normal:{position:"inner"}},labelLine:{normal:{show:!1}},tooltip:{show:!1},data:t.chart_pie_series_data[a].map(function(t){return{value:t.value,name:""}})},{name:"目标比例",type:"pie",radius:["35%","65%"],label:{normal:{formatter:"{b}\n{d}%"}},data:t.chart_pie_series_data[a].map(function(t){return{value:t.value,name:t.name}})}]};t.chart_pie_options.push(i)})},GET_TARGET_DETAIL:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};this.$request.get(this.$interface.GET_TARGET_DETAIL,{header:{token:this.token},serial_number:this.serial_number},function(a){var s=a.data;t.month_targets=s,"function"==typeof e&&e(a)},this.failure)},GET_TARGET_LOG:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.serial_number&&this.$request.get(this.$interface.GET_TARGET_LOG,{header:{token:this.token},serial_number:this.serial_number},function(e){var a=e.data[0]||{};t.userInfo=a.author},this.failure)}},components:{BiBar:Rt,BiPanel:v.a,BiChart:B}},ga={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cyc-xl-targetDetail"},[a("bi-bar",{attrs:{columnTitle:"制定目标详情"}},[a("template",{slot:"button"},[a("span",{staticClass:"mgr20 mgl10"},[t._v("时间："+t._s(t.year_month))]),t._v(" "),a("span",{staticClass:"mgr20"},[t._v("管理维度："+t._s(t.dimension_name))]),t._v(" "),a("span",{staticClass:"mgr20"},[t._v("管理类型："+t._s(t.manage_type))])]),t._v(" "),a("template",{slot:"right"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("span",{staticClass:"bread-legend"},[t._v("当前位置：")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("概览主页")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 销量目标管理")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 区域 - 目标详情")])],1)],1)],2),t._v(" "),a("div",{staticClass:"content"},[a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[t._v("目标制定人信息")]),t._v(" "),a("div",{staticClass:"cyc-xl-user"},[a("img",{attrs:{src:t.userInfo.logo_url?t.userInfo.logo_url:"/static/images/default-user.png",alt:""}}),t._v(" "),a("ul",[a("li",[t._v("\n            所属组："),a("span",[t._v(t._s(t.userInfo.group_name||"未知"))]),t._v("\n            角色："),a("span",[t._v(t._s(t.userInfo.role_name||"未知"))]),t._v("\n            姓名："),a("span",[t._v(t._s(t.userInfo.nickname||"未知"))])]),t._v(" "),a("li",[t._v("\n            帐户："),a("span",[t._v(t._s(t.userInfo.username||"未知"))]),t._v("\n            手机："),a("span",[t._v(t._s(t.userInfo.phone||"未知"))])])])])],2),t._v(" "),a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[t._v(" ")]),t._v(" "),a("div",{attrs:{slot:"others"},slot:"others"},[a("span",{class:["cyc-xl-step-btn",1==t.isAllShow?"on":""],on:{click:function(e){t.showWays(0)}}},[t._v("按全部预览")]),t._v(" "),a("span",{class:["cyc-xl-step-btn",0==t.isAllShow?"on":""],on:{click:function(e){t.showWays(1)}}},[t._v("按图表预览")])]),t._v(" "),t.isAllShow?a("div",{staticStyle:{overflow:"auto"}},[a("table",{staticClass:"cyc-xl-table_va expand"},[a("thead",[a("tr",[a("th",{attrs:{width:"10%"}},[t._v("区域-车型")]),t._v(" "),a("th",[t._v("TY-2018"),a("br"),t._v(" 目标")]),t._v(" "),a("th",[t._v("Jan")]),t._v(" "),a("th",[t._v("Feb")]),t._v(" "),a("th",[t._v("Mar")]),t._v(" "),a("th",[t._v("Apr")]),t._v(" "),a("th",[t._v("May")]),t._v(" "),a("th",[t._v("Jun")]),t._v(" "),a("th",[t._v("Jul")]),t._v(" "),a("th",[t._v("Aug")]),t._v(" "),a("th",[t._v("Sep")]),t._v(" "),a("th",[t._v("Oct")]),t._v(" "),a("th",[t._v("Nov")]),t._v(" "),a("th",[t._v("Dec")]),t._v(" "),a("th",{attrs:{width:"5%"}},[t._v("Q1")]),t._v(" "),a("th",{attrs:{width:"5%"}},[t._v("Q2")]),t._v(" "),a("th",{attrs:{width:"5%"}},[t._v("H1")]),t._v(" "),a("th",{attrs:{width:"5%"}},[t._v("Q3")]),t._v(" "),a("th",{attrs:{width:"5%"}},[t._v("Q4")]),t._v(" "),a("th",{attrs:{width:"5%"}},[t._v("H2")])])]),t._v(" "),t._l(t.month_targets,function(e,s){return e.previous_level?a("tbody",[a("tr",[a("td",[a("i",{class:t.open_status[s]?"el-icon-remove on":"el-icon-circle-plus",on:{click:function(e){t.changeOpenStatus(s)}}}),t._v("\n              "+t._s(e.previous_level.metadata.name)+"\n            ")]),t._v(" "),a("td",["NaN"!=e.previous_level.ty?a("cite",{staticStyle:{border:"0px"}},[t._v(t._s(t._f("number_format")(e.previous_level.ty)))]):a("cite",{staticStyle:{border:"0px"}},[t._v("暂无数据")])]),t._v(" "),t._l(e.previous_level.month_target,function(e,i){return a("td",["NaN"!=t.month_sales_targets[s][i]?a("cite",{staticStyle:{border:"0px"}},[t._v(t._s(t._f("number_format")(t.month_sales_targets[s][i])))]):a("cite",{staticStyle:{border:"0px"}},[t._v("暂无数据")])])}),t._v(" "),t._l(t.columns,function(s){return a("td",["NaN"!=e.previous_level[s]?a("cite",{staticStyle:{border:"0px"}},[t._v(t._s(t._f("number_format")(e.previous_level[s])))]):a("cite",{staticStyle:{border:"0px"}},[t._v("暂无数据")])])})],2),t._v(" "),t.open_status[s]?t._l(t.rows,function(s){return a("tr",{staticClass:"secondary"},[a("td",[t._v("\n                "+t._s(e.previous_level[s].metadata)+"\n              ")]),t._v(" "),a("td",["NaN"!=e.previous_level[s].ty?[t._v(t._s(t._f("number_format")(t._f("multiply")(e.previous_level[s].ty,100),1))+"%")]:[t._v("暂无数据")]],2),t._v(" "),t._l(e.previous_level[s].month_target,function(e,s){return a("td",["NaN"!=e?[t._v(t._s(t._f("number_format")(t._f("multiply")(e,100),1))+"%")]:[t._v("暂无数据")]],2)}),t._v(" "),t._l(t.columns,function(i){return a("td",["NaN"!=e.previous_level[s][i]?a("cite",{staticStyle:{border:"0px"}},[t._v(t._s(t._f("number_format")(t._f("multiply")(e.previous_level[s][i],100),1))+"%")]):a("cite",[t._v("暂无数据")])])})],2)}):t._e(),t._v(" "),t._l(e.list,function(e,i){return t.open_status[s]?[a("tr",{staticClass:"secondary"},[a("td",[a("i",{class:t.open_status2[s][i]?"el-icon-remove on":"el-icon-circle-plus",on:{click:function(e){t.changeOpenStatus2(s,i)}}}),t._v(t._s(e.metadata.name))]),t._v(" "),a("td",["NaN"!=e.ty?[t._v(t._s(t._f("number_format")(e.ty)))]:[t._v("暂无数据")]],2),t._v(" "),t._l(e.month_target,function(e,s){return a("td",["NaN"!=e?[t._v(t._s(t._f("number_format")(e)))]:[t._v("暂无数据")]],2)}),t._v(" "),t._l(t.columns,function(s){return a("td",["NaN"!=e[s]?[t._v(" "+t._s(t._f("number_format")(e[s])))]:[t._v("暂无数据")]],2)})],2),t._v(" "),t.open_status2[s][i]?t._l(t.rows,function(s){return a("tr",{staticClass:"secondary"},[a("td",{staticStyle:{"padding-left":"70px"}},[t._v(t._s(e[s].metadata))]),t._v(" "),a("td",["NaN"!=e[s].ty?[t._v(t._s(t._f("number_format")(t._f("multiply")(e[s].ty,100),1))+"%")]:[t._v("暂无数据")]],2),t._v(" "),t._l(e[s].month_target,function(e,s){return a("td",["NaN"!=e?[t._v(" "+t._s(t._f("number_format")(t._f("multiply")(e,100),1))+"%")]:[t._v("暂无数据")]],2)}),t._v(" "),t._l(t.columns,function(i){return a("td",["NaN"!=e[s][i]?[t._v(t._s(t._f("number_format")(t._f("multiply")(e[s][i],100),1))+"%")]:[t._v("暂无数据")]],2)})],2)}):t._e()]:t._e()})],2):t._e()})],2)]):a("div",t._l(t.month_targets,function(e,s){return a("div",{staticClass:"cyc-xl-chartshow"},[a("h2",[t._v(t._s(e.previous_level.metadata.name))]),t._v(" "),a("el-row",[a("el-col",{staticClass:"hasborder",attrs:{span:12}},[a("h4",[t._v(t._s(e.previous_level.metadata.name)+"-目标走势")]),t._v(" "),a("bi-chart",{staticClass:"chart",attrs:{id:"chartA"+s,option:t.chart_bar_options[s]||{}}})],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("h4",[t._v(t._s(e.previous_level.metadata.name)+"-目标比例")]),t._v(" "),a("bi-chart",{staticClass:"chart",attrs:{id:"chartB"+s,option:t.chart_pie_options[s]||{}}})],1)],1)],1)}))],2),t._v(" "),a("router-link",{staticClass:"cyc-xl-btn",attrs:{to:"setva"}},[t._v("重新调整目标")])],1)],1)},staticRenderFns:[]};var ba=a("Z0/y")(fa,ga,!1,function(t){a("43Ji")},"data-v-b31ab412",null).exports,ya={name:"",mixins:[g.a,me],data:function(){return{newstTarget:"",dataTime:"",manageDimensionId:"",manageDimension:"REGION",manageTypeId:"",brands:{},models:[],areas:[],forecast:[],allBrands:"",allAreas:[],selected_brand_id:"",selected_brand_name:"",selected_model_id:[],selected_area_id:[],push_model_id:[],push_area:[],complete:!1,loading:new Array(2).fill(!1),brand:{},userIdentity:"",region_id:"",regions:[],options:[],selectedOptions:[]}},watch:{regions:function(){if(1==this.manage_type_id){var t=this.groupByBrandName(this.regions,"region");this.options=t[1].children}}},computed:{selected_all_model:function(){var t=[];for(var e in this.models)t.push(this.models[e].id);return t},selected_all_area:function(){var t=[];for(var e in this.areas.list)t.push(this.areas.list[e]);return t},region_name:function(){var t=this;return this.regions.find(function(e){return e.previous_level.id==t.region_id}).previous_level.name}},mounted:function(){var t=this;this.region_id=this.dimension_id,this.getToken(function(){t.GET_REGION(),t.getNewstTarget()})},methods:{selectOptions:function(){this.region_id=this.selectedOptions[0],this.dimension_id=this.region_id,this.dimension_name=this.region_name,this.updateDimension(this.dimension_id,this.dimension_name),sessionStorage.removeItem("iways_uuid_b"),this.getNewstTarget()},GET_REGION:function(){var t=this;this.$request.get(this.$interface.GET_REGION,{header:{token:this.token}},function(e){t.regions=e.data||[]},this.failure)},getDataTime:function(){var t=this;this.$request.get(this.$interface.GET_DATA_TIME,{header:{token:this.token}},function(e){e.data.length<=0||(t.dataTime=e.data[0].end_time,t.getRegion())},this.failure)},getNewstTarget:function(){var t=this;this.$request.get(this.$interface.GET_NEWST_TARGET,{header:{token:this.token},manage_dimension:this.manageDimension,region_id:this.region_id},function(e){t.newstTarget=e.data[0]||"",t.newstTarget?t.getDataTime():(t.loading[0]=!1,t.loading[1]=!1,t.complete=!0)},this.failure)},getSubModel:function(){var t=this;this.$request.get(this.$interface.GET_SUB_MODEL,{header:{token:this.token},serial_number:this.newstTarget.serial_number?this.newstTarget.serial_number:""},function(e){t.allBrands=e.data||[],t.initData()},this.failure)},getRegion:function(){var t=this;this.$request.get(this.$interface.GET_REGION,{header:{token:this.token},serial_number:this.newstTarget.serial_number?this.newstTarget.serial_number:""},function(e){t.allRegions=e.data||[],t.getSubModel()},this.failure)},getTotalForecast:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.loading[0]=!0,this.loading[1]=!0,this.$request.get(this.$interface.GET_TOTAL_FORECAST,{header:{token:this.token},manage_dimension:this.manageDimension,manage_type_id:this.manageTypeId,sub_model_id:e.sub_model_id,region_id:e.area.id,ym:this.dataTime,serial_number:this.newstTarget.serial_number?this.newstTarget.serial_number:""},function(a){if(a.data.length<=0)return t.forecast=[],t.loading[0]=!1,t.loading[1]=!1,void(t.complete=!0);var s=a.data[0].list,i={},n={},r=[];for(var o in s)n=ce()({brand_id:t.selected_brand_id,brand:t.selected_brand_name},s[o]),r.push(n),i.list=r,i.previous_level={id:e.area.id,name:e.area.name};t.forecast.push(i),t.loading[0]=!1,t.loading[1]=!1,t.complete=!0},this.failure)},changeBrand:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1]},changeModel:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";arguments[1];if(""==t)this.selected_model_id=[],this.push_model_id=this.selected_all_model;else{var e=this.selected_model_id.indexOf(t);e>-1?this.selected_model_id.splice(e,1):this.selected_model_id.push(t),0==this.selected_model_id.length?this.push_model_id=this.selected_all_model:this.push_model_id=this.selected_model_id}this.transferGetTotalForecast(this.push_model_id,this.push_area)},changeArea:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(""==t)this.selected_area_id=[],this.push_area=this.selected_all_area;else{0==this.selected_area_id.length&&(this.push_area=[]);var a=this.selected_area_id.indexOf(t);a>-1?this.selected_area_id.splice(a,1):this.selected_area_id.push(t);var s={};if(s.id=t,s.name=e,-1==yt()(this.push_area).indexOf(yt()(s)))this.push_area.push(s);else for(var i in this.push_area)this.push_area[i].id==t&&this.push_area.splice(i,1)}0==this.selected_area_id.length&&(this.push_area=this.selected_all_area),this.transferGetTotalForecast(this.push_model_id,this.push_area)},transferGetTotalForecast:function(t,e){for(var a in this.manageDimension="PROVINCE",this.forecast=[],e)this.getTotalForecast({sub_model_id:t,area:e[a]})},initData:function(){for(var t in this.areas=[],this.allRegions)this.allRegions[t].previous_level.id==this.region_id&&(this.areas=this.allRegions[t]);for(var e in this.allBrands)this.areas.previous_level.name.indexOf(this.allBrands[e].previous_level.name)>-1&&(this.brands=this.allBrands[e]);this.brand=this.brands.previous_level,this.models=this.brands.list,this.selected_brand_id=this.brands.previous_level.id,this.selected_brand_name=this.brands.previous_level.name,this.selected_model_id=[],this.selected_area_id=[],this.push_model_id=this.selected_all_model,this.push_area=this.selected_all_area,this.userIdentity=this.areas.previous_level.name,this.transferGetTotalForecast(this.selected_all_model,this.selected_all_area)}},components:{BiBar:Rt,BiPanel:v.a,BiEmpty:wt.a}},wa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("bi-bar",{attrs:{columnTitle:"监测预警"}},[a("template",{slot:"button"},[a("span",{staticClass:"mgr20 mgl10"},[t._v("时间："+t._s(t.year_month))]),t._v(" "),a("span",{staticClass:"mgr20 cyc-xl-column"},[t._v("\n        管理维度："+t._s(t.dimension_name)+"\n        "),1==t.manage_type_id?a("el-cascader",{staticClass:"change-data-button",attrs:{size:"mini","popper-class":"cyc-xl-column_cascader",options:t.options},on:{change:t.selectOptions},model:{value:t.selectedOptions,callback:function(e){t.selectedOptions=e},expression:"selectedOptions"}}):t._e()],1),t._v(" "),a("span",{staticClass:"mgr20"},[t._v("管理类型："+t._s(t.manage_type))])]),t._v(" "),a("template",{slot:"right"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("span",{staticClass:"bread-legend"},[t._v("当前位置：")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("概览主页")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 销量目标管理")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 区域 - 监测预警")])],1)],1)],2),t._v(" "),a("div",{staticClass:"content cyc-xl-targetList"},[a("bi-panel",{attrs:{operating:!1}},[a("div",{staticClass:"cyc-xl-search"},[a("div",{staticClass:"selected-box"},[t._v("\n            请选择条件\n          ")]),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading[1],expression:"loading[1]"}],attrs:{"element-loading-background":"#fff"}},[a("dl",[a("dt",[t._v("品牌：")]),t._v(" "),a("dd",[a("span",{staticClass:"on"},[t._v(t._s(t.brand.name))])])]),t._v(" "),a("dl",[a("dt",[t._v("车型：")]),t._v(" "),a("dd",[a("span",{class:{on:0==t.selected_model_id.length},on:{click:function(e){t.changeModel()}}},[t._v("不限")]),t._v(" "),t._l(t.models,function(e){return e.name?[a("span",{class:[t.selected_model_id.indexOf(e.id)>-1?"on":""],on:{click:function(a){t.changeModel(e.id,e.name)}}},[t._v("\n                "+t._s(e.name)+"\n              ")])]:t._e()})],2)]),t._v(" "),a("dl",[a("dt",[t._v("省份：")]),t._v(" "),a("dd",[a("span",{class:{on:0==t.selected_area_id.length},on:{click:function(e){t.changeArea()}}},[t._v("不限")]),t._v(" "),t._l(t.areas.list,function(e){return e.name?[a("span",{class:[t.selected_area_id.indexOf(e.id)>-1?"on":""],on:{click:function(a){t.changeArea(e.id,e.name)}}},[t._v("\n                "+t._s(e.name)+"\n              ")])]:t._e()})],2)])])])]),t._v(" "),a("h2",{staticClass:"panel-condition"},[t._v("\n      当前共选：\n      "),a("b",[t._v("1")]),t._v("个品牌，\n      "),a("b",[t._v(t._s(t.selected_model_id.length>0?t.selected_model_id.length+"个":"所有"))]),t._v("车型，\n      "),a("b",[t._v(t._s(t.selected_area_id.length>0?t.selected_area_id.length+"个":"所有"))]),t._v("省份\n    ")]),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading[1],expression:"loading[1]"}],staticStyle:{"min-height":"200px"},attrs:{"element-loading-background":"#fff"}},t._l(t.forecast,function(e,s){return a("bi-panel",{key:s,attrs:{operating:!1}},[a("template",{slot:"title"},[a("router-link",{staticClass:"link",attrs:{target:"_blank",to:{path:"alarm/detail",query:{type:"province",area_id:e.previous_level.id,area_name:e.previous_level.name,dimension:"PROVINCE"}}}},[t._v("\n            "+t._s(e.previous_level.name))])],1),t._v(" "),a("template",{slot:"others"},[a("span",{staticClass:"cyc-xl-title-tips"},[a("font",[t._v("关联ID："+t._s(t.newstTarget.serial_number))]),t._v(" "),a("font",[t._v("制定日期： "+t._s(t.newstTarget.create_time))])],1)]),t._v(" "),e.list.length>0?a("div",{staticStyle:{"max-width":"100%","overflow-x":"auto","overflow-y":"hidden"}},[a("table",{staticClass:"cyc-xl-table_vc"},[a("thead",[a("tr",[a("th",{attrs:{rowspan:"2"}},[t._v("车型")]),t._v(" "),a("th",{attrs:{rowspan:"2"}},[t._v("指标")]),t._v(" "),a("th",{attrs:{colspan:"3"}},[t._v("YTD实际完成")]),t._v(" "),a("th",{attrs:{rowspan:"2"}},[t._v("去年同期实际完成率")]),t._v(" "),a("th",{attrs:{colspan:"2"}},[t._v("目标")]),t._v(" "),a("th",{attrs:{colspan:"2"}},[t._v("最新市场预测（维持YTD份额）")]),t._v(" "),a("th",{attrs:{colspan:"2"}},[t._v("最新市场预测（维持RTG份额）")]),t._v(" "),a("th",{attrs:{colspan:"2"}},[t._v("最新市场预测（维持TY份额）")])]),t._v(" "),a("tr",[a("th",[t._v("实际完成销量")]),t._v(" "),a("th",[t._v("份额")]),t._v(" "),a("th",[t._v("目标完成率")]),t._v(" "),a("th",[t._v("RTG")]),t._v(" "),a("th",[t._v("TY")]),t._v(" "),a("th",[t._v("RTG")]),t._v(" "),a("th",[t._v("TY")]),t._v(" "),a("th",[t._v("RTG")]),t._v(" "),a("th",[t._v("TY")]),t._v(" "),a("th",[t._v("RTG")]),t._v(" "),a("th",[t._v("TY")])])]),t._v(" "),a("tbody",t._l(e.list,function(e,s){return a("tr",[a("td",[a("router-link",{attrs:{target:"_blank",to:{path:"alarm/detail",query:{type:"model",brand_name:e.brand_name,brand_id:e.brand_id,model_name:e.metadata.name,model_id:e.metadata.id}}}},[t._v("\n                    "+t._s(e.metadata.name)+"\n                  ")])],1),t._v(" "),a("td",[t._v("销量")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.sales)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.share,100),1))+"%")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.cr,100),1))+"%")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.last_year_cr,100),1))+"%")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.target.rtg)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.target.ty)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.keep_ytd.rtg)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.keep_ytd.ty)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.keep_rtg.rtg)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.keep_rtg.ty)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.keep_ty.rtg)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.keep_ty.ty)))])])}))])]):t.complete?a("bi-empty",{staticStyle:{margin:"50px auto"}},[a("span",{attrs:{slot:"tips"},slot:"tips"},[t._v("亲爱的，暂时没有相关数据，请先完成目标制定！如还有疑问，请联系客户管理员。")])]):t._e()],2)}))],1)],1)},staticRenderFns:[]};var ka=a("Z0/y")(ya,wa,!1,function(t){a("ht2a")},"data-v-21f12f82",null).exports,Ca={name:"",mixins:[g.a,me],data:function(){return{loading:{all:!0,header:!0},headerData:[],pageType:{},user_manage_type_id:"",user_region_id:"",newstTarget:"",dataTime:"",manageDimensionId:"",manageDimension:"REGION",manageTypeId:"",brands:{},models:[],areas:[],forecast:[],allBrands:"",allAreas:[],selected_brand_id:"",selected_brand_name:"",selected_model_id:[],selected_area_id:[],push_model:[],push_area:[],brand:{},title_model_img:""}},computed:{pageTitle:function(){return{brand_name:this.$route.query.brand_name?this.$route.query.brand_name:"",model_name:this.$route.query.model_name?this.$route.query.model_name:"",area_name:this.$route.query.area_name?this.$route.query.area_name:"",area_id:this.$route.query.area_id?this.$route.query.area_id:""}},selected_all_model:function(){var t=[];for(var e in this.models)t.push(this.models[e]);return t},selected_all_area:function(){return this.areas.list}},filters:{},mounted:function(){var t=this;this.user_manage_type_id=this.manage_type_id,this.user_region_id=this.dimension_id,this.pageType=this.$route.query.type,this.getToken(function(){t.getNewstTarget()})},methods:{getMonthForecastHeader:function(t){var e=this;this.$request.get(this.$interface.GET_MONTH_FORECAST_HEADER,ce()({header:{token:this.token},serial_number:this.newstTarget.serial_number?this.newstTarget.serial_number:"",ym:this.dataTime},t),function(t){e.headerData=t.data[0]||[],e.loading.header=!1},this.failure)},getDataTime:function(){var t=this;this.$request.get(this.$interface.GET_DATA_TIME,{header:{token:this.token}},function(e){e.data.length<=0||(t.dataTime=e.data[0].end_time,t.getSubModel())},this.failure)},getNewstTarget:function(){var t=this;this.$request.get(this.$interface.GET_NEWST_TARGET,{header:{token:this.token},manage_dimension:"REGION",region_id:this.user_region_id},function(e){t.newstTarget=e.data[0]||"",t.newstTarget?t.getDataTime():(t.loading.all=!1,t.loading.header=!1)},this.failure)},getSubModel:function(){var t=this;this.$request.get(this.$interface.GET_SUB_MODEL,{header:{token:this.token},serial_number:this.newstTarget.serial_number?this.newstTarget.serial_number:""},function(e){t.allBrands=e.data||[],t.getRegion()},this.failure)},getRegion:function(){var t=this;this.$request.get(this.$interface.GET_REGION,{header:{token:this.token},serial_number:this.newstTarget.serial_number?this.newstTarget.serial_number:""},function(e){t.allRegions=e.data||[],t.initData()},this.failure)},getMonthForecast:function(t,e){var a=this;this.loading.all=!0,this.$request.get(this.$interface.GET_MONTH_FORECAST,ce()({header:{token:this.token},manage_dimension:this.manageDimension,ym:this.dataTime,serial_number:this.newstTarget.serial_number?this.newstTarget.serial_number:""},t),function(t){if(a.resForecastData=t.data||[],"model"===a.pageType){var s={};for(var i in t.data)s.list=t.data[i];s.previous_level={id:e.id,name:e.name},a.forecast.push(s)}else{var n={};for(var r in t.data)n.list=t.data[r];n.previous_level={id:e.id,name:e.name,logo_url:e.logo_url},a.forecast.push(n)}a.loading.all=!1},this.failure)},changeArea:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";arguments[1];if(""==t)this.selected_area_id=[],this.push_area=this.selected_all_area;else{0==this.selected_area_id.length&&(this.push_area=[]);var e=this.selected_area_id.indexOf(t);if(e>-1?this.selected_area_id.splice(e,1):this.selected_area_id.push(t),0==this.selected_area_id.length)this.push_area=this.selected_all_area;else for(var a in this.push_area=[],this.selected_area_id)for(var s in this.areas.list)this.selected_area_id[a]==this.areas.list[s].id&&this.push_area.push(this.areas.list[s])}this.transferGetMonthForecast(this.push_area)},changeModel:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";arguments[1];if(""==t)this.selected_model_id=[],this.push_model=this.selected_all_model;else{0==this.selected_model_id.length&&(this.push_model=[]);var e=this.selected_model_id.indexOf(t);if(e>-1?this.selected_model_id.splice(e,1):this.selected_model_id.push(t),0==this.selected_model_id.length)this.push_model=this.selected_all_model;else for(var a in this.push_model=[],this.selected_model_id)for(var s in this.models)this.selected_model_id[a]==this.models[s].id&&this.push_model.push(this.models[s])}this.transferGetMonthForecast(this.push_model)},transferGetMonthForecast:function(t){if("model"===this.pageType)for(var e in this.manageDimension="PROVINCE",this.forecast=[],t)this.getMonthForecast({region_id:t[e].id,sub_model_id:this.$route.query.model_id},t[e]);else for(var a in this.forecast=[],this.manageDimension=this.$route.query.dimension?this.$route.query.dimension:"REGION",t)this.getMonthForecast({sub_model_id:t[a].id,region_id:this.pageTitle.area_id},t[a])},initData:function(){var t=this;for(var e in this.areas=[],this.allRegions)this.allRegions[e].previous_level.id==this.user_region_id&&(this.areas=this.allRegions[e]);for(var a in this.allBrands)this.areas.previous_level.name.indexOf(this.allBrands[a].previous_level.name)>-1&&(this.brands=this.allBrands[a]);"model"===this.pageType?(this.brands.list.every(function(e){return e.id!=t.$route.query.model_id||(t.title_model_img=e.logo_url,!1)}),this.brand=this.brands.previous_level,this.selected_area_id=[],this.push_area=this.selected_all_area,this.transferGetMonthForecast(this.push_area),this.getMonthForecastHeader({sub_model_id:this.$route.query.model_id,manage_dimension:"REGION",region_id:this.user_region_id})):(this.brand=this.brands.previous_level,this.models=this.brands.list,this.selected_brand_id=this.brands.previous_level.id,this.selected_brand_name=this.brands.previous_level.name,this.selected_model_id=[],this.$route.query.model_id?this.changeModel(parseInt(this.$route.query.model_id)):(this.push_model=this.selected_all_model,this.transferGetMonthForecast(this.push_model)),this.getMonthForecastHeader({manage_dimension:"PROVINCE",region_id:this.$route.query.area_id,manage_type_id:1,brand_id:this.selected_brand_id}))}},components:{BiBar:Rt,BiPanel:v.a,BiEmpty:wt.a,BiProgress:f.a}},xa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("bi-bar",{attrs:{columnTitle:"预警详情"}},[a("template",{slot:"button"},[a("span",{staticClass:"mgr20 mgl10"},[t._v("时间："+t._s(t.year_month))]),t._v(" "),a("span",{staticClass:"mgr20"},[t._v("管理维度："+t._s(t.dimension_name))]),t._v(" "),a("span",{staticClass:"mgr20"},[t._v("管理类型："+t._s(t.manage_type))])]),t._v(" "),a("template",{slot:"right"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("span",{staticClass:"bread-legend"},[t._v("当前位置：")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("概览主页")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 销量目标管理")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 区域 - 监测预警")])],1)],1)],2),t._v(" "),a("div",{staticClass:"content cyc-xl-targetList"},[t.newstTarget?[a("bi-panel",{attrs:{operating:!1}},[a("div",{staticClass:"targetList-title",attrs:{slot:"title"},slot:"title"},["model"===t.pageType?[t.title_model_img?a("img",{attrs:{src:t.title_model_img,alt:""}}):a("img",{attrs:{src:"/static/images/nocar.png",alt:""}}),t._v(" "),a("p",[t._v(t._s(t.pageTitle.brand_name)+" "+t._s(t.pageTitle.model_name)+"-区域目标详情")])]:[a("p",[t._v(t._s(t.pageTitle.area_name)+" - 车型目标详情")])]],2),t._v(" "),a("template",{slot:"others"},[a("span",{staticClass:"cyc-xl-title-tips",staticStyle:{"margin-top":"10px"}},[a("font",[t._v("关联ID："+t._s(t.newstTarget.serial_number))]),t._v(" "),a("font",[t._v("制定日期： "+t._s(t.newstTarget.create_time))])],1)]),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading.header,expression:"loading['header']"}],staticStyle:{"min-height":"100px"},attrs:{"element-loading-background":"#fff"}},[t.loading.header?t._e():a("el-row",{staticClass:"detail",attrs:{align:"middle",justify:"center"}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-warning"},[a("h3",[t._v("TY目标")]),t._v(" "),a("h2",[a("font",{staticStyle:{color:"#339acd"}},[t._v(t._s(t._f("number_format")(t.headerData.ty))+" ")])],1)])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("h3",[t._v("MTD当月完成率")]),t._v(" "),a("el-row",[a("el-col",{attrs:{span:13}},[a("h2",{staticStyle:{color:"#339acd"}},[t._v(t._s(t._f("number_format")(t.headerData.mtd_sales)))]),t._v(" "),a("p",[t._v("（完成销量）")])]),t._v(" "),a("el-col",{attrs:{span:11}},[a("bi-progress",{attrs:{type:"circle",precision:1,percentage:[t.headerData.mtd_rate?t.headerData.mtd_rate:-1],color:"#339acd","circle-width":"46"}}),t._v(" "),a("p",[t._v("（当月完成率）")])],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("h3",[t._v("YTD完成目标进度")]),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("bi-progress",{attrs:{precision:1,type:"circle",percentage:[t.headerData.ytd_target_rate?t.headerData.ytd_target_rate:-1],color:"#339acd","circle-width":"50"}}),t._v(" "),a("p",[t._v("（目标进度）")])],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("bi-progress",{attrs:{type:"circle",precision:1,percentage:[t.headerData.ytd_this_year_rate?t.headerData.ytd_this_year_rate:-1],color:"#339acd","circle-width":"50"}}),t._v(" "),a("p",[t._v("（当年完成率）")])],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("bi-progress",{attrs:{type:"circle",precision:1,percentage:[t.headerData.ytd_last_year_rate?t.headerData.ytd_last_year_rate:-1],color:"#339acd","circle-width":"50"}}),t._v(" "),a("p",[t._v("（去年完成率）")])],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("h3",[t._v("YTD市场份额")]),t._v(" "),a("span",{staticClass:"box"},[a("bi-progress",{attrs:{precision:1,percentage:[t.headerData.ytd_rate?t.headerData.ytd_rate:-1],color:"#339acd",height:"16"}})],1),t._v(" "),a("h4",[t._v("目标份额："+t._s(t._f("number_format")(t._f("multiply")(t.headerData.ytd_target_cr,100),1))+" %")]),t._v(" "),a("h4",[t._v("差额："+t._s(t._f("number_format")(t._f("multiply")(t.headerData.ytd_balance,100),1))+" %")])])],1)],1)],2),t._v(" "),a("bi-panel",{directives:[{name:"loading",rawName:"v-loading",value:t.loading.all,expression:"loading['all']"}],attrs:{operating:!1,"element-loading-background":"#fff"}},[a("template",{slot:"title"},[t._v("请选择条件")]),t._v(" "),"model"==t.pageType?a("div",{staticClass:"cyc-xl-search"},[a("dl",[a("dt",[t._v("区域：")]),t._v(" "),a("dd",[a("span",{class:[0==t.selected_area_id.length?"on":""],on:{click:function(e){t.changeArea()}}},[t._v("不限")]),t._v(" "),t._l(t.areas.list,function(e){return[a("span",{class:[t.selected_area_id.indexOf(e.id)>-1?"on":""],on:{click:function(a){t.changeArea(e.id,e.name)}}},[t._v("\n                  "+t._s(e.name)+"\n                ")])]})],2)])]):a("div",{staticClass:"cyc-xl-search"},[a("dl",[a("dt",[t._v("品牌：")]),t._v(" "),a("dd",[a("span",{staticClass:"on"},[t._v(t._s(t.brand.name))])])]),t._v(" "),a("dl",[a("dt",[t._v("车型：")]),t._v(" "),a("dd",[a("span",{class:{on:0==t.selected_model_id.length},on:{click:function(e){t.changeModel()}}},[t._v("不限")]),t._v(" "),t._l(t.models,function(e){return e.name?[a("span",{class:[t.selected_model_id.indexOf(e.id)>-1?"on":""],on:{click:function(a){t.changeModel(e.id,e.name)}}},[t._v("\n                  "+t._s(e.name)+"\n                ")])]:t._e()})],2)])])],2),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading.all,expression:"loading['all']"}],staticStyle:{"min-height":"200px"},attrs:{"element-loading-background":"#fff"}},[t._l(t.forecast,function(e,s){return[a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},["model"===t.pageType?[a("router-link",{staticClass:"link",attrs:{target:"_blank",to:{path:"detail",query:{type:"region",area_name:e.previous_level.name,area_id:e.previous_level.id,dimension:"PROVINCE"}}}},[t._v("\n                "+t._s(e.previous_level.name)+"\n              ")])]:[e.previous_level.logo_url?a("img",{staticClass:"cyc-xl-title-img",attrs:{alt:e.previous_level.name,src:e.previous_level.logo_url}}):a("img",{staticClass:"cyc-xl-title-img",attrs:{alt:"",src:"/static/images/nocar.png"}}),t._v(" "),a("router-link",{staticClass:"link",attrs:{target:"_blank",to:{path:"detail",query:{type:"model",brand_name:t.selected_brand_name,model_name:e.previous_level.name,model_id:e.previous_level.id}}}},[t._v("\n                "+t._s(e.previous_level.name)+"\n              ")])]],2),t._v(" "),a("template",{slot:"others"},[a("span",{staticClass:"cyc-xl-title-tips",staticStyle:{"margin-top":"10px"}},[a("font",[t._v("关联ID："+t._s(t.newstTarget.serial_number))]),t._v(" "),a("font",[t._v("制定日期： "+t._s(t.newstTarget.create_time))])],1)]),t._v(" "),a("table",{staticClass:"cyc-xl-table_vc"},[a("thead",[a("tr",[a("th",{attrs:{colspan:"2",rowspan:"2",width:"22%"}},[t._v("零售量")]),t._v(" "),a("th",[t._v("YTD")]),t._v(" "),a("th",[t._v("RTG")]),t._v(" "),a("th",[t._v("TY")]),t._v(" "),a("th",[t._v("Jan")]),t._v(" "),a("th",[t._v("Feb")]),t._v(" "),a("th",[t._v("Mar")]),t._v(" "),a("th",[t._v("Apr")]),t._v(" "),a("th",[t._v("May")]),t._v(" "),a("th",[t._v("Jun")]),t._v(" "),a("th",[t._v("Jul")]),t._v(" "),a("th",[t._v("Aug")]),t._v(" "),a("th",[t._v("Sep")]),t._v(" "),a("th",[t._v("Oct")]),t._v(" "),a("th",[t._v("Nov")]),t._v(" "),a("th",[t._v("Dec")])]),t._v(" "),a("tr",[a("th",[t._v("实际")]),t._v(" "),a("th",[t._v("预测")]),t._v(" "),a("th",[t._v("-")]),t._v(" "),t._l(t.forecast[0].list.segment.flag,function(e,s){return a("th",[t._v("\n                "+t._s(e)+"\n              ")])})],2)]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("所属细分市场预测")]),t._v(" "),a("td",{attrs:{width:"4%"}},[t._v("销量")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.list.segment.ytd)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.list.segment.rtg)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.list.segment.ty)))]),t._v(" "),t._l(e.list.segment.month_forecast,function(e,s){return a("td",{key:s},[t._v("\n                "+t._s(t._f("number_format")(e))+"\n              ")])})],2),t._v(" "),a("tr",[a("td",{attrs:{colspan:"1",rowspan:"2"}},[t._v("目标销量")]),t._v(" "),a("td",[t._v("销量")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.list.target_sales.ytd)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.list.target_sales.rtg)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.list.target_sales.ty)))]),t._v(" "),t._l(e.list.target_sales.month_forecast,function(e,s){return a("td",{key:s},[t._v("\n                "+t._s(t._f("number_format")(e))+"\n              ")])})],2),t._v(" "),a("tr",[a("td",[t._v("份额")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.list.target_share.ytd,100),1))+"%")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.list.target_share.rtg,100),1))+"%")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.list.target_share.ty,100),1))+"%")]),t._v(" "),t._l(e.list.target_share.month_forecast,function(e,s){return a("td",{key:s},[t._v("\n                "+t._s(t._f("number_format")(t._f("multiply")(e,100),1))+"%\n              ")])})],2),t._v(" "),a("tr",[a("td",{attrs:{colspan:"1",rowspan:"2"}},[t._v("最新市场预测（维持YTD份额）")]),t._v(" "),a("td",[t._v("销量")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.list.keep_ytd_sales.ytd)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.list.keep_ytd_sales.rtg)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.list.keep_ytd_sales.ty)))]),t._v(" "),""==e.list.keep_ytd_sales.month_forecast||"null"==e.list.keep_ytd_sales.month_forecast?a("td"):t._l(e.list.keep_ytd_sales.month_forecast,function(e,s){return a("td",{key:s},[t._v("\n                "+t._s(t._f("number_format")(e))+"\n              ")])})],2),t._v(" "),a("tr",[a("td",[t._v("份额")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.list.keep_ytd_share.ytd,100),1))+"%")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.list.keep_ytd_share.rtg,100),1))+"%")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.list.keep_ytd_share.ty,100),1))+"%")]),t._v(" "),t._l(e.list.keep_ytd_share.month_forecast,function(e,s){return a("td",{key:s},[t._v("\n                "+t._s(t._f("number_format")(t._f("multiply")(e,100),1))+"%\n              ")])})],2),t._v(" "),a("tr",[a("td",{attrs:{colspan:"1",rowspan:"2"}},[t._v("最新市场预测（维持RTG份额）")]),t._v(" "),a("td",[t._v("销量")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.list.keep_rtg_sales.ytd)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.list.keep_rtg_sales.rtg)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.list.keep_rtg_sales.ty)))]),t._v(" "),t._l(e.list.keep_rtg_sales.month_forecast,function(e,s){return a("td",{key:s},[t._v("\n                "+t._s(t._f("number_format")(e))+"\n              ")])})],2),t._v(" "),a("tr",[a("td",[t._v("份额")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.list.keep_rtg_share.ytd,100),1))+"%")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.list.keep_rtg_share.rtg,100),1))+"%")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.list.keep_rtg_share.ty,100),1))+"%")]),t._v(" "),t._l(e.list.keep_rtg_share.month_forecast,function(e,s){return a("td",{key:s},[t._v("\n                "+t._s(t._f("number_format")(t._f("multiply")(e,100),1))+"%\n              ")])})],2),t._v(" "),a("tr",[a("td",{attrs:{colspan:"1",rowspan:"2"}},[t._v("最新市场预测（维持TY份额）")]),t._v(" "),a("td",[t._v("销量")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.list.keep_ty_sales.ytd)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.list.keep_ty_sales.rtg)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.list.keep_ty_sales.ty)))]),t._v(" "),t._l(e.list.keep_ty_sales.month_forecast,function(e,s){return a("td",{key:s},[t._v("\n                "+t._s(t._f("number_format")(e))+"\n              ")])})],2),t._v(" "),a("tr",[a("td",[t._v("份额")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.list.keep_ty_share.ytd,100),1))+"%")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.list.keep_ty_share.rtg,100),1))+"%")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.list.keep_ty_share.ty,100),1))+"%")]),t._v(" "),t._l(e.list.keep_ty_share.month_forecast,function(e,s){return a("td",{key:s},[t._v("\n                "+t._s(t._f("number_format")(t._f("multiply")(e,100),1))+"%\n              ")])})],2)])])],2)]})],2)]:[t.loading.all?t._e():a("bi-panel",{attrs:{"element-loading-background":"#fff"}},[a("bi-empty",{staticStyle:{margin:"100px auto"}},[a("span",{attrs:{slot:"tips"},slot:"tips"},[t._v("亲爱的，暂时没有相关数据，请先完成目标制定！如还有疑问，请联系客户管理员。")])])],1)]],2)],1)},staticRenderFns:[]};var Ta=a("Z0/y")(Ca,xa,!1,function(t){a("AjNV")},"data-v-48a09292",null).exports,Sa={name:"",mixins:[g.a,me],data:function(){return{areaPart:!0,isSelected:[],selected_models:{},target_list:[],overview_info:[],overview_children:[],brand_id:"",brand_name:"",sub_model_id:"",serial_number:"",page_size:5,page:1,total_page:0,brands:[],brands_models:[],regions:[],province_map:{"北京":["北京市"],"辽宁":["辽宁省"],"湖北":["湖北省"],"重庆":["重庆市"],"河南":["河南省"],"湖南":["湖南省"],"河北":["河北省"],"山西":["山西省"],"广东":["广东省"],"浙江":["浙江省"],"安徽":["安徽省"],"江苏":["江苏省"],"上海":["上海市"],"黑龙江":["黑龙江省"],"天津":["天津市"],"云南":["云南省"],"新疆":["新疆维吾尔族自治区","新疆维吾尔自治区"],"江西":["江西省"],"广西":["广西壮族自治区"],"甘肃":["甘肃省"],"内蒙古":["内蒙古自治区"],"陕西":["陕西省"],"吉林":["吉林省"],"山东":["山东省"],"福建":["福建省"],"贵州":["贵州省"],"青海":["青海省"],"西藏":["西藏自治区"],"四川":["四川省"],"宁夏":["宁夏回族自治区"],"海南":["海南省"],"台湾":["台湾省"],"香港":["香港"],"澳门":["澳门"],"南海诸岛":["南海诸岛"]},colored_by_range:[{color:"#99cc00",range:[1,"max"]},{color:"#ff9900",range:[.8,1]},{color:"#f04048",range:[0,.8]}],region_id:"",province_id:"",options:[],selectedOptions:[],loading:new Array(3).fill(!1),complete:new Array(3).fill(!1)}},watch:{brands_models:function(){this.brands=this.brands_models.map(function(t){return t.previous_level}),!this.brand_id&&this.brands.length&&(this.brand_id=this.brands[0].id,this.brand_name=this.brands[0].name)},regions:function(){if(1==this.manage_type_id){var t=this.groupByBrandName(this.regions,"province");this.options=t[1].children}}},computed:{region_name:function(){var t=this;return this.regions.find(function(e){return e.previous_level.id==t.region_id}).previous_level.name},province_name:function(){var t=this,e=this.regions.find(function(e){return e.previous_level.id==t.region_id}),a=(e&&e.list?e.list:[]).find(function(e){return e.id==t.province_id}).name||"";return a},pronvince_name_map:function(){var t=this,e=this.regions.find(function(e){return e.previous_level.id==t.region_id}),a=(e&&e.list?e.list:[]).find(function(e){return e.id==t.province_id}).name||"",s="",i=this.province_map;for(var n in i){i[n].includes(a)&&(s=n)}return s},overview_children_page:function(){return this.overview_children},sub_models:function(){var t=this,e=this.brands_models.filter(function(e){return e.previous_level.id==t.brand_id});return e.length?e[0].list:[]},province_groups:function(){var t=[],e=this.province_map,a=this.province_id,s=this.pronvince_name_map;for(var i in e){e[i].includes(s)&&(s=i)}return t.push({name:s,value:1,id:a}),t},provincesColor:function(){var t=this.colored_by_range,e=this.province_map;return[this.overview_info].map(function(a,s){var i=t.find(function(t){var e=a.ytd_cr;return e>=t.range[0]&&("max"==t.range[1]||e<t.range[1])}),n="";for(var r in e){e[r].includes(a.metadata.name)&&(n=r)}return{name:n,color:i.color||""}})}},mounted:function(){var t=this;this.region_id=this.dimension_id.split("@")[0]||"",this.province_id=this.dimension_id.split("@")[1]||"",this.brand_id=15,this.brand_name="别克",this.GET_REGION(),this.GET_TARGET_LOG_PAGE(),this.GET_NEWST_TARGET(function(){t.GET_SUB_MODEL(),t.GET_DATA()})},methods:{selectOptions:function(){var t=this;this.region_id=this.selectedOptions[0],this.province_id=this.selectedOptions[1],this.dimension_id=this.region_id+"@"+this.province_id,this.dimension_name=this.province_name,this.updateDimension(this.dimension_id,this.dimension_name),this.GET_TARGET_LOG_PAGE(),this.GET_NEWST_TARGET(function(){t.GET_SUB_MODEL(),t.GET_DATA()})},selectSubmodel:function(t){var e=this;t==this.sub_model_id?(this.sub_model_id="",t=""):this.sub_model_id=t,this.selected_models={},this.sub_models.map(function(a){a.id==t?e.selected_models[a.id]=!0:e.selected_models[a.id]=!1}),this.GET_DATA()},changeBrand:function(t){var e=this.brands.find(function(e){return e.id==t});e&&(this.brand_id=e.id,this.brand_name=e.name,this.GET_DATA())},initChart:function(){var t=this,e=R.a.init(document.getElementById("provinceChart")),a={geo:{map:t.pronvince_name_map,roam:!1,itemStyle:{normal:{borderColor:"#fff"}}},series:[{type:"map",geoIndex:0,itemStyle:{normal:{color:function(e){var a="",s=t.provincesColor.find(function(t){return t.name==e.data.name});return a=s?s.color:"",a}}},data:t.province_groups}]};e.on("mouseover",function(a){var s=a.data.regions;t.province_groups.forEach(function(t,a,i){s==t.regions&&e.dispatchAction({type:"highlight",name:t.name})})}),e.on("mouseout",function(a){var s=a.data.regions;t.province_groups.forEach(function(t,a,i){s==t.regions&&e.dispatchAction({type:"downplay",name:t.name})})}),e.on("click",function(t){}),e.setOption(a)},GET_TARGET_LOG_PAGE:function(){var t=this;this.loading[0]=!0,this.$request.get(this.$interface.GET_TARGET_LOG_PAGE,{header:{token:this.token},manage_dimension:"PROVINCE",dimension_id:this.province_id,region_id:this.region_id,page:1,rows:3},function(e){var a=e.data[0];t.target_list=a.list||[],t.complete[0]=!0,t.loading[0]=!1},this.failure)},GET_TARGET_OVERVIEW:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this.loading[1]=!0,this.$request.get(this.$interface.GET_TARGET_OVERVIEW,{header:{token:this.token},serial_number:e.serial_number,manage_dimension:e.manage_dimension||"NATIONAL",dimension_id:e.dimension_id||"",region_id:e.region_id||"",brand_id:e.brand_id||"",sub_model_id:e.sub_model_id||""},function(e){var s=e.data[0]||{};"function"==typeof a&&a(s),t.complete[1]=!0,t.loading[1]=!1},this.failure)},GET_DATA:function(){var t=this;if(this.serial_number){this.GET_TARGET_OVERVIEW({serial_number:this.serial_number,manage_dimension:"PROVINCE",dimension_id:this.province_id,region_id:this.region_id,brand_id:this.brand_id,sub_model_id:this.sub_model_id},function(e){t.overview_info=e;t.$nextTick(function(){!function(){for(var e in R.a.parseGeoJson(be.a),be.a.features)t.pronvince_name_map&&be.a.features[e].properties.name==t.pronvince_name_map&&R.a.registerMap(t.pronvince_name_map,{type:"FeatureCollection",features:[be.a.features[e]],UTF8Encoding:!1});t.initChart()}()})})}},GET_SUB_MODEL:function(){var t=this;this.$request.get(this.$interface.GET_SUB_MODEL,{header:{token:this.token},serial_number:this.serial_number||""},function(e){var a=e.data;t.brands_models=a||[]},this.failure)},GET_REGION:function(){var t=this;this.$request.get(this.$interface.GET_REGION,{header:{token:this.token}},function(e){var a=e.data;t.regions=a||[]},this.failure)},GET_NEWST_TARGET:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};this.$request.get(this.$interface.GET_NEWST_TARGET,{header:{token:this.token},manage_dimension:"REGION",region_id:this.region_id},function(a){var s=a.data[0]||{};t.serial_number=s.serial_number||"",t.serial_number&&"function"==typeof e&&e()},this.failure)}},components:{BiBar:Rt,BiPanel:v.a,BiProgress:f.a,BiEmpty:wt.a}},Ea={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("bi-bar",{attrs:{columnTitle:"概况"}},[a("template",{slot:"button"},[a("span",{staticClass:"mgr20 mgl10"},[t._v("时间："+t._s(t.year_month))]),t._v(" "),a("span",{staticClass:"mgr20 cyc-xl-column"},[t._v("\n          管理维度："+t._s(t.dimension_name)+"\n          "),1==t.manage_type_id?a("el-cascader",{staticClass:"change-data-button",attrs:{size:"mini","popper-class":"cyc-xl-column_cascader",options:t.options},on:{change:t.selectOptions},model:{value:t.selectedOptions,callback:function(e){t.selectedOptions=e},expression:"selectedOptions"}}):t._e()],1),t._v(" "),a("span",{staticClass:"mgr20"},[t._v("管理类型："+t._s(t.manage_type))])]),t._v(" "),a("template",{slot:"right"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("span",{staticClass:"bread-legend"},[t._v("当前位置：")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("概览主页")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 销量目标管理")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 省份 - 概况")])],1)],1)],2),t._v(" "),a("div",{staticClass:"content cyc-xl-target"},[a("bi-panel",{attrs:{operating:!1,titleSize:"small"}},[a("template",{slot:"title"},[t._v("\n          我收到的目标制定信息\n        ")]),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading[0],expression:"loading[0]"}],staticStyle:{"min-height":"132px"}},[t.target_list.length?a("ul",{staticClass:"grid-target type2"},t._l(t.target_list,function(e,s){return a("li",[a("p",[a("router-link",{staticStyle:{width:"auto"},attrs:{to:{path:"target/detail",query:{serial_number:e.serial_number}},title:e.name}},[t._v("\n                  "+t._s(e.name)+"\n                ")]),t._v(" "),0==s?a("el-badge",{staticClass:"grid-target-badge",attrs:{value:"new"}}):t._e()],1),t._v(" "),e.author?a("font",[t._v("\n                "+t._s(e.author.username)+" "+t._s(e.author.role_name)+"\n                "),a("cite",[t._v(t._s(t._f("date_format")(e.create_time,"YYYY-MM-DD")))])]):t._e()],1)})):t.complete[0]?a("bi-empty",[a("span",{attrs:{slot:"tips"},slot:"tips"})]):t._e()],1)],2),t._v(" "),a("bi-panel",{attrs:{operating:!1,titleSize:"small"}},[a("template",{slot:"title"},[t._v("\n          预警信息\n        ")]),t._v(" "),a("template",{slot:"others"}),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading[1],expression:"loading[1]"}],staticStyle:{"min-height":"200px"},attrs:{"element-loading-background":"#fff"}},[t.serial_number?a("el-container",[a("el-aside",{staticClass:"warning-left",attrs:{width:"180px"}},[a("el-dropdown",{attrs:{trigger:"click"},on:{command:t.changeBrand}},[a("div",{staticClass:"el-dropdown-link"},[t._v("\n                  "+t._s(t.brand_name)),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.brands,function(e){return a("el-dropdown-item",{key:e.id,attrs:{command:e.id}},[t._v(t._s(e.name))])}))],1),t._v(" "),a("div",{staticClass:"car-box"},[a("ul",t._l(t.sub_models,function(e,s){return a("li",{class:{on:t.selected_models[e.id]},on:{click:function(a){t.selectSubmodel(e.id)}}},[a("img",{attrs:{src:e.logo_url&&0==e.logo_url.indexOf("http")?e.logo_url:"/static/images/nocar-nbg.png",alt:""}}),a("span",[t._v(t._s(e.name))])])}))])],1),t._v(" "),a("el-main",[a("div",{staticClass:"warning-top"},[a("el-row",[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-warning"},[a("h2",[t._v("TY目标")]),t._v(" "),a("h3",[t.overview_info.ty?[t._v(t._s(t._f("number_format")(t.overview_info.ty)))]:[t._v("暂无数据")]],2)])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-warning-right"},[a("h2",[t._v("MTD当月完成率 ")]),t._v(" "),a("span",{staticClass:"progress-box"},[a("bi-progress",{attrs:{percentage:[t.overview_info.mtd_cr?t.overview_info.mtd_cr:-1],precision:1,color:"#339acd",height:"12"}})],1),t._v(" "),a("p",{attrs:{title:[t.overview_info.mtd_sales?"完成销量："+t.overview_info.mtd_sales:"完成销量：暂无数据"]}},[t._v("\n                        完成销量：\n                        "),t.overview_info.mtd_sales?a("font",{staticStyle:{color:"#339acd"}},[t._v(t._s(t._f("number_format")(t.overview_info.mtd_sales)))]):a("font",{staticStyle:{color:"#339acd"}},[t._v("暂无数据")])],1)])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-warning-right"},[a("h2",[t._v("YTD完成目标进度")]),t._v(" "),a("span",{staticClass:"progress-box"},[a("bi-progress",{attrs:{percentage:[t.overview_info.ytd_target_progress?t.overview_info.ytd_target_progress:-1],precision:1,color:"#339acd",height:"12"}})],1),t._v(" "),a("p",{attrs:{title:[t.overview_info.ytd_cr?"YTD全年完成率："+(100*t.overview_info.ytd_cr).toFixed(1)+"%":"YTD全年完成率：暂无数据"]}},[t._v("\n                        YTD全年完成率：\n                        "),t.overview_info.ytd_cr?a("font",{staticStyle:{color:"#339acd"}},[t._v(t._s(t._f("number_format")(t._f("multiply")(t.overview_info.ytd_cr,100),1))+"%")]):a("font",{staticStyle:{color:"#339acd"}},[t._v("暂无数据")])],1),t._v(" "),a("p",{attrs:{title:[t.overview_info.ytd_last_year_cr?"去年YTD全年完成率："+(100*t.overview_info.ytd_last_year_cr).toFixed(1)+"%":"去年YTD全年完成率：暂无数据"]}},[t._v("\n                        去年YTD全年完成率：\n                        "),t.overview_info.ytd_last_year_cr?a("font",{staticStyle:{color:"#339acd"}},[t._v(t._s(t._f("number_format")(t._f("multiply")(t.overview_info.ytd_last_year_cr,100),1))+"%")]):a("font",{staticStyle:{color:"#339acd"}},[t._v("暂无数据")])],1)])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-warning-right"},[a("h2",[t._v("YTD市场份额")]),t._v(" "),a("span",{staticClass:"progress-box"},[a("bi-progress",{attrs:{percentage:[t.overview_info.ytd_share?t.overview_info.ytd_share:-1],precision:1,color:"#339acd",height:"12"}})],1),t._v(" "),a("p",{attrs:{title:[t.overview_info.ytd_target_share?"目标份额："+(100*t.overview_info.ytd_target_share).toFixed(1)+"%":"目标份额：暂无数据"]}},[t._v("\n                        目标份额：\n                        "),t.overview_info.ytd_target_share?a("font",{staticStyle:{color:"#339acd"}},[t._v(t._s(t._f("number_format")(t._f("multiply")(t.overview_info.ytd_target_share,100),1))+"%")]):a("font",{staticStyle:{color:"#339acd"}},[t._v("暂无数据")])],1),t._v(" "),a("p",{attrs:{title:[t.overview_info.ytd_share_diff?"差额："+(100*t.overview_info.ytd_share_diff).toFixed(1)+"%":"差额：暂无数据"]}},[t._v("\n                        差额：\n                        "),t.overview_info.ytd_share_diff?a("font",{staticStyle:{color:"#339acd"}},[t._v(t._s(t._f("number_format")(t._f("multiply")(t.overview_info.ytd_share_diff,100),1))+"%")]):a("font",{staticStyle:{color:"#339acd"}},[t._v("暂无数据")])],1)])])],1)],1),t._v(" "),a("div",{staticClass:"warning-center"},[a("div",{staticStyle:{width:"100%",height:"500px"},attrs:{id:"provinceChart"}})])])],1):t.complete[1]?a("bi-empty",{staticStyle:{margin:"100px auto"}},[a("span",{attrs:{slot:"tips"},slot:"tips"},[t._v("亲爱的，暂时没有相关数据，请先完成目标制定！如还有疑问，请联系客户管理员。")])]):t._e()],1)],2)],1)],1)},staticRenderFns:[]};var Oa=a("Z0/y")(Sa,Ea,!1,function(t){a("zrVC")},"data-v-4d942dda",null).exports,Da={name:"",mixins:[g.a,me],data:function(){var t;return t={openSecondaryVa:!1,openSecondaryVb:!1,currentPage:1,options:[{value:10,label:"10行/页"},{value:20,label:"20行/页"},{value:30,label:"30行/页"},{value:40,label:"40行/页"},{value:50,label:"50行/页"}],brands:[],models:[],regions:[],allRegions:[],selected_brand_id:"",selected_model_id:[],selected_region_id:[],selected_brand:{},selected_group:{},serial_number:"",target_list:[],page_size:10,page:1,total:0,region_id:"",province_id:""},O()(t,"options",[]),O()(t,"selectedOptions",[]),O()(t,"loading",new Array(3).fill(!1)),O()(t,"complete",new Array(3).fill(!1)),t},mounted:function(){var t=this;this.region_id=this.dimension_id.split("@")[0]||"",this.province_id=this.dimension_id.split("@")[1]||"",this.brand_id=15,this.brand_name="别克",this.GET_REGION(),this.GET_TARGET_LOG_PAGE(),this.GET_NEWST_TARGET(function(){t.GET_SUB_MODEL()})},watch:{selected_brand:function(){},selected_group:function(){this.GET_TARGET_LOG_PAGE({brand_id:this.selected_group.brand,sub_model_id:this.selected_group.model})},regions:function(){if(1==this.manage_type_id){var t=this.groupByBrandName(this.regions,"province");this.options=t[1].children}}},computed:{region_name:function(){var t=this;return this.regions.find(function(e){return e.previous_level.id==t.region_id}).previous_level.name},province_name:function(){var t=this,e=this.regions.find(function(e){return e.previous_level.id==t.region_id}),a=(e&&e.list?e.list:[]).find(function(e){return e.id==t.province_id}).name||"";return a},pronvince_name_map:function(){var t=this,e=this.regions.find(function(e){return e.previous_level.id==t.region_id}),a=(e&&e.list?e.list:[]).find(function(e){return e.id==t.province_id}).name||"",s="",i=this.province_map;for(var n in i){i[n].includes(a)&&(s=n)}return s}},methods:{selectOptions:function(){var t=this;this.region_id=this.selectedOptions[0],this.province_id=this.selectedOptions[1],this.dimension_id=this.region_id+"@"+this.province_id,this.dimension_name=this.province_name,this.updateDimension(this.dimension_id,this.dimension_name),this.GET_TARGET_LOG_PAGE(),this.GET_NEWST_TARGET(function(){t.GET_SUB_MODEL()})},handleSizeChange:function(){this.page=1,this.GET_TARGET_LOG_PAGE()},handleCurrentChange:function(t){this.page=t,this.GET_TARGET_LOG_PAGE()},changeBrand:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.selected_brand={id:e,name:a},this.selected_brand_id=e,this.selected_model_id=[],this.selected_region_id=[],""===e?this.models=this.brands[0].list:this.brands.map(function(a,s){a.previous_level.id==e&&(t.models=a.list)}),this.selectedConditions()},changeModel:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";arguments[1];if(""==t)for(var e in this.selected_model_id=[],this.selected_model_all=[],this.models)this.selected_model_all.push(this.models[e].id);else{var a=this.selected_model_id.indexOf(t);a>-1?this.selected_model_id.splice(a,1):this.selected_model_id.push(t),this.selected_model_all=this.selected_model_id}this.selectedConditions()},changeRegion:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(""==t)for(var e in this.selected_region_id=[],this.selected_region_all=[],this.regions)this.selected_region_all.push(this.regions[e].previous_level.id);else{var a=this.selected_region_id.indexOf(t);a>-1?this.selected_region_id.splice(a,1):this.selected_region_id.push(t),this.selected_region_all=this.selected_region_id}this.selectedConditions()},selectedConditions:function(){this.selected_group={brand:this.selected_brand_id,model:this.selected_model_id}},search:function(){this.GET_TARGET_LOG_PAGE({brand_id:this.selected_group.brand,sub_model_id:this.selected_group.model,serial_number:this.serial_number})},GET_TARGET_LOG_PAGE:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.loading[0]=!0,this.$request.get(this.$interface.GET_TARGET_LOG_PAGE,{header:{token:this.token},manage_dimension:"PROVINCE",dimension_id:this.province_id,brand_id:e.brand_id||"",sub_model_id:e.sub_model_id||"",serial_number:e.serial_number||"",page:this.page,rows:this.page_size},function(e){var a=e.data[0];t.target_list=a.list||[],t.total=a.total,t.loading[0]=!1,t.complete[0]=!0},this.failure)},GET_SUB_MODEL:function(){var t=this;this.$request.get(this.$interface.GET_SUB_MODEL,{header:{token:this.token}},function(e){t.brands=e.data||[],t.models=t.brands[0].list,t.selected_brand={id:t.brands[0].previous_level.id,name:t.brands[0].previous_level.name}},this.failure)},GET_REGION:function(){var t=this;this.$request.get(this.$interface.GET_REGION,{header:{token:this.token}},function(e){var a=e.data;t.regions=a||[]},this.failure)},GET_NEWST_TARGET:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};this.$request.get(this.$interface.GET_NEWST_TARGET,{header:{token:this.token},manage_dimension:"REGION",region_id:this.region_id},function(a){var s=a.data[0]||{};t.serial_number=s.serial_number||"",t.serial_number&&"function"==typeof e&&e()},this.failure)}},components:{BiBar:Rt,BiPanel:v.a,BiEmpty:wt.a}},Aa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"min-height":"400px"}},[a("bi-bar",{attrs:{columnTitle:"目标列表"}},[a("template",{slot:"button"},[a("span",{staticClass:"mgr20 mgl10"},[t._v("时间："+t._s(t.year_month))]),t._v(" "),a("span",{staticClass:"mgr20 cyc-xl-column"},[t._v("\n        管理维度："+t._s(t.dimension_name)+"\n        "),1==t.manage_type_id?a("el-cascader",{staticClass:"change-data-button",attrs:{size:"mini","popper-class":"cyc-xl-column_cascader",options:t.options},on:{change:t.selectOptions},model:{value:t.selectedOptions,callback:function(e){t.selectedOptions=e},expression:"selectedOptions"}}):t._e()],1),t._v(" "),a("span",{staticClass:"mgr20"},[t._v("管理类型："+t._s(t.manage_type))])]),t._v(" "),a("template",{slot:"right"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("span",{staticClass:"bread-legend"},[t._v("当前位置：")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("概览主页")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 销量目标管理")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 省份 - 目标列表")])],1)],1)],2),t._v(" "),a("div",{staticClass:"content"},[t._e(),t._v(" "),a("div",{staticClass:"cyc-xl-table-box"},[a("table",{staticClass:"cyc-xl-table_vc"},[t._m(0),t._v(" "),t.target_list.length?a("tbody",{directives:[{name:"loading",rawName:"v-loading",value:t.loading[0],expression:"loading[0]"}]},t._l(t.target_list,function(e,s){return a("tr",[a("td",[t._v("\n              "+t._s((t.page-1)*t.page_size+s+1)+"\n            ")]),t._v(" "),a("td",[a("a",{attrs:{href:"/client.html#/zhiku/xl/province/target/detail?serial_number="+e.serial_number,target:"_blank"}},[t._v("\n              "+t._s(e.serial_number)+"\n              ")])]),t._v(" "),a("td",[a("a",{attrs:{href:"/client.html#/zhiku/xl/province/target/detail?serial_number="+e.serial_number,target:"_blank"}},[t._v("\n              "+t._s(e.name)+"\n              ")])]),t._v(" "),a("td",[t._v(t._s(e.manage_type.name||"零售量"))]),t._v(" "),a("td",[t._v(t._s(e.region.name))]),t._v(" "),a("td",[e.author?a("span",[t._v(t._s(e.author.username||"")+" "+t._s(e.author.role_name||""))]):t._e()]),t._v(" "),a("td",[t._v(t._s(e.create_time))]),t._v(" "),a("td",[a("a",{attrs:{href:"/client.html#/zhiku/xl/province/target/detail?serial_number="+e.serial_number,target:"_blank"}},[t._v("查看")])])])})):t.complete[0]?a("tbody",[a("tr",[a("td",{attrs:{colspan:"8"}},[a("bi-empty",{staticStyle:{margin:"20px auto"}},[a("span",{attrs:{slot:"tips"},slot:"tips"})])],1)])]):t._e()]),t._v(" "),t.target_list.length?a("div",{staticClass:"pagination-box"},[a("span",{staticStyle:{float:"left"}},[t._v("\n          显示行数：\n            "),a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:"请选择",size:"mini"},on:{change:t.handleSizeChange},model:{value:t.page_size,callback:function(e){t.page_size=e},expression:"page_size"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-pagination",{staticStyle:{float:"right"},attrs:{"current-page":t.page,"page-size":t.page_size,layout:"prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.page=e}}})],1):t._e()])],1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("序号")]),t._v(" "),a("th",[t._v("流水号")]),t._v(" "),a("th",[t._v("标题")]),t._v(" "),a("th",[t._v("管理类型")]),t._v(" "),a("th",[t._v("区域")]),t._v(" "),a("th",[t._v("目标制定人")]),t._v(" "),a("th",[t._v("制定日期")]),t._v(" "),a("th",[t._v("操作")])])])}]};var Ma=a("Z0/y")(Da,Aa,!1,function(t){a("hyX7")},"data-v-1e3c343d",null).exports,Na={name:"",mixins:[g.a,me],data:function(){return{isAllShow:!0,serial_number:this.$route.query.serial_number||"",month_targets:[],month_sales_targets:[],open_status:[],open_status2:[],rows:["proportion","last_year_proportion","target_share","last_year_share","segment_growth_rate","target_growth_rate"],columns:["q1","q2","h1","q3","q4","h2"],chart_bar_options:[],chart_pie_options:[],target_start_month:1,userInfo:{},province_month_targets:[],province_id:""}},watch:{month_targets:function(){var t=this;this.month_targets.map(function(e,a){t.open_status.push(!1),t.open_status2.push([]),e.list.map(function(e,s){t.open_status2[a].push(!1)})});for(var e=[],a=[],s=[],i=[],n=1;n<=12;n++)e.push(n+"月");this.month_targets.map(function(t,e){a[e]=t.previous_level.month_target}),this.month_targets.map(function(t,e){i.push({value:t.previous_level.ty,name:t.previous_level.metadata.name})}),i.map(function(t,e){if(0==e)s[e]=i;else{var a={value:i[0].value-t.value,name:"其他"};s[e]=[t,a]}}),this.chart_bar_axis_data=e,this.chart_bar_series_data=a,this.chart_pie_series_data=s}},mounted:function(){var t=this;this.region_id=this.dimension_id.split("@")[0]||"",this.province_id=this.dimension_id.split("@")[1]||"";this.GET_TARGET_DETAIL(function(e){var a=e.data,s=[];t.target_start_month=e.target_start_month||1,a.map(function(t,e){var a=t.previous_level.month_target||"";s[e]=[],a.map(function(t,a){s[e][a]=t})}),t.month_sales_targets=s}),this.GET_TARGET_LOG()},methods:{changeOpenStatus:function(t){de.a.set(this.open_status,t,!this.open_status[t])},changeOpenStatus2:function(t,e){var a=this;this.open_status2=this.open_status2.map(function(s,i){return i==t&&de.a.set(a.open_status2[i],e,!a.open_status2[i][e]),a.open_status2[i]})},showWays:function(t){var e=this;0==t?this.isAllShow=!0:(this.isAllShow=!1,this.$nextTick(function(){e.initChart()}))},initChart:function(){var t=this;t.month_targets.map(function(e,a){var s={tooltip:{trigger:"axis",axisPointer:{type:"line"}},xAxis:{type:"category",data:t.chart_bar_axis_data},yAxis:{type:"value"},series:[{data:t.chart_bar_series_data[a],type:"bar",itemStyle:{normal:{color:function(e){var s=t.target_start_month-1,i=[];return t.chart_bar_series_data[a].map(function(t,e){e<s?i.push("rgb(42,170,227)"):i.push("rgb(164,205,238)")}),i[e.dataIndex]}},emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};t.chart_bar_options.push(s);var i={tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},series:[{name:"目标比例",type:"pie",hoverAnimation:!1,legendHoverLink:!1,radius:["31%","35%"],color:["#915872","#3077b7","#9a8169"],label:{normal:{position:"inner"}},labelLine:{normal:{show:!1}},tooltip:{show:!1},data:t.chart_pie_series_data[a].map(function(t){return{value:t.value,name:""}})},{name:"目标比例",type:"pie",radius:["35%","65%"],color:["#d74e67","#0092ff","#eba954"],label:{normal:{formatter:"{b}\n{d}%"}},data:t.chart_pie_series_data[a].map(function(t){return{value:t.value,name:t.name}})}]};t.chart_pie_options.push(i)})},GET_TARGET_DETAIL:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};this.$request.get(this.$interface.GET_TARGET_DETAIL,{header:{token:this.token},serial_number:this.serial_number},function(a){var s=a.data||{};t.month_targets=s.filter(function(e){if(e.previous_level.metadata.id==t.region_id||e.previous_level.metadata.id==t.province_id)return e}),t.province_month_targets=t.month_targets.filter(function(e){if(e.previous_level.metadata.id==t.province_id)return e}),"function"==typeof e&&e(a)},this.failure)},GET_TARGET_LOG:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.serial_number&&this.$request.get(this.$interface.GET_TARGET_LOG,{header:{token:this.token},serial_number:this.serial_number},function(e){var a=e.data[0]||{};t.userInfo=a.author},this.failure)}},components:{BiBar:Rt,BiPanel:v.a,BiChart:B}},Ga={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cyc-xl-targetDetail"},[a("bi-bar",{attrs:{columnTitle:"制定目标详情"}},[a("template",{slot:"button"},[a("span",{staticClass:"mgr20 mgl10"},[t._v("时间："+t._s(t.year_month))]),t._v(" "),a("span",{staticClass:"mgr20"},[t._v("管理维度："+t._s(t.dimension_name))]),t._v(" "),a("span",{staticClass:"mgr20"},[t._v("管理类型："+t._s(t.manage_type))])]),t._v(" "),a("template",{slot:"right"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("span",{staticClass:"bread-legend"},[t._v("当前位置：")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("概览主页")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 销量目标管理")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 省份 - 目标详情")])],1)],1)],2),t._v(" "),a("div",{staticClass:"content"},[a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[t._v("目标制定人信息")]),t._v(" "),a("div",{staticClass:"cyc-xl-user"},[a("img",{attrs:{src:t.userInfo.logo_url?t.userInfo.logo_url:"/static/images/default-user.png",alt:""}}),t._v(" "),a("ul",[a("li",[t._v("\n            所属组："),a("span",[t._v(t._s(t.userInfo.group_name||"未知"))]),t._v("\n            角色："),a("span",[t._v(t._s(t.userInfo.role_name||"未知"))]),t._v("\n            姓名："),a("span",[t._v(t._s(t.userInfo.nickname||"未知"))])]),t._v(" "),a("li",[t._v("\n            帐户："),a("span",[t._v(t._s(t.userInfo.username||"未知"))]),t._v("\n            手机："),a("span",[t._v(t._s(t.userInfo.phone||"未知"))])])])])],2),t._v(" "),a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[t._v(" ")]),t._v(" "),a("div",{attrs:{slot:"others"},slot:"others"},[a("span",{class:["cyc-xl-step-btn",1==t.isAllShow?"on":""],on:{click:function(e){t.showWays(0)}}},[t._v("按全部预览")]),t._v(" "),a("span",{class:["cyc-xl-step-btn",0==t.isAllShow?"on":""],on:{click:function(e){t.showWays(1)}}},[t._v("按图表预览")])]),t._v(" "),t.isAllShow?a("div",{staticStyle:{overflow:"auto"}},[a("table",{staticClass:"cyc-xl-table_va expand"},[a("thead",[a("tr",[a("th",{attrs:{width:"10%"}},[t._v("区域-车型")]),t._v(" "),a("th",[t._v("TY-2018"),a("br"),t._v(" 目标")]),t._v(" "),a("th",[t._v("Jan")]),t._v(" "),a("th",[t._v("Feb")]),t._v(" "),a("th",[t._v("Mar")]),t._v(" "),a("th",[t._v("Apr")]),t._v(" "),a("th",[t._v("May")]),t._v(" "),a("th",[t._v("Jun")]),t._v(" "),a("th",[t._v("Jul")]),t._v(" "),a("th",[t._v("Aug")]),t._v(" "),a("th",[t._v("Sep")]),t._v(" "),a("th",[t._v("Oct")]),t._v(" "),a("th",[t._v("Nov")]),t._v(" "),a("th",[t._v("Dec")]),t._v(" "),a("th",{attrs:{width:"5%"}},[t._v("Q1")]),t._v(" "),a("th",{attrs:{width:"5%"}},[t._v("Q2")]),t._v(" "),a("th",{attrs:{width:"5%"}},[t._v("H1")]),t._v(" "),a("th",{attrs:{width:"5%"}},[t._v("Q3")]),t._v(" "),a("th",{attrs:{width:"5%"}},[t._v("Q4")]),t._v(" "),a("th",{attrs:{width:"5%"}},[t._v("H2")])])]),t._v(" "),t._l(t.province_month_targets,function(e,s){return e.previous_level?a("tbody",[a("tr",[a("td",[a("i",{class:t.open_status[s]?"el-icon-remove on":"el-icon-circle-plus",on:{click:function(e){t.changeOpenStatus(s)}}}),t._v("\n              "+t._s(e.previous_level.metadata.name)+"\n            ")]),t._v(" "),a("td",["NaN"!=e.previous_level.ty?a("cite",{staticStyle:{border:"0px"}},[t._v(t._s(t._f("number_format")(e.previous_level.ty)))]):a("cite",{staticStyle:{border:"0px"}},[t._v("暂无数据")])]),t._v(" "),t._l(e.previous_level.month_target,function(e,i){return a("td",["NaN"!=t.month_sales_targets[s][i]?a("cite",{staticStyle:{border:"0px"}},[t._v(t._s(t._f("number_format")(t.month_sales_targets[s][i])))]):a("cite",{staticStyle:{border:"0px"}},[t._v("暂无数据")])])}),t._v(" "),t._l(t.columns,function(s){return a("td",["NaN"!=e.previous_level[s]?a("cite",{staticStyle:{border:"0px"}},[t._v(t._s(t._f("number_format")(e.previous_level[s])))]):a("cite",{staticStyle:{border:"0px"}},[t._v("暂无数据")])])})],2),t._v(" "),t.open_status[s]?t._l(t.rows,function(s){return a("tr",{staticClass:"secondary"},[a("td",[t._v("\n                "+t._s(e.previous_level[s].metadata)+"\n              ")]),t._v(" "),a("td",["NaN"!=e.previous_level[s].ty?[t._v(t._s(t._f("number_format")(t._f("multiply")(e.previous_level[s].ty,100),1))+"%")]:[t._v("暂无数据")]],2),t._v(" "),t._l(e.previous_level[s].month_target,function(e,s){return a("td",["NaN"!=e?[t._v(t._s(t._f("number_format")(t._f("multiply")(e,100),1))+"%")]:[t._v("暂无数据")]],2)}),t._v(" "),t._l(t.columns,function(i){return a("td",["NaN"!=e.previous_level[s][i]?a("cite",{staticStyle:{border:"0px"}},[t._v(t._s(t._f("number_format")(t._f("multiply")(e.previous_level[s][i],100),1))+"%")]):a("cite",[t._v("暂无数据")])])})],2)}):t._e(),t._v(" "),t._l(e.list,function(e,i){return t.open_status[s]?[a("tr",{staticClass:"secondary"},[a("td",[a("i",{class:t.open_status2[s][i]?"el-icon-remove on":"el-icon-circle-plus",on:{click:function(e){t.changeOpenStatus2(s,i)}}}),t._v(t._s(e.metadata.name))]),t._v(" "),a("td",["NaN"!=e.ty?[t._v(t._s(t._f("number_format")(e.ty)))]:[t._v("暂无数据")]],2),t._v(" "),t._l(e.month_target,function(e,s){return a("td",["NaN"!=e?[t._v(t._s(t._f("number_format")(e)))]:[t._v("暂无数据")]],2)}),t._v(" "),t._l(t.columns,function(s){return a("td",["NaN"!=e[s]?[t._v(" "+t._s(t._f("number_format")(e[s])))]:[t._v("暂无数据")]],2)})],2),t._v(" "),t.open_status2[s][i]?t._l(t.rows,function(s){return a("tr",{staticClass:"secondary"},[a("td",{staticStyle:{"padding-left":"70px"}},[t._v(t._s(e[s].metadata))]),t._v(" "),a("td",["NaN"!=e[s].ty?[t._v(t._s(t._f("number_format")(t._f("multiply")(e[s].ty,100),1))+"%")]:[t._v("暂无数据")]],2),t._v(" "),t._l(e[s].month_target,function(e,s){return a("td",["NaN"!=e?[t._v(" "+t._s(t._f("number_format")(t._f("multiply")(e,100),1))+"%")]:[t._v("暂无数据")]],2)}),t._v(" "),t._l(t.columns,function(i){return a("td",["NaN"!=e[s][i]?[t._v(t._s(t._f("number_format")(t._f("multiply")(e[s][i],100),1))+"%")]:[t._v("暂无数据")]],2)})],2)}):t._e()]:t._e()})],2):t._e()})],2)]):a("div",t._l(t.province_month_targets,function(e,s){return a("div",{staticClass:"cyc-xl-chartshow"},[a("h2",[t._v(t._s(e.previous_level.metadata.name))]),t._v(" "),a("el-row",[a("el-col",{staticClass:"hasborder",attrs:{span:12}},[a("h4",[t._v(t._s(e.previous_level.metadata.name)+"-目标走势")]),t._v(" "),a("bi-chart",{staticClass:"chart",attrs:{id:"chartA"+s,option:t.chart_bar_options[s]||{}}})],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("h4",[t._v(t._s(e.previous_level.metadata.name)+"-目标比例")]),t._v(" "),a("bi-chart",{staticClass:"chart",attrs:{id:"chartB"+s,option:t.chart_pie_options[s]||{}}})],1)],1)],1)}))],2)],1)],1)},staticRenderFns:[]};var Ia=a("Z0/y")(Na,Ga,!1,function(t){a("tFV+")},"data-v-9088533c",null).exports,Ra={name:"",mixins:[g.a,me],data:function(){return{user_manage_type_id:"",user_region_id:"",user_province_id:"",newstTarget:"",dataTime:"",manageDimensionId:"",manageDimension:"PROVINCE",manageTypeId:"",brands:{},models:[],areas:[],forecast:[],allBrands:"",allAreas:[],selected_brand_id:"",selected_brand_name:"",selected_model_id:[],push_model_id:[],complete:!1,loading:new Array(2).fill(!1),brand:{},userIdentity:""}},computed:{selected_all_model:function(){var t=[];for(var e in this.models)t.push(this.models[e].id);return t}},filters:{},mounted:function(){var t=this;this.user_region_id=this.dimension_id.split("@")[0]||"",this.user_province_id=this.dimension_id.split("@")[1]||"",this.getToken(function(){t.getNewstTarget()})},methods:{getUserPermission:function(){var t=this;this.$request.get(this.$interface.GET_USER_PERMISSION,{header:{token:this.token}},function(e){var a=e.data||[];t.manageTypeId=a[0].manage_type_id},this.failure)},getDataTime:function(){var t=this;this.$request.get(this.$interface.GET_DATA_TIME,{header:{token:this.token}},function(e){e.data.length<=0||(t.dataTime=e.data[0].end_time,t.getRegion())},this.failure)},getNewstTarget:function(){var t=this;this.$request.get(this.$interface.GET_NEWST_TARGET,{header:{token:this.token},manage_dimension:"REGION",region_id:this.user_region_id},function(e){t.newstTarget=e.data[0]||"",t.newstTarget?t.getDataTime():(t.loading[0]=!1,t.loading[1]=!1,t.complete=!0)},this.failure)},getSubModel:function(){var t=this;this.$request.get(this.$interface.GET_SUB_MODEL,{header:{token:this.token},serial_number:this.newstTarget.serial_number?this.newstTarget.serial_number:""},function(e){t.allBrands=e.data||[],t.initData()},this.failure)},getRegion:function(){var t=this;this.$request.get(this.$interface.GET_REGION,{header:{token:this.token},serial_number:this.newstTarget.serial_number?this.newstTarget.serial_number:""},function(e){t.allRegions=e.data||[],t.getSubModel()},this.failure)},getTotalForecast:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.loading[0]=!0,this.loading[1]=!0,this.$request.get(this.$interface.GET_TOTAL_FORECAST,{header:{token:this.token},manage_dimension:this.manageDimension,manage_type_id:this.manageTypeId,sub_model_id:e.sub_model_id,region_id:this.user_province_id,ym:this.dataTime,serial_number:this.newstTarget.serial_number?this.newstTarget.serial_number:""},function(e){if(!(e.data.length<=0)){var a=e.data[0].list,s={},i={},n=[];for(var r in a)i=ce()({brand_id:t.selected_brand_id,brand:t.selected_brand_name},a[r]),n.push(i),s.list=n,s.previous_level=t.userIdentity;t.forecast.push(s),t.loading[0]=!1,t.loading[1]=!1,t.complete=!0}},this.failure)},changeBrand:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1]},changeModel:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";arguments[1];if(""==t)this.selected_model_id=[],this.push_model_id=this.selected_all_model;else{var e=this.selected_model_id.indexOf(t);e>-1?this.selected_model_id.splice(e,1):this.selected_model_id.push(t),0==this.selected_model_id.length?this.push_model_id=this.selected_all_model:this.push_model_id=this.selected_model_id}this.transferGetTotalForecast(this.push_model_id)},changeArea:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1]},transferGetTotalForecast:function(t,e){this.forecast=[],this.getTotalForecast({sub_model_id:t})},initData:function(){var t=this;for(var e in this.areas=[],this.allRegions)this.allRegions[e].previous_level.id==this.user_region_id&&(this.areas=this.allRegions[e]);for(var a in this.allBrands)this.areas.previous_level.name.indexOf(this.allBrands[a].previous_level.name)>-1&&(this.brands=this.allBrands[a]);this.brand=this.brands.previous_level,this.models=this.brands.list,this.selected_brand_id=this.brands.previous_level.id,this.selected_brand_name=this.brands.previous_level.name,this.selected_model_id=[],this.push_model_id=this.selected_all_model,this.transferGetTotalForecast(this.selected_all_model);var s=this.areas.list.filter(function(e){if(e.id==t.user_province_id)return e.name});this.userIdentity=s[0]}},components:{BiBar:Rt,BiPanel:v.a,BiEmpty:wt.a}},Pa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("bi-bar",{attrs:{columnTitle:"监测预警"}},[a("template",{slot:"button"},[a("span",{staticClass:"mgr20 mgl10"},[t._v("时间："+t._s(t.year_month))]),t._v(" "),a("span",{staticClass:"mgr20"},[t._v("管理维度："+t._s(t.dimension_name))]),t._v(" "),a("span",{staticClass:"mgr20"},[t._v("管理类型："+t._s(t.manage_type))])]),t._v(" "),a("template",{slot:"right"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("span",{staticClass:"bread-legend"},[t._v("当前位置：")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("概览主页")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 销量目标管理")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 省份 - 监测预警")])],1)],1)],2),t._v(" "),a("div",{staticClass:"content cyc-xl-targetList"},[this.newstTarget?a("div",[a("bi-panel",{attrs:{operating:!1}},[a("div",{staticClass:"cyc-xl-search"},[a("div",{staticClass:"selected-box"},[t._v("\n            请选择条件\n            ")]),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading[0],expression:"loading[0]"}],attrs:{"element-loading-background":"#fff"}},[a("dl",[a("dt",[t._v("品牌：")]),t._v(" "),a("dd",[a("span",{staticClass:"on"},[t._v(t._s(t.brand.name))])])]),t._v(" "),a("dl",[a("dt",[t._v("车型：")]),t._v(" "),a("dd",[a("span",{class:{on:0==t.selected_model_id.length},on:{click:function(e){t.changeModel()}}},[t._v("不限")]),t._v(" "),t._l(t.models,function(e){return e.name?[a("span",{class:[t.selected_model_id.indexOf(e.id)>-1?"on":""],on:{click:function(a){t.changeModel(e.id,e.name)}}},[t._v("\n                  "+t._s(e.name)+"\n                ")])]:t._e()})],2)])])])]),t._v(" "),a("h2",{staticClass:"panel-condition"},[t._v("\n        当前共选：\n        "),a("b",[t._v("1")]),t._v("个品牌，\n        "),a("b",[t._v(t._s(t.selected_model_id.length>0?t.selected_model_id.length+"个":"所有"))]),t._v("车型\n      ")]),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading[1],expression:"loading[1]"}],staticStyle:{"min-height":"200px"},attrs:{"element-loading-background":"#fff"}},t._l(t.forecast,function(e,s){return a("bi-panel",{key:s,attrs:{operating:!1}},[a("template",{slot:"title"},[a("router-link",{staticClass:"link",attrs:{target:"_blank",to:{path:"alarm/detail",query:{type:"province",area_id:e.previous_level.id,area_name:e.previous_level.name,dimension:"PROVINCE"}}}},[t._v("\n              "+t._s(e.previous_level.name))])],1),t._v(" "),a("template",{slot:"others"},[a("span",{staticClass:"cyc-xl-title-tips"},[a("font",[t._v("关联ID："+t._s(t.newstTarget.serial_number))]),t._v(" "),a("font",[t._v("制定日期： "+t._s(t.newstTarget.create_time))])],1)]),t._v(" "),e.list.length>0?a("div",{staticStyle:{"max-width":"100%","overflow-x":"auto","overflow-y":"hidden"}},[a("table",{staticClass:"cyc-xl-table_vc"},[a("thead",[a("tr",[a("th",{attrs:{rowspan:"2"}},[t._v("车型")]),t._v(" "),a("th",{attrs:{rowspan:"2"}},[t._v("指标")]),t._v(" "),a("th",{attrs:{colspan:"3"}},[t._v("YTD实际完成")]),t._v(" "),a("th",{attrs:{rowspan:"2"}},[t._v("去年同期实际完成率")]),t._v(" "),a("th",{attrs:{colspan:"2"}},[t._v("目标")]),t._v(" "),a("th",{attrs:{colspan:"2"}},[t._v("最新市场预测（维持YTD份额）")]),t._v(" "),a("th",{attrs:{colspan:"2"}},[t._v("最新市场预测（维持RTG份额）")]),t._v(" "),a("th",{attrs:{colspan:"2"}},[t._v("最新市场预测（维持TY份额）")])]),t._v(" "),a("tr",[a("th",[t._v("实际完成销量")]),t._v(" "),a("th",[t._v("份额")]),t._v(" "),a("th",[t._v("目标完成率")]),t._v(" "),a("th",[t._v("RTG")]),t._v(" "),a("th",[t._v("TY")]),t._v(" "),a("th",[t._v("RTG")]),t._v(" "),a("th",[t._v("TY")]),t._v(" "),a("th",[t._v("RTG")]),t._v(" "),a("th",[t._v("TY")]),t._v(" "),a("th",[t._v("RTG")]),t._v(" "),a("th",[t._v("TY")])])]),t._v(" "),a("tbody",t._l(e.list,function(s,i){return a("tr",[a("td",[a("router-link",{attrs:{target:"_blank",to:{path:"alarm/detail",query:{type:"model",brand_name:s.brand_name,brand_id:s.brand_id,model_name:s.metadata.name,model_id:s.metadata.id,area_id:e.previous_level.id,area_name:e.previous_level.name}}}},[t._v("\n                    "+t._s(s.metadata.name)+"\n                  ")])],1),t._v(" "),a("td",[t._v("销量")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(s.sales)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(s.share,100),1))+"%")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(s.cr,100),1))+"%")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(s.last_year_cr,100),1))+"%")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(s.target.rtg)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(s.target.ty)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(s.keep_ytd.rtg)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(s.keep_ytd.ty)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(s.keep_rtg.rtg)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(s.keep_rtg.ty)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(s.keep_ty.rtg)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(s.keep_ty.ty)))])])}))])]):t.complete?a("bi-empty",{staticStyle:{margin:"50px auto"}},[a("span",{attrs:{slot:"tips"},slot:"tips"},[t._v("亲爱的，暂时没有相关数据，请先完成目标制定！如还有疑问，请联系客户管理员。")])]):t._e()],2)}))],1):t._e()])],1)},staticRenderFns:[]};var Fa=a("Z0/y")(Ra,Pa,!1,function(t){a("TaM1")},"data-v-5d3c0b58",null).exports,Ba={name:"",mixins:[g.a,me],data:function(){return{loading:{all:!0,header:!0},headerData:[],pageType:{},user_manage_type_id:"",user_region_id:"",newstTarget:"",dataTime:"",manageDimensionId:"",manageDimension:"PROVINCE",manageTypeId:"",brands:{},models:[],areas:[],forecast:[],allBrands:"",allAreas:[],selected_brand_id:"",selected_brand_name:"",selected_model_id:[],selected_area_id:[],push_model:[],push_area:[],brand:{},userIdentity:"",title_model_img:""}},computed:{pageTitle:function(){return{brand_name:this.$route.query.brand_name?this.$route.query.brand_name:"",model_name:this.$route.query.model_name?this.$route.query.model_name:"",area_name:this.$route.query.area_name?this.$route.query.area_name:"",area_id:this.$route.query.area_id?this.$route.query.area_id:""}},selected_all_model:function(){var t=[];for(var e in this.models)t.push(this.models[e]);return t},selected_all_area:function(){return this.areas.list}},filters:{},mounted:function(){var t=this;this.user_manage_type_id=this.manage_type_id,this.user_region_id=this.dimension_id.split("@")[0]||"",this.user_province_id=this.dimension_id.split("@")[1]||"",this.pageType=this.$route.query.type,this.getToken(function(){t.getNewstTarget()})},methods:{getMonthForecastHeader:function(t){var e=this;this.$request.get(this.$interface.GET_MONTH_FORECAST_HEADER,ce()({header:{token:this.token},manage_dimension:"PROVINCE",serial_number:this.newstTarget.serial_number?this.newstTarget.serial_number:"",ym:this.dataTime,region_id:this.user_province_id},t),function(t){e.headerData=t.data[0]||[],e.loading.header=!1},this.failure)},getDataTime:function(){var t=this;this.$request.get(this.$interface.GET_DATA_TIME,{header:{token:this.token}},function(e){e.data.length<=0||(t.dataTime=e.data[0].end_time,t.getSubModel())},this.failure)},getNewstTarget:function(){var t=this;this.$request.get(this.$interface.GET_NEWST_TARGET,{header:{token:this.token},manage_dimension:"REGION",region_id:this.user_region_id},function(e){t.newstTarget=e.data[0]||"",t.newstTarget?t.getDataTime():(t.loading.all=!1,t.loading.header=!1)},this.failure)},getSubModel:function(){var t=this;this.$request.get(this.$interface.GET_SUB_MODEL,{header:{token:this.token},serial_number:this.newstTarget.serial_number?this.newstTarget.serial_number:""},function(e){t.allBrands=e.data||[],t.getRegion()},this.failure)},getRegion:function(){var t=this;this.$request.get(this.$interface.GET_REGION,{header:{token:this.token},serial_number:this.newstTarget.serial_number?this.newstTarget.serial_number:""},function(e){t.allRegions=e.data||[],t.initData()},this.failure)},getMonthForecast:function(t,e){var a=this;this.$request.get(this.$interface.GET_MONTH_FORECAST,ce()({header:{token:this.token},manage_dimension:this.manageDimension,ym:this.dataTime,serial_number:this.newstTarget.serial_number?this.newstTarget.serial_number:""},t),function(t){if(a.resForecastData=t.data||[],"model"===a.pageType){var s={};s.list=a.resForecastData[0],s.previous_level={id:e.id,name:e.name},a.forecast.push(s)}else{var i={};for(var n in t.data)i.list=t.data[n];i.previous_level={id:e.id,name:e.name,logo_url:e.logo_url},a.forecast.push(i)}a.loading.all=!1},this.failure)},changeArea:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";arguments[1];if(this.loading.all=!0,""==t)this.selected_area_id=[],this.push_area=this.selected_all_area;else{0==this.selected_area_id.length&&(this.push_area=[]);var e=this.selected_area_id.indexOf(t);if(e>-1?this.selected_area_id.splice(e,1):this.selected_area_id.push(t),0==this.selected_area_id.length)this.push_area=this.selected_all_area;else for(var a in this.push_area=[],this.selected_area_id)for(var s in this.areas.list)this.selected_area_id[a]==this.areas.list[s].id&&this.push_area.push(this.areas.list[s])}this.transferGetMonthForecast(this.push_area)},changeModel:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";arguments[1];if(this.loading.all=!0,""==t)this.selected_model_id=[],this.push_model=this.selected_all_model;else{0==this.selected_model_id.length&&(this.push_model=[]);var e=this.selected_model_id.indexOf(t);if(e>-1?this.selected_model_id.splice(e,1):this.selected_model_id.push(t),0==this.selected_model_id.length)this.push_model=this.selected_all_model;else for(var a in this.push_model=[],this.selected_model_id)for(var s in this.models)this.selected_model_id[a]==this.models[s].id&&this.push_model.push(this.models[s])}this.transferGetMonthForecast(this.push_model)},transferGetMonthForecast:function(t){if("model"===this.pageType)this.forecast=[],this.getMonthForecast({sub_model_id:this.$route.query.model_id,region_id:this.user_province_id},{id:this.$route.query.area_id,name:this.$route.query.area_name});else for(var e in this.forecast=[],this.manageDimension=this.$route.query.dimension?this.$route.query.dimension:"REGION",t)this.getMonthForecast({sub_model_id:t[e].id,region_id:this.pageTitle.area_id},t[e])},initData:function(){var t=this;for(var e in this.areas=[],this.allRegions)this.allRegions[e].previous_level.id==this.user_region_id&&(this.areas=this.allRegions[e]);for(var a in this.allBrands)this.areas.previous_level.name.indexOf(this.allBrands[a].previous_level.name)>-1&&(this.brands=this.allBrands[a]);var s=this.areas.list.filter(function(e){if(e.id==t.user_province_id)return e.name});if(this.userIdentity=s[0],"model"===this.pageType)this.brands.list.every(function(e){return e.id!=t.$route.query.model_id||(t.title_model_img=e.logo_url,!1)}),this.brand=this.brands.previous_level,this.selected_area_id=[],this.push_area=this.selected_all_area,this.transferGetMonthForecast(this.push_area),this.getMonthForecastHeader({sub_model_id:this.$route.query.model_id});else{this.brand=this.brands.previous_level,this.models=this.brands.list,this.selected_brand_id=this.brands.previous_level.id,this.selected_brand_name=this.brands.previous_level.name,this.selected_model_id=[],this.push_model=this.selected_all_model;this.push_model.map(function(t){return t.id});this.transferGetMonthForecast(this.push_model),this.getMonthForecastHeader({manage_type_id:1,brand_id:this.selected_brand_id})}}},components:{BiBar:Rt,BiPanel:v.a,BiEmpty:wt.a,BiProgress:f.a}},$a={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("bi-bar",{attrs:{columnTitle:"预警详情"}},[a("template",{slot:"button"},[a("span",{staticClass:"mgr20 mgl10"},[t._v("时间："+t._s(t.year_month))]),t._v(" "),a("span",{staticClass:"mgr20"},[t._v("管理维度："+t._s(t.dimension_name))]),t._v(" "),a("span",{staticClass:"mgr20"},[t._v("管理类型："+t._s(t.manage_type))])]),t._v(" "),a("template",{slot:"right"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("span",{staticClass:"bread-legend"},[t._v("当前位置：")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("概览主页")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 销量目标管理")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 省份 - 监测预警")])],1)],1)],2),t._v(" "),a("div",{staticClass:"content cyc-xl-targetList"},[t.newstTarget?[a("bi-panel",{attrs:{operating:!1}},[a("div",{staticClass:"targetList-title",attrs:{slot:"title"},slot:"title"},["model"===t.pageType?[t.title_model_img?a("img",{attrs:{src:t.title_model_img,alt:""}}):a("img",{attrs:{src:"/static/images/nocar.png",alt:""}}),t._v(" "),a("p",[t._v(t._s(t.pageTitle.brand_name)+" "+t._s(t.pageTitle.model_name)+"-省份目标详情")])]:[a("p",[t._v(t._s(t.pageTitle.area_name)+" - 车型目标详情")])]],2),t._v(" "),a("template",{slot:"others"},[a("span",{staticClass:"cyc-xl-title-tips",staticStyle:{"margin-top":"10px"}},[a("font",[t._v("关联ID："+t._s(t.newstTarget.serial_number))]),t._v(" "),a("font",[t._v("制定日期： "+t._s(t.newstTarget.create_time))])],1)]),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading.header,expression:"loading['header']"}],staticStyle:{"min-height":"100px"},attrs:{"element-loading-background":"#fff"}},[t.loading.header?t._e():a("el-row",{staticClass:"detail",attrs:{align:"middle",justify:"center"}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-warning"},[a("h3",[t._v("TY目标")]),t._v(" "),a("h2",[a("font",{staticStyle:{color:"#339acd"}},[t._v(t._s(t._f("number_format")(t.headerData.ty))+" ")])],1)])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("h3",[t._v("MTD当月完成率")]),t._v(" "),a("el-row",[a("el-col",{attrs:{span:13}},[a("h2",{staticStyle:{color:"#339acd"}},[t._v(t._s(t._f("number_format")(t.headerData.mtd_sales)))]),t._v(" "),a("p",[t._v("（完成销量）")])]),t._v(" "),a("el-col",{attrs:{span:11}},[a("bi-progress",{attrs:{type:"circle",precision:1,percentage:[t.headerData.mtd_rate?t.headerData.mtd_rate:-1],color:"#339acd","circle-width":"50"}}),t._v(" "),a("p",[t._v("（当月完成率）")])],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("h3",[t._v("YTD完成目标进度")]),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[a("bi-progress",{attrs:{type:"circle",precision:1,percentage:[t.headerData.ytd_target_rate?t.headerData.ytd_target_rate:-1],color:"#339acd","circle-width":"50"}}),t._v(" "),a("p",[t._v("（目标进度）")])],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("bi-progress",{attrs:{type:"circle",precision:1,percentage:[t.headerData.ytd_this_year_rate?t.headerData.ytd_this_year_rate:-1],color:"#339acd","circle-width":"50"}}),t._v(" "),a("p",[t._v("（当年完成率）")])],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("bi-progress",{attrs:{type:"circle",precision:1,percentage:[t.headerData.ytd_last_year_rate?t.headerData.ytd_last_year_rate:-1],color:"#339acd","circle-width":"50"}}),t._v(" "),a("p",[t._v("（去年完成率）")])],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("h3",[t._v("YTD市场份额")]),t._v(" "),a("span",{staticClass:"box"},[a("bi-progress",{attrs:{precision:1,percentage:[t.headerData.ytd_rate?t.headerData.ytd_rate:-1],color:"#339acd",height:"16"}})],1),t._v(" "),a("h4",[t._v("目标份额："+t._s(t._f("number_format")(t._f("multiply")(t.headerData.ytd_target_cr,100),1))+" %")]),t._v(" "),a("h4",[t._v("差额："+t._s(t._f("number_format")(t._f("multiply")(t.headerData.ytd_balance,100),1))+" %")])])],1)],1)],2),t._v(" "),a("div",["model"!=t.pageType?a("bi-panel",{directives:[{name:"loading",rawName:"v-loading",value:t.loading.all,expression:"loading['all']"}],attrs:{"element-loading-background":"#fff",operating:!1}},[a("template",{slot:"title"},[t._v("请选择条件")]),t._v(" "),"model"==t.pageType?a("div",{staticClass:"cyc-xl-search"},[a("dl",[a("dt",[t._v("区域：")]),t._v(" "),a("dd",[a("span",{class:[0==t.selected_area_id.length?"on":""],on:{click:function(e){t.changeArea()}}},[t._v("不限")]),t._v(" "),t._l(t.areas.list,function(e){return[a("span",{class:[t.selected_area_id.indexOf(e.id)>-1?"on":""],on:{click:function(a){t.changeArea(e.id,e.name)}}},[t._v("\n                "+t._s(e.name)+"\n              ")])]})],2)])]):a("div",{staticClass:"cyc-xl-search"},[a("dl",[a("dt",[t._v("品牌：")]),t._v(" "),a("dd",[a("span",{staticClass:"on"},[t._v(t._s(t.brand.name))])])]),t._v(" "),a("dl",[a("dt",[t._v("车型：")]),t._v(" "),a("dd",[a("span",{class:{on:0==t.selected_model_id.length},on:{click:function(e){t.changeModel()}}},[t._v("不限")]),t._v(" "),t._l(t.models,function(e){return e.name?[a("span",{class:[t.selected_model_id.indexOf(e.id)>-1?"on":""],on:{click:function(a){t.changeModel(e.id,e.name)}}},[t._v("\n                "+t._s(e.name)+"\n              ")])]:t._e()})],2)])])],2):t._e(),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading.all,expression:"loading['all']"}],staticStyle:{"min-height":"200px"},attrs:{"element-loading-background":"#fff"}},[t._l(t.forecast,function(e,s){return[a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},["model"===t.pageType?[a("router-link",{staticClass:"link",attrs:{target:"_blank",to:{path:"detail",query:{type:"province",area_name:e.previous_level.name,area_id:e.previous_level.id,dimension:"PROVINCE"}}}},[t._v("\n                  "+t._s(e.previous_level.name)+"\n                ")])]:[e.previous_level.logo_url?a("img",{staticClass:"cyc-xl-title-img",attrs:{alt:e.previous_level.name,src:e.previous_level.logo_url}}):a("img",{staticClass:"cyc-xl-title-img",attrs:{alt:"",src:"/static/images/nocar.png"}}),t._v(" "),a("router-link",{staticClass:"link",attrs:{target:"_blank",to:{path:"detail",query:{type:"model",brand_name:t.selected_brand_name,model_name:e.previous_level.name,model_id:e.previous_level.id,area_id:t.$route.query.area_id,area_name:t.$route.query.area_name,dimension:"PROVINCE"}}}},[t._v("\n                  "+t._s(e.previous_level.name)+"\n                ")])]],2),t._v(" "),a("template",{slot:"others"},[a("span",{staticClass:"cyc-xl-title-tips",staticStyle:{"margin-top":"10px"}},[a("font",[t._v("关联ID："+t._s(t.newstTarget.serial_number))]),t._v(" "),a("font",[t._v("制定日期： "+t._s(t.newstTarget.create_time))])],1)]),t._v(" "),a("table",{staticClass:"cyc-xl-table_vc"},[a("thead",[a("tr",[a("th",{attrs:{colspan:"2",rowspan:"2",width:"22%"}},[t._v("零售量")]),t._v(" "),a("th",[t._v("YTD")]),t._v(" "),a("th",[t._v("RTG")]),t._v(" "),a("th",[t._v("TY")]),t._v(" "),a("th",[t._v("Jan")]),t._v(" "),a("th",[t._v("Feb")]),t._v(" "),a("th",[t._v("Mar")]),t._v(" "),a("th",[t._v("Apr")]),t._v(" "),a("th",[t._v("May")]),t._v(" "),a("th",[t._v("Jun")]),t._v(" "),a("th",[t._v("Jul")]),t._v(" "),a("th",[t._v("Aug")]),t._v(" "),a("th",[t._v("Sep")]),t._v(" "),a("th",[t._v("Oct")]),t._v(" "),a("th",[t._v("Nov")]),t._v(" "),a("th",[t._v("Dec")])]),t._v(" "),a("tr",[a("th",[t._v("实际")]),t._v(" "),a("th",[t._v("预测")]),t._v(" "),a("th",[t._v("-")]),t._v(" "),t._l(t.forecast[0].list.segment.flag,function(e,s){return a("th",[t._v("\n                  "+t._s(e)+"\n                ")])})],2)]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("所属细分市场预测")]),t._v(" "),a("td",{attrs:{width:"4%"}},[t._v("销量")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.list.segment.ytd)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.list.segment.rtg)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.list.segment.ty)))]),t._v(" "),t._l(e.list.segment.month_forecast,function(e,s){return a("td",{key:s},[t._v("\n                  "+t._s(t._f("number_format")(e))+"\n                ")])})],2),t._v(" "),a("tr",[a("td",{attrs:{colspan:"1",rowspan:"2"}},[t._v("目标销量")]),t._v(" "),a("td",[t._v("销量")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.list.target_sales.ytd)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.list.target_sales.rtg)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.list.target_sales.ty)))]),t._v(" "),t._l(e.list.target_sales.month_forecast,function(e,s){return a("td",{key:s},[t._v("\n                  "+t._s(t._f("number_format")(e))+"\n                ")])})],2),t._v(" "),a("tr",[a("td",[t._v("份额")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.list.target_share.ytd,100),1))+"%")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.list.target_share.rtg,100),1))+"%")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.list.target_share.ty,100),1))+"%")]),t._v(" "),t._l(e.list.target_share.month_forecast,function(e,s){return a("td",{key:s},[t._v("\n                  "+t._s(t._f("number_format")(t._f("multiply")(e,100),1))+"%\n                ")])})],2),t._v(" "),a("tr",[a("td",{attrs:{colspan:"1",rowspan:"2"}},[t._v("最新市场预测（维持YTD份额）")]),t._v(" "),a("td",[t._v("销量")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.list.keep_ytd_sales.ytd)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.list.keep_ytd_sales.rtg)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.list.keep_ytd_sales.ty)))]),t._v(" "),""==e.list.keep_ytd_sales.month_forecast||"null"==e.list.keep_ytd_sales.month_forecast?a("td"):t._l(e.list.keep_ytd_sales.month_forecast,function(e,s){return a("td",{key:s},[t._v("\n                  "+t._s(t._f("number_format")(e))+"\n                ")])})],2),t._v(" "),a("tr",[a("td",[t._v("份额")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.list.keep_ytd_share.ytd,100),1))+"%")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.list.keep_ytd_share.rtg,100),1))+"%")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.list.keep_ytd_share.ty,100),1))+"%")]),t._v(" "),t._l(e.list.keep_ytd_share.month_forecast,function(e,s){return a("td",{key:s},[t._v("\n                  "+t._s(t._f("number_format")(t._f("multiply")(e,100),1))+"%\n                ")])})],2),t._v(" "),a("tr",[a("td",{attrs:{colspan:"1",rowspan:"2"}},[t._v("最新市场预测（维持RTG份额）")]),t._v(" "),a("td",[t._v("销量")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.list.keep_rtg_sales.ytd)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.list.keep_rtg_sales.rtg)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.list.keep_rtg_sales.ty)))]),t._v(" "),t._l(e.list.keep_rtg_sales.month_forecast,function(e,s){return a("td",{key:s},[t._v("\n                  "+t._s(t._f("number_format")(e))+"\n                ")])})],2),t._v(" "),a("tr",[a("td",[t._v("份额")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.list.keep_rtg_share.ytd,100),1))+"%")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.list.keep_rtg_share.rtg,100),1))+"%")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.list.keep_rtg_share.ty,100),1))+"%")]),t._v(" "),t._l(e.list.keep_rtg_share.month_forecast,function(e,s){return a("td",{key:s},[t._v("\n                  "+t._s(t._f("number_format")(t._f("multiply")(e,100),1))+"%\n                ")])})],2),t._v(" "),a("tr",[a("td",{attrs:{colspan:"1",rowspan:"2"}},[t._v("最新市场预测（维持TY份额）")]),t._v(" "),a("td",[t._v("销量")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.list.keep_ty_sales.ytd)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.list.keep_ty_sales.rtg)))]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(e.list.keep_ty_sales.ty)))]),t._v(" "),t._l(e.list.keep_ty_sales.month_forecast,function(e,s){return a("td",{key:s},[t._v("\n                  "+t._s(t._f("number_format")(e))+"\n                ")])})],2),t._v(" "),a("tr",[a("td",[t._v("份额")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.list.keep_ty_share.ytd,100),1))+"%")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.list.keep_ty_share.rtg,100),1))+"%")]),t._v(" "),a("td",[t._v(t._s(t._f("number_format")(t._f("multiply")(e.list.keep_ty_share.ty,100),1))+"%")]),t._v(" "),t._l(e.list.keep_ty_share.month_forecast,function(e,s){return a("td",{key:s},[t._v("\n                  "+t._s(t._f("number_format")(t._f("multiply")(e,100),1))+"%\n                ")])})],2)])])],2)]})],2)],1)]:[t.loading.all?t._e():a("bi-panel",[a("bi-empty",{staticStyle:{margin:"100px auto"}},[a("span",{attrs:{slot:"tips"},slot:"tips"},[t._v("亲爱的，暂时没有相关数据，请先完成目标制定！如还有疑问，请联系客户管理员。")])])],1)]],2)],1)},staticRenderFns:[]};var qa=a("Z0/y")(Ba,$a,!1,function(t){a("HhGw")},"data-v-77032cbc",null).exports,La={name:"search",mixins:[g.a],data:function(){return{state1:"",state2:"",brandIdArr:[],brandNameArr:[],panel:{cityP_show:!1,brandP_show:!1,accreditP_show:!1,netPointP_show:!1,showStyleP_show:!1},selectGroup:{accredit:{checkedOption:[],option:["授权","未授权"],checkAll:!1,isIndeterminate:!1},netPoint:{checkedOption:[],option:["2S店","4S店"],checkAll:!1,isIndeterminate:!1},showStyle:{checkedOption:["经销店简称"],option:["经销店简称","经销店简称+厂商品牌","厂商品牌","经销店工商注册名称"],checkAll:!1,isIndeterminate:!0}},hotCity:["北京市","广州市","深圳市","南京市","上海市","杭州市","重庆市","成都市"],letter_selected:{cityBox:"",manfsBox:""},showStyleStatus:""}},computed:{associate:function(){var t=[];for(var e in this.city)for(var a in this.city[e].provinces)for(var s in this.city[e].provinces[a].citys)t.push({value:this.city[e].provinces[a].citys[s].cityName});return t},brandNamesArr:function(){var t=[];for(var e in this.brand)for(var a in this.brand[e].manfBrands)t.push({value:this.brand[e].manfBrands[a].manfBrandName,key:this.brand[e].manfBrands[a].manfBrandId});return t},manfBrandMap:function(){var t={};for(var e in this.brand)for(var a in this.brand[e].manfBrands){t[this.brand[e].manfBrands[a].manfBrandId]=this.brand[e].manfBrands[a].manfBrandName}return t}},props:{cityName:{type:String,default:"北京"},city:{type:Array,default:function(){return[]}},brand:{type:Array,default:function(){return[]}},cooperation:{type:Array,default:function(){return[]}},netPoint:{type:Array,default:function(){return[]}}},watch:{cooperation:function(){var t=this.selectGroup;this.cooperation.length&&(t.accredit.option=this.cooperation.map(function(t){return t.cooperativeNature})),this.selectGroup=t},netPoint:function(){var t=this.selectGroup;this.netPoint.length&&(t.netPoint.option=this.netPoint.map(function(t){return t.networkType})),this.selectGroup=t},brandIdArr:function(){var t=this;this.brandNameArr=[],this.brandIdArr.map(function(e){var a=t.manfBrandMap[e];t.brandNameArr.push({id:e,name:a})})}},mounted:function(){this.showStyleStatus=this.selectGroup.showStyle.checkedOption[0]},methods:{selectLetter:function(t,e){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.letter_selected[t]=e;var s=document.querySelector("."+t);if(s){var i=s.querySelector('[data-key="'+e+'"]').offsetTop-s.offsetTop;setTimeout(function(){a?A()("."+t).animate({scrollTop:i},300,"swing"):A()("."+t).scrollTop(i)},10)}},citySelect:function(t){this.panel_control("city_panel"),this.$emit("selectCity",t.value)},brandSelect:function(t){this.brandIdArr.length>=10?this.$message("最多可选择10个品牌!"):(this.brandIdArr.map(function(e){t.key}),this.brandIdArr.push(t.key))},handleClose:function(t){var e=[];this.brandIdArr.map(function(a){t.id!=a&&e.push(a)}),this.brandIdArr=e},queryCity:function(t,e){var a=this.associate;e(t?a.filter(this.createFilter(t)):a)},queryBrand:function(t,e){var a=this.brandNamesArr;e(t?a.filter(this.createFilter(t)):a)},createFilter:function(t){return function(e){return 0===e.value.toLowerCase().indexOf(t.toLowerCase())}},handleCheckAllChange:function(t){this.selectGroup[t].checkedOption=this.selectGroup[t].checkAll?this.selectGroup[t].option:[],this.selectGroup[t].isIndeterminate=!1},handleCheckedChange:function(t){var e=this.selectGroup[t].checkedOption.length;this.selectGroup[t].checkAll=e===this.selectGroup[t].option.length,this.selectGroup[t].isIndeterminate=e>0&&e<this.selectGroup[t].option.length},radioChecked:function(t,e){this.selectGroup.showStyle.checkedOption=[t],this.selectGroup.showStyle.checkedKey=e},radioSubmit:function(){this.panel.showStyleP_show=!1,this.showStyleStatus=this.selectGroup.showStyle.checkedOption[0],this.$emit("handleShowStyle",this.selectGroup.showStyle.checkedKey)},panel_control:function(t){for(var e in this.panel[t]=!this.panel[t],this.panel)e!=t&&(this.panel[e]=!1)},handleSubmit:function(t){this.panel_control(t),this.submitData()},submitData:function(){var t={manfBrandIds:this.brandIdArr,cooperativeNatures:this.selectGroup.accredit.checkedOption,networkTypes:this.selectGroup.netPoint.checkedOption};this.$emit("filterNetwork",t)},resetData:function(t){switch(t){case"brand":this.brandIdArr=[];break;case"accredit":this.selectGroup.accredit.checkedOption=[],this.selectGroup.accredit.isIndeterminate=!1,this.selectGroup.accredit.checkAll=!1;break;case"netPoint":this.selectGroup.netPoint.checkedOption=[],this.selectGroup.netPoint.isIndeterminate=!1,this.selectGroup.netPoint.checkAll=!1;break;case"showStyle":this.selectGroup.showStyle.checkedOption=["经销店简称"],this.selectGroup.showStyle.isIndeterminate=!1,this.selectGroup.showStyle.checkAll=!1,this.showStyleStatus=this.selectGroup.showStyle.checkedOption[0]}},clearData:function(){var t=this;["brand","accredit","netPoint"].map(function(e){t.resetData(e)})}},components:{BiEmpty:wt.a}},za={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"header-el-popover-cont-s"},[a("div",{staticClass:"dropGroup"},[a("span",{on:{click:function(e){t.panel_control("cityP_show")}}},[a("div",{staticClass:"dropGroupHead"},[a("i",{staticClass:"el-icon-location-outline",class:{on:t.panel.cityP_show}}),t._v(t._s(t.cityName))])]),t._v(" "),a("span",{on:{click:function(e){t.panel_control("brandP_show")}}},[a("div",{staticClass:"dropGroupHead"},[t._v("厂商品牌"),a("i",{class:[t.panel.brandP_show?"el-icon-arrow-up on":"el-icon-arrow-down"]})])]),t._v(" "),a("span",[a("div",{staticClass:"dropGroupHead",on:{click:function(e){t.panel_control("accreditP_show")}}},[t._v("合作性质"),a("i",{class:[t.panel.accreditP_show?"el-icon-arrow-up on":"el-icon-arrow-down"]})]),t._v(" "),a("transition",{attrs:{name:"el-zoom-in-top"}},[t.panel.accreditP_show?a("div",{staticClass:"dropDown"},[a("el-checkbox",{attrs:{indeterminate:t.selectGroup.accredit.isIndeterminate},on:{change:function(e){t.handleCheckAllChange("accredit")}},model:{value:t.selectGroup.accredit.checkAll,callback:function(e){t.$set(t.selectGroup.accredit,"checkAll",e)},expression:"selectGroup.accredit.checkAll"}},[t._v("全选")]),t._v(" "),a("el-checkbox-group",{on:{change:function(e){t.handleCheckedChange("accredit")}},model:{value:t.selectGroup.accredit.checkedOption,callback:function(e){t.$set(t.selectGroup.accredit,"checkedOption",e)},expression:"selectGroup.accredit.checkedOption"}},t._l(t.selectGroup.accredit.option,function(e){return a("el-checkbox",{key:e,attrs:{label:e}},[t._v(t._s(e))])})),t._v(" "),a("div",{staticClass:"dropDownBtn"},[a("span",{on:{click:function(e){t.resetData("accredit")}}},[t._v("重置")]),t._v(" "),a("span",{on:{click:function(e){t.handleSubmit("accreditP_show")}}},[t._v("确定")])])],1):t._e()])],1),t._v(" "),a("span",[a("div",{staticClass:"dropGroupHead",on:{click:function(e){t.panel_control("netPointP_show")}}},[t._v("网点类型"),a("i",{class:[t.panel.netPointP_show?"el-icon-arrow-up on":"el-icon-arrow-down"]})]),t._v(" "),a("transition",{attrs:{name:"el-zoom-in-top"}},[t.panel.netPointP_show?a("div",{staticClass:"dropDown"},[a("el-checkbox",{attrs:{indeterminate:t.selectGroup.netPoint.isIndeterminate},on:{change:function(e){t.handleCheckAllChange("netPoint")}},model:{value:t.selectGroup.netPoint.checkAll,callback:function(e){t.$set(t.selectGroup.netPoint,"checkAll",e)},expression:"selectGroup.netPoint.checkAll"}},[t._v("全选")]),t._v(" "),a("el-checkbox-group",{on:{change:function(e){t.handleCheckedChange("netPoint")}},model:{value:t.selectGroup.netPoint.checkedOption,callback:function(e){t.$set(t.selectGroup.netPoint,"checkedOption",e)},expression:"selectGroup.netPoint.checkedOption"}},t._l(t.selectGroup.netPoint.option,function(e){return a("el-checkbox",{key:e,attrs:{label:e}},[t._v(t._s(e))])})),t._v(" "),a("div",{staticClass:"dropDownBtn"},[a("span",{on:{click:function(e){t.resetData("netPoint")}}},[t._v("重置")]),t._v(" "),a("span",{on:{click:function(e){t.handleSubmit("netPointP_show")}}},[t._v("确定")])])],1):t._e()])],1),t._v(" "),a("span",[a("div",{staticClass:"dropGroupHead",on:{click:function(e){t.panel_control("showStyleP_show")}}},[t.showStyleStatus?a("span",[t._v(t._s(t.showStyleStatus))]):a("span",[t._v("显示方式")]),t._v(" "),a("i",{staticClass:"iconfont icon-form_search",class:{on:t.panel.showStyleP_show}})]),t._v(" "),a("transition",{attrs:{name:"el-zoom-in-top"}},[t.panel.showStyleP_show?a("div",{staticClass:"dropDown"},[a("el-checkbox-group",{model:{value:t.selectGroup.showStyle.checkedOption,callback:function(e){t.$set(t.selectGroup.showStyle,"checkedOption",e)},expression:"selectGroup.showStyle.checkedOption"}},t._l(t.selectGroup.showStyle.option,function(e,s){return a("el-checkbox",{key:e,attrs:{label:e,max:1},on:{change:function(a){t.radioChecked(e,s)}}},[t._v(t._s(e))])})),t._v(" "),a("div",{staticClass:"dropDownBtn"},[a("span",{on:{click:function(e){t.panel.showStyleP_show=!1}}},[t._v("关闭")]),t._v(" "),a("span",{on:{click:t.radioSubmit}},[t._v("确定")])])],1):t._e()])],1)]),t._v(" "),a("transition",{attrs:{name:"el-zoom-in-top"}},[t.panel.cityP_show?a("div",{staticClass:"cityPanel"},[a("div",{staticClass:"hotCity"},[a("el-autocomplete",{staticClass:"inline-input",attrs:{size:"mini","fetch-suggestions":t.queryCity,placeholder:"请输入城市名","trigger-on-focus":!1,"prefix-icon":"el-icon-search"},on:{select:t.citySelect},model:{value:t.state1,callback:function(e){t.state1=e},expression:"state1"}}),t._v(" "),a("dl",{staticClass:"meter"},[a("dt",[a("h2",[t._v("热门城市：")])]),t._l(t.hotCity,function(e,s){return a("dd",{class:{on:e==t.cityName},on:{click:function(a){t.citySelect({value:e,order:s})}}},[t._v(t._s(e))])})],2),t._v(" "),a("i",{staticClass:"el-icon-close",on:{click:function(e){t.panel_control("cityP_show")}}})],1),t._v(" "),a("div",{staticClass:"alphabet"},[a("dl",{staticClass:"meter"},[a("dt",[a("h2",[t._v("按省份首字母选择：")])]),t._l(t.city,function(e){return a("dd",{class:{on:t.letter_selected.cityBox==e.firstLetter},domProps:{textContent:t._s(e.firstLetter)},on:{click:function(a){t.selectLetter("cityBox",e.firstLetter)}}})})],2)]),t._v(" "),t.city&&t.city[0]&&""==t.city[0].firstLetter?a("div",{staticClass:"straightCity"},[t.city[0].provinces&&t.city[0].provinces[0]?a("dl",{staticClass:"meter"},[a("dt",[a("h2",[t._v("直辖市：")])]),t._v(" "),t._l(t.city[0].provinces[0].citys,function(e){return a("dd",{on:{click:function(a){t.citySelect({value:e.cityName})}}},[t._v(t._s(e.cityName))])})],2):t._e()]):t._e(),t._v(" "),t.city.length?a("div",{staticClass:"city"},[a("el-scrollbar",{staticStyle:{width:"100%",height:"100%"},attrs:{wrapClass:"cityBox"}},t._l(t.city,function(e,s){return 0!=s?a("dl",[a("dt",{attrs:{"data-key":e.firstLetter},domProps:{textContent:t._s(e.firstLetter)}}),t._v(" "),t._l(e.provinces,function(e){return a("dd",[a("h2",[t._v(t._s(e.provinceName)+"：")]),t._l(e.citys,function(e){return a("span",{on:{click:function(a){t.citySelect({value:e.cityName})}}},[t._v(t._s(e.cityName))])})],2)})],2):t._e()}))],1):a("div",{staticClass:"city"},[a("bi-empty",{attrs:{"show-result":!1}},[a("span",{attrs:{slot:"tips"},slot:"tips"},[t._v("亲爱的，网络链接异常，请耐心等待")])])],1)]):t._e()]),t._v(" "),a("transition",{attrs:{name:"el-zoom-in-top"}},[t.panel.brandP_show?a("div",{staticClass:"brandPanel"},[a("div",{staticClass:"brandSearch"},[a("el-autocomplete",{staticClass:"inline-input brandInput",attrs:{size:"mini","fetch-suggestions":t.queryBrand,placeholder:"快速搜索","trigger-on-focus":!1,"prefix-icon":"el-icon-search"},on:{select:t.brandSelect},model:{value:t.state2,callback:function(e){t.state2=e},expression:"state2"}}),t._v(" "),a("div",{staticClass:"brandTag"},t._l(t.brandNameArr,function(e){return a("el-tag",{key:e.id,attrs:{size:"small",closable:""},on:{close:function(a){t.handleClose(e)}}},[t._v("\n                "+t._s(e.name)+"\n              ")])})),t._v(" "),a("i",{staticClass:"el-icon-close",on:{click:function(e){t.panel_control("brandP_show")}}})],1),t._v(" "),a("div",{staticClass:"alphabet"},[a("dl",{staticClass:"meter"},[a("dt",[a("h2",[t._v("按首字母选择：")])]),t._l(t.brand,function(e){return a("dd",{class:{on:t.letter_selected.manfsBox==e.firstLetter},domProps:{textContent:t._s(e.firstLetter)},on:{click:function(a){t.selectLetter("manfsBox",e.firstLetter)}}})})],2)]),t._v(" "),t.brand.length?a("div",{staticClass:"brand"},[a("el-scrollbar",{staticStyle:{width:"100%",height:"100%"},attrs:{wrapClass:"manfsBox"}},[a("el-checkbox-group",{attrs:{max:10},model:{value:t.brandIdArr,callback:function(e){t.brandIdArr=e},expression:"brandIdArr"}},t._l(t.brand,function(e){return a("dl",[a("dt",{attrs:{"data-key":e.firstLetter},domProps:{textContent:t._s(e.firstLetter)}}),t._v(" "),a("dd",t._l(e.manfBrands,function(e){return a("el-checkbox",{key:e.manfBrandId,attrs:{label:e.manfBrandId}},[t._v(t._s(e.manfBrandName))])}))])}))],1)],1):a("div",{staticClass:"brand"},[a("bi-empty",{attrs:{"show-result":!1}},[a("span",{attrs:{slot:"tips"},slot:"tips"},[t._v("亲爱的，网络链接异常，请耐心等待")])])],1),t._v(" "),a("div",{staticClass:"brandBtn"},[a("span",{on:{click:function(e){t.resetData("brand")}}},[t._v("重置")]),t._v(" "),a("span",{on:{click:function(e){t.handleSubmit("brandP_show")}}},[t._v("确定")])])]):t._e()])],1)])},staticRenderFns:[]};var ja=a("Z0/y")(La,za,!1,function(t){a("5QPv")},"data-v-42bfff20",null).exports,Va={name:"",mixins:[g.a],data:function(){return{leftPartStatus:!0,cityData:[],brandData:[],cooperationData:[],netPointData:[],show_type:"0",ruleForm:{area:"",cooperation:"",network:"",show_type:""},map:{},zoom:"15",zoomToMeter:[null,1e7,5e6,2e6,1e6,5e5,2e5,1e5,5e4,25e3,2e4,1e4,5e3,2e3,1e3,500,200,100,50,20],rawData:[],rawData2:[],listData:[],listData2:[],circleData:[],dealersData:[],outDealersData:"",page:1,pageSize:10,totalPage:1,color:{"-1":"#7e868d",0:"#4aa2fb",1:"#288a81",2:"#e7894a",3:"#3d86c3",4:"#61ba63",5:"#ea695c",6:"#b5a185",7:"#40c2ae",8:"#3a7edb",9:"#d27c7e",10:"#827a9b",11:"#6687f2",12:"#bbcc5a",13:"#51b5d6",14:"#70916b",15:"#a768c2",16:"#246ca9",17:"#bf7fa0",18:"#989b62"},circles:{},markers:{},autoshopMarkers:{},scaleType:"",cityName:localStorage.getItem("iways_cityName")||"北京市",city_stat:{},circle_stat:{},currentCircleId:"",currentCircleName:"",loading:!0,focusCircleId:""}},computed:{scaleTypeOptions:function(){return[{zooms:[12,11,10,9,8,7,6,5,4,3,2,1],text:"大于等于5公里"},{zooms:[13,14,15],text:"大于0.2公里小于5公里"},{zooms:[16,17,18,19],text:"小于等于0.2公里"}]},circleOptions:function(){return{fillColor:"#e55353",fillOpacity:.9,strokeColor:"#e55353",strokeWeight:1,strokeOpacity:1,fillColorFocus:"#d75455",fillOpacityFocus:.98,strokeColorFocus:"#e55353",strokeWeightFocus:8,strokeOpacityFocus:.4}},showType:function(){this.zoomToMeter[this.zoom]},iconOffset:function(){var t={},e=this.iconOptions.width,a=this.iconOptions.height;t[-1]=[0,0];for(var s=0;s<9;s++)t[s]=[-e*s,-a];for(var i=0;i<19;i++)t[i+9]=[-e*i,-2*a];return t},iconOptions:function(){return{width:36*.6,height:31.2,times:.6}}},destroyed:function(){this.$emit("panelStyle",!0),document.getElementById("app").style.minWidth=""},mounted:function(){var t=this;this.zoom=12,this.$emit("panelStyle",!1),document.getElementById("app").style.minWidth=document.documentElement.clientHeight+"px"||document.body.clientHeight+"px";var e=new BMap.Map("XSDFXPage",{enableMapClick:!1,minZoom:10,maxZoom:18});e.addControl(new BMap.ScaleControl({anchor:BMAP_ANCHOR_BOTTOM_RIGHT})),e.addControl(new BMap.NavigationControl({anchor:BMAP_ANCHOR_BOTTOM_RIGHT})),e.centerAndZoom(this.cityName,this.zoom),e.enableScrollWheelZoom(!0),e.disableInertialDragging();var a=this;this.map=e,this.map.addEventListener("zoomend",function(e,a){t.initOverlay()}),this.map.addEventListener("moving",function(){var e=t.map.getCenter();(new BMap.Geocoder).getLocation(e,function(t){t.addressComponents.city&&(a.cityName=t.addressComponents.city)})}),this.queryConditions(),this.initData(),b.a.$on("triggerMainPanel",function(e){t.leftPartStatus=e})},watch:{circleData:function(){this.initOverlay()},dealersData:function(){var t={};for(var e in this.dealersData){var a=this.dealersData[e];t[a.bcId]=a.dealers||[]}this.circleData.length&&this.circleData.map(function(e){return e.dealers=t[e.bcId]||[],e}),this.initOverlay()},outDealersData:function(){this.initOverlay()},rawData2:function(){var t=this;this.circleData.map(function(e){e.bcId==t.currentCircleId&&e.dealers.map(function(e,a){t.map.removeOverlay(t.markers[e.dealerId]),delete t.markers[e.dealerId]})}),this.rawData2.map(function(e,a){var s=t.circleData.findIndex(function(e){return e.bcId==t.currentCircleId});t.addMarker(e,s,"",!1),t.addAutoShopMarker(e,s,"",t.currentCircleId)})},cityName:function(){this.initData()}},methods:{leftPartToggle:function(){this.leftPartStatus=!this.leftPartStatus,b.a.$emit("selectMenuZoom",!0)},getListData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.rawData,e=(this.page-1)*this.pageSize,a=this.pageSize;this.totalPage=Math.ceil(t.length/this.pageSize);var s=[];for(var i in t)i<e||i>=e+a||s.push(t[i]);return s},selectCity:function(t){this.map.setZoom(12),this.map.setCenter(t),this.cityName=t,localStorage.setItem("iways_cityName",t)},filterNetwork:function(t){this.getInBusiCirDealers(t),this.getOutBusiCirDealers(t)},handleShowStyle:function(t){this.show_type=t,this.initOverlay()},jumpToPage:function(t){t<=0?t=1:t>=this.totalPage&&(t=this.totalPage),t!=this.page&&(this.page=t,2==this.scaleType?this.listData2=this.getListData(this.rawData2):this.listData=this.getListData(this.rawData))},initData:function(){this.page=1,this.map.setZoom(12),this.map.clearOverlays(),this.$refs.search.clearData(),this.getBusiCirList(),this.getCityStatistics()},initOverlay:function(){var t=this;this.zoom=Number(this.map.getZoom());var e=this.scaleTypeOptions.findIndex(function(e){return e.zooms.includes(t.zoom)});switch(this.map.clearOverlays(),e){case 0:this.addCircles();break;case 1:this.addCircles(),this.addMarkers(!0);break;case 2:this.addMarkers(!1),this.addAutoShopMarkers()}this.scaleType=e},addCircles:function(){var t=this;this.circleData.map(function(e,a){var s=new BMap.Point(e.geoCoordinate.longitude,e.geoCoordinate.latitude);e.radius=60,t.addCircle(e.bcId,s,e.radius,e.businessCircleName||"商圈"+a,e.businessCircleStatistics.branchCount)})},addCircle:function(t,e,a,s){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"0",n=this;function r(t){this._point=t,this._radius=a}r.prototype=new BMap.Overlay,r.prototype.initialize=function(e){this.map=e;var a=this._div=document.createElement("div");a.style.position="absolute";var r=this,o=this._arrow=document.createElement("a");o.style.zIndex=BMap.Overlay.getZIndex(-this._point.lat),o.setAttribute("class","circle");var l=document.createElement("span");l.appendChild(document.createTextNode(s)),l.setAttribute("title",s),o.appendChild(l);var _=document.createElement("font");_.appendChild(document.createTextNode("经销店数量："));var c=document.createElement("em");return c.appendChild(document.createTextNode(i)),_.appendChild(c),o.appendChild(_),o.addEventListener("click",function(){n.currentCircleId=t,n.currentCircleName=s,n.openCircle()}),o.addEventListener("mouseenter",function(){o.style.zIndex="10000000",n.addCircleInfo(t)}),o.addEventListener("mouseleave",function(){o.style.zIndex=BMap.Overlay.getZIndex(-r._point.lat),n.removeCircleInfo(t)}),a.appendChild(o),this.map.getPanes().labelPane.appendChild(a),a},r.prototype.draw=function(){var t=this.map.pointToOverlayPixel(this._point);this._div.style.left=t.x-parseInt(this._radius)+"px",this._div.style.top=t.y-0+"px"};var o=new r(e);this.map.addOverlay(o),this.circles[t]=o},focusItem:function(t){this.focusCircle(t),this.addCircleInfo(t)},blurItem:function(t){this.blurCirlce(t),this.removeCircleInfo(t)},focusCircle:function(t){this.circles[t]},blurCirlce:function(t){this.circles[t]},selectCircle:function(t,e){this.currentCircleId=t,this.currentCircleName=e,this.openCircle()},openCircle:function(){var t=this.currentCircleId;if(this.circles[t]){var e=this.circles[t]._point;this.page=1,this.zoom=16,this.map.setCenter(e),this.map.setZoom(this.zoom),this.getBusiCirStatistics(),this.getDealerList()}},addCircleInfo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=this.rawData.find(function(e,a){return e.bcId=e.bcId||a+1,e.bcId==t});if(a){e=e||a.businessCircleName||"";var s=a.jpInBusicCirs||"",i=a.jpOutBusiCirs||"",n=a.businessCircleStatistics.bpIsInBusiCir||"",r="",o="";if(s){var l=s.split(",");for(var _ in l)r+="<span>"+l[_]+"</span>";r="<dt>进驻竞品：</dt><dd>"+r+"</dd>"}if(i){var c=i.split(",");for(var d in c)o+="<span>"+c[d]+"</span>";o="<dt>未进驻竞品：</dt><dd>"+o+"</dd>"}var u='<dl class="messageBox">      <h2>'+e+'<small class="stayHead">'+n+"</small></h2>      "+(r||o?r+o:"<div>暂无相关信息</div>")+"</dl>",h=new BMap.InfoWindow(u,{enableAutoPan:!1,offset:new BMap.Size(0,0)}),m=this.circles[t]._point;this.map.openInfoWindow(h,m)}},removeCircleInfo:function(t){this.map.closeInfoWindow()},addIcon:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t=Number(t)%19;var a=this.iconOffset[t],s=e?this.iconOptions.width:1,i=e?this.iconOptions.height:1;return new BMap.Icon("http://i.way-s.cn/static/images/map_icons.png",new BMap.Size(s,i),{imageSize:new BMap.Size(364*this.iconOptions.times,159*this.iconOptions.times),imageOffset:new BMap.Size(a[0],a[1])})},addMarkers:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.circleData.map(function(a,s){a.bcId;a.hasOwnProperty("dealers")&&a.dealers.map(function(a,i){t.addMarker(a,s,i+1,e)})}),this.outDealersData.map(function(a){t.addMarker(a,"-1","",e)})},addMarker:function(t,e,a,s){var i=this,n=new BMap.Point(t.longitude,t.latitude),r=this.addIcon(e,s),o=new BMap.Marker(n,{icon:r});o.addEventListener("click",function(){i.addAutoShopInfo(t,a)}),this.map.addOverlay(o),this.markers[t.dealerId]=o},addAutoShopMarkers:function(){var t=this;this.circleData.map(function(e,a){var s=e.bcId;e.hasOwnProperty("dealers")&&e.dealers.map(function(e,i){t.addAutoShopMarker(e,a,"",s)})}),this.outDealersData.map(function(e){t.addAutoShopMarker(e,"-1","")})},addAutoShopMarker:function(t,e){var a=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if(e=Number(e)%19,this.markers[t.dealerId]){var n=this.markers[t.dealerId],r=new BMap.Label,o=t.dealerNames||[[t.dealerId,t.dealerName,t.dealerAbbreviation,t.manfBrandNames]],l="",_=32;for(var c in o){var d=o[c];if(1==this.show_type){if(d[2]==t.dealerAbbreviation){l=(d[2]||t.dealerAbbreviation)+"("+(d[3]||t.manfBrandNames)+")";break}}else if(2==this.show_type){if(d[3]==t.manfBrandNames){l=d[3]||t.manfBrandNames;break}}else if(3==this.show_type){if(d[1]==t.dealerName){l=d[1]||t.dealerName;break}}else if(d[2]==t.dealerAbbreviation){l=d[2]||t.dealerAbbreviation;break}_+=22}var u='<div class="marker" style="background-color:'+this.color[e]+";top:-"+_+'px;"><span>'+(s?s+".":"")+l+"</span></div>";0==c&&(u+='<div class="markerArrows" style="border-color:'+this.color[e]+" transparent transparent "+this.color[e]+';"></div>'),r.setContent(u),r.setStyle({borderColor:this.color[e],border:0,padding:"0",fontSize:"12px",backgroundColor:"transparent"}),r.addEventListener("click",function(){if(a.addAutoShopInfo(t,s),i){if(i==a.currentCircleId)return;a.currentCircleId=i,a.openCircle()}}),n.setLabel(r)}},addAutoShopInfo:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(t.hasOwnProperty("dealerAbbreviation")){var a=e+" "+(t.dealerAbbreviation||""),s=t.longitude,i=t.latitude;1==this.show_type?a=t.dealerAbbreviation+"("+(t.manfBrandNames||"")+")":2==this.show_type?a=t.manfBrandNames:3==this.show_type&&(a=t.dealerName);var n='<div class="shopBox"><h2>'+a+'</h2><div style="font-size:12px;">        <p>集团归属：<em>'+(t.dealerGroup||"-")+'</em></p>        <p title="'+(t.brandNames||"-")+'">经营品牌：<em>'+(t.brandNames||"-")+'</em></p>        <p title="'+(t.manfNames||"-")+'">合作厂商：<em>'+(t.manfNames||"-")+"</em></p>        <p>注册时间：<em>"+(t.registrationTime||"-")+"</em></p>        <p>注册资金：<em>"+(t.registeredCapital||"-")+(t.capitalUnit||"万元")+"</em></p>        <p>占地面积：<em>"+(t.floorArea||"-")+"</em></p><div><div>      ",r=new BMap.InfoWindow(n),o=new BMap.Point(s,i);this.map.openInfoWindow(r,o)}},getBusiCirList:function(){var t=this;this.cityName&&this.$request.get(this.$interface.getBusiCirList,{header:{token:this.token},cityName:this.cityName},function(e){t.rawData=e.data.length?e.data:[],t.listData=t.getListData(),t.circleData=t.rawData.map(function(t){return t.active=!1,t}),t.getInBusiCirDealers(),t.getOutBusiCirDealers()},this.failure)},getInBusiCirDealers:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.cityName&&(this.loading=!0,this.$request.get(this.$interface.getInBusiCirDealers,{header:{token:this.token},cityName:this.cityName,manfBrandIds:e.manfBrandIds||"",cooperativeNatures:e.cooperativeNatures||"",networkTypes:e.networkTypes||""},function(e){t.dealersData=e.data.length?e.data:[],t.loading=!1},this.failure))},getCityStatistics:function(){var t=this;this.cityName&&this.$request.get(this.$interface.getCityStatistics,{header:{token:this.token},cityName:this.cityName},function(e){t.city_stat=e.data[0]},this.failure)},getBusiCirStatistics:function(){var t=this;this.cityName&&this.$request.get(this.$interface.getBusiCirStatistics,{header:{token:this.token},cityName:this.cityName,bcId:this.currentCircleId},function(e){t.circle_stat=e.data[0]},this.failure)},getDealerList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this.currentCircleId&&(this.loading=!0,this.$request.get(this.$interface.getDealerList,{header:{token:this.token},bcId:this.currentCircleId,manfBrandIds:e.manfBrandIds||"",cooperativeNatures:e.cooperativeNatures||"",networkTypes:e.networkTypes||""},function(e){t.loading=!1;var s=e.data||[];t.rawData2=s,t.listData2=t.getListData(t.rawData2),"function"==typeof a&&a()},this.failure))},getOutBusiCirDealers:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.cityName&&this.$request.get(this.$interface.getOutBusiCirDealers,{header:{token:this.token},cityName:this.cityName,manfBrandIds:e.manfBrandIds||"",cooperativeNatures:e.cooperativeNatures||"",networkTypes:e.networkTypes||""},function(e){t.outDealersData=e.data.length?e.data:[]},this.failure)},queryConditions:function(){var t=this;this.$request.get(this.$interface.queryConditions,{header:{token:this.token},qtype:"1"},function(e){t.cityData=e.data||[]},this.failure),this.$request.get(this.$interface.queryConditions,{header:{token:this.token},qtype:"2"},function(e){t.brandData=e.data||[]},this.failure),this.$request.get(this.$interface.queryConditions,{header:{token:this.token},qtype:"3"},function(e){t.cooperationData=e.data||[]},this.failure),this.$request.get(this.$interface.queryConditions,{header:{token:this.token},qtype:"4"},function(e){t.netPointData=e.data||[]},this.failure)}},components:{BiBar:Rt,BiEmpty:wt.a,BiPanel:v.a,BiSearch:ja}},Wa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cyc-qudao"},[a("bi-bar",{attrs:{columnTitle:"汽车商圈",columnIcon:"icon-map"}},[a("template",{slot:"button"},[a("span")]),t._v(" "),a("template",{slot:"right"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("概览主页")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 渠道管理-汽车商圈")])],1)],1)],2),t._v(" "),a("div",{class:{"shrink-leftPart":!t.leftPartStatus}},[a("bi-panel",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{operating:!1}},[a("bi-search",{ref:"search",attrs:{cityName:t.cityName,city:t.cityData,brand:t.brandData,cooperation:t.cooperationData,netPoint:t.netPointData},on:{selectCity:t.selectCity,filterNetwork:t.filterNetwork,handleShowStyle:t.handleShowStyle}}),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.leftPartStatus,expression:"leftPartStatus"}],staticClass:"leftPart"},["2"!=t.scaleType&&t.listData.length?a("div",[a("dl",{staticClass:"massageBox"},[a("dt",[a("span",{staticStyle:{"max-width":"196px"},attrs:{title:t.cityName+"信息统计"}},[t._v(t._s(t.cityName)+"信息统计")]),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"right-start","popper-class":"popperTip","visible-arrow":"true"}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("span",[a("i",{staticClass:"el-icon-caret-left"}),t._v("商圈数量：")]),t._v(" "),a("p",[t._v("本品进驻商圈数量/城市商圈数量")]),t._v(" "),a("span",[a("i",{staticClass:"el-icon-caret-left"}),t._v("商圈网点：")]),t._v(" "),a("p",[t._v("本品进驻商圈的网点数量/商圈覆盖的网点数量")]),t._v(" "),a("span",[a("i",{staticClass:"el-icon-caret-left"}),t._v("网点占比：")]),t._v(" "),a("p",[t._v("进驻商圈的网点数量占全市网点数量比例/商圈覆盖的网点数量占全市网点数量的比例")])]),t._v(" "),a("i",{staticClass:"iconfont icon-wenhao1"})])],1),t._v(" "),a("dd",[a("em",[t._v("商圈数量(本品/城市)：")]),t._v(t._s(t.city_stat.bpInBusiCirCount||0)+" / "+t._s(t.city_stat.cityBusiCirCount||0))]),t._v(" "),a("dd",[a("em",[t._v("商圈网点(本品/城市)：")]),t._v(t._s(t.city_stat.bpInBusiCirBranCount||0)+" / "+t._s(t.city_stat.busiCirBranCount||0))]),t._v(" "),a("dd",[a("em",[t._v("网点占比(本品/城市)：")]),t._v(t._s(t._f("number_format")(t._f("multiply")(t.city_stat.bpInBusiCirRate,100),1))+"% / "+t._s(t._f("number_format")(t._f("multiply")(t.city_stat.inBusiCirBranCityRate,100),1))+"%")])]),t._v(" "),a("div",{staticClass:"businessPage"},[a("el-scrollbar",{staticStyle:{width:"100%",height:"100%"}},t._l(t.listData,function(e,s){return a("dl",{class:{hoverClass:1,on:e.active},on:{mouseenter:function(a){t.focusItem(e.bcId)},mouseleave:function(a){t.blurItem(e.bcId)},click:function(a){t.selectCircle(e.bcId,e.businessCircleName)}}},[a("dt",[a("p",{attrs:{title:e.businessCircleName}},[t._v(t._s((t.page-1)*t.pageSize+s+1)+" "+t._s(e.businessCircleName))]),"未进驻"!=e.businessCircleStatistics.bpIsInBusiCir?a("small",{staticClass:"stayBody"},[t._v(t._s(e.businessCircleStatistics.bpIsInBusiCir))]):t._e()]),t._v(" "),a("dd",[t._v("商圈网点数量："),a("i",[t._v(t._s(e.businessCircleStatistics.branchCount||0))])]),t._v(" "),a("dd",[t._v("竞品进驻数量："),a("i",[t._v(t._s(t._f("number_format")(e.businessCircleStatistics.jpInBusiCirCount)))])])])}))],1),t._v(" "),a("el-row",{staticClass:"paging"},[a("el-col",{class:{able:t.page-1>=1},attrs:{span:9}},[a("span",{on:{click:function(e){t.jumpToPage(t.page-1)}}},[t._v("上一页")])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",[t._v(t._s(t.page))]),t._v("/"),a("span",{staticClass:"totalPage"},[t._v(t._s(t.totalPage))])]),t._v(" "),a("el-col",{class:{able:t.page+1<=t.totalPage},attrs:{span:9}},[a("span",{on:{click:function(e){t.jumpToPage(t.page+1)}}},[t._v("下一页")])])],1)],1):"2"==t.scaleType&&t.listData2.length?a("div",[a("dl",{staticClass:"massageBox"},[a("dt",[a("span",{staticStyle:{"max-width":"162px"},attrs:{title:t.circle_stat.businessCircleName}},[t._v(t._s(t.circle_stat.businessCircleName))]),t._v(" "),a("small",{staticClass:"stayHead"},[t._v(t._s(t.circle_stat.bpIsInBusiCir))])]),t._v(" "),a("dd",[a("em",[t._v("网点数量：")]),t._v(t._s(t.circle_stat.branchCount||0))]),t._v(" "),a("dd",[a("em",[t._v("进驻竞品数量：")]),t._v(t._s(t.circle_stat.jpInBusiCirCount))])]),t._v(" "),a("div",{staticClass:"shopPage"},[a("el-scrollbar",{staticStyle:{width:"100%",height:"100%"}},t._l(t.listData2,function(e,s){return a("dl",{class:{hoverClass:1,on:e.active},on:{click:function(a){t.addAutoShopInfo(e,(t.page-1)*t.pageSize+s+1)}}},[a("dt",{attrs:{title:e.dealerName}},[t._v(t._s((t.page-1)*t.pageSize+s+1)+" "+t._s(e.dealerName))]),t._v(" "),a("dd",[t._v("经营品牌："),a("i",{attrs:{title:e.manfNames}},[t._v(t._s(e.manfNames))])]),t._v(" "),a("dd",[t._v("去年网点销量："),a("i",[t._v("--台")])])])}))],1),t._v(" "),a("el-row",{staticClass:"paging"},[a("el-col",{class:{able:t.page-1>=1},attrs:{span:9}},[a("span",{on:{click:function(e){t.jumpToPage(t.page-1)}}},[t._v("上一页")])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("span",[t._v(t._s(t.page))]),t._v("/"),a("span",{staticClass:"totalPage"},[t._v(t._s(t.totalPage))])]),t._v(" "),a("el-col",{class:{able:t.page+1<=t.totalPage},attrs:{span:9}},[a("span",{on:{click:function(e){t.jumpToPage(t.page+1)}}},[t._v("下一页")])])],1)],1):t.loading?a("div",{staticClass:"netError"}):a("div",{staticClass:"netError"},[a("bi-empty",{attrs:{"show-result":!1}},[a("span",{attrs:{slot:"tips"},slot:"tips"},[t._v("暂无数据")])])],1)]),t._v(" "),a("div",{staticClass:"rightPart"},[a("div",{staticClass:"XSDFXPage",attrs:{id:"XSDFXPage"}}),t._v(" "),t.leftPartStatus?a("div",{staticClass:"menu-second-zoom closePanel",on:{click:t.leftPartToggle}},[a("i",{staticClass:"iconfont icon-back",staticStyle:{"font-size":"16px"}})]):t._e()])],1)],1)],1)},staticRenderFns:[]};var Ya=a("Z0/y")(Va,Wa,!1,function(t){a("0OlB")},"data-v-15dfefc0",null).exports,Ua={name:"",mixins:[g.a],data:function(){return{manfOnClass:!1,manfNotClass:!1,displayResult:"all",DialogVisible:!1,manfs_group:[],dialogVisible:!1,loading:!0,brands:[],raw_models:[],selected_manf_name:"",selected_brand_name:"",show_type:1,page_size:20,page:1,records:0,letter_selected:{manfsBox:"A"},manfs_static:[],manf_max:8}},mounted:function(){var t=this;this.getToken(function(){t.GET_COMMON_MANFS_BRANDS(),t.GET_COMMON_COMPETITORS(),t.GET_COMMON_VALID_DATE()})},computed:{models:function(){var t={};return this.raw_models.map(function(e){t[e.sub_model_id]=e}),t},manfs_map_by_name:function(){var t={};return this.manfs_group.map(function(e){e.manf_brands.map(function(e){t[e.manf_name]=e})}),t}},watch:{show_type:function(){this.page=1,this.GET_COMMON_COMPETITORS([this.selected_manf_name],[this.selected_brand_name])}},methods:{selectLetter:function(t,e){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.letter_selected[t]=e;var s=document.querySelector("#"+t);if(s){var i=s.querySelector('[data-key="'+e+'"]').offsetTop-s.offsetTop-10;setTimeout(function(){a?A()("#"+t).animate({scrollTop:i},300,"swing"):A()("#"+t).scrollTop(i)},10)}},handleSelectManf:function(t,e){this.changeManf(e),this.DialogVisible=!1;var a=this.manf_max,s=this.manfs_static.findIndex(function(t,a){return t.manf_name==e});this.manfs_static.length==a?this.manfs_static.splice(this.manfs_static.length-1,1,{manf_id:t,manf_name:e}):-1==s&&this.manfs_static.push({manf_id:t,manf_name:e})},changeManf:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.selected_manf_name=t,this.selected_brand_name="",this.page=1,this.GET_COMMON_COMPETITORS([this.selected_manf_name]),this.manfs_map_by_name[t]?this.brands=this.manfs_map_by_name[t].brands||[]:this.brands=[]},changeBrand:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.selected_brand_name=t,this.page=1,this.GET_COMMON_COMPETITORS([this.selected_manf_name],[this.selected_brand_name])},GET_COMMON_MANFS_BRANDS:function(){var t=this;this.$request.get(this.$interface.GET_COMMON_MANFS_BRANDS,{header:{token:this.token}},function(e){t.manfs_group=e.data||[],t.manfs_group.map(function(e){e.manf_brands.map(function(e){t.manfs_static.length>=t.manf_max||t.manfs_static.push({manf_id:e.manf_id,manf_name:e.manf_name})})})},this.failure)},GET_COMMON_COMPETITORS:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.$request.get(this.$interface.GET_COMMON_COMPETITORS,{header:{token:this.token},manf_names:e.length>0?e.join(","):"",brand_names:a.length>0?a.join(","):"",type:this.show_type,rows:this.page_size,page:this.page},function(e){t.raw_models=[],t.records=0,e.data.length<=0||(t.raw_models=e.data[0].list,t.records=e.data[0].total,t.loading=!1)},this.failure)},GET_COMMON_VALID_DATE:function(){var t=this;this.$request.get(this.$interface.GET_COMMON_VALID_DATE,{header:{token:this.token}},function(e){t.part_date=e.data[0].part_date,t.this_year_month=Math.max.apply(Math,l()(t.part_date))+""},this.failure)},isOpenDialogVisible:function(t){this.$emit("openTheDialog",t)}},components:{BiBar:Rt,BiPanel:v.a,BiEmpty:wt.a}},Ha={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cyc-shouhou"},[a("bi-bar",{attrs:{columnTitle:"售后概况",columnIcon:"icon-shouhou"}},[a("template",{slot:"button"}),t._v(" "),a("template",{slot:"right"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("概览主页")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 售后服务-售后概况")])],1)],1)],2),t._v(" "),a("div",{staticClass:"content"},[a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[t._v("\n        请选择筛选条件\n      ")]),t._v(" "),a("div",{staticClass:"condition"},[a("dl",[a("dt",[t._v("厂商：")]),t._v(" "),a("dd",{staticClass:"cont"},[a("span",{class:{on:""==t.selected_manf_name},on:{click:function(e){t.changeManf()}}},[t._v("不限")]),t._v(" "),t._l(t.manfs_static,function(e){return a("span",{class:{on:e.manf_name==t.selected_manf_name},on:{click:function(a){t.changeManf(e.manf_name)}}},[t._v(t._s(e.manf_name))])})],2),t._v(" "),a("dd",{staticClass:"more"},[a("el-dialog",{attrs:{title:"请选择厂商",visible:t.DialogVisible,"append-to-body":!0,"custom-class":"dialog-va",width:"900px","lock-scroll":!1,center:""},on:{"update:visible":function(e){t.DialogVisible=e},open:function(e){t.isOpenDialogVisible(!0)},close:function(e){t.isOpenDialogVisible(!1)}}},[a("div",{staticClass:"cont"},[a("ul",t._l(t.manfs_group,function(e){return a("li",{on:{click:function(a){t.selectLetter("manfsBox",e.py_first_letter)}}},[t._v(t._s(e.py_first_letter))])})),t._v(" "),a("div",{attrs:{id:"manfsBox"}},t._l(t.manfs_group,function(e){return a("dl",[a("dt",{attrs:{"data-key":e.py_first_letter}},[t._v(t._s(e.py_first_letter))]),t._v(" "),a("dd",t._l(e.manf_brands,function(e){return a("span",{on:{click:function(a){t.handleSelectManf(e.manf_id,e.manf_name)}}},[t._v(t._s(e.manf_name))])}))])}))]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.DialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.DialogVisible=!1}}},[t._v("确 定")])],1)])],1)]),t._v(" "),a("dl",[a("dt",[t._v("品牌：")]),t._v(" "),a("dd",[a("span",{class:{on:""==t.selected_brand_name},on:{click:function(e){t.changeBrand()}}},[t._v("不限")]),t._v(" "),t._l(t.brands,function(e){return a("span",{class:{on:e.brand_name==t.selected_brand_name},on:{click:function(a){t.changeBrand(e.brand_name)}}},[t._v(t._s(e.brand_name))])})],2)])])],2),t._v(" "),a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[t._v("本品与竞品列表")]),t._v(" "),a("template",{slot:"others"},[a("span",{staticClass:"title-btn"},[a("font",{class:{on:"1"==t.show_type},on:{click:function(e){t.show_type="1"}}},[t._v("全部")]),t._v(" "),a("font",{class:{on:"2"==t.show_type},on:{click:function(e){t.show_type="2"}}},[t._v("只显示本品")]),t._v(" "),a("font",{class:{on:"3"==t.show_type},on:{click:function(e){t.show_type="3"}}},[t._v("只显示竞品")])],1)]),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{"min-height":"300px"},attrs:{"element-loading-background":"#fff"}},[t.records>0?a("div",{staticClass:"list"},["1"==t.show_type?a("div",[a("h3",[a("span",[t._v("本品车型")]),t._v("\n              竞品车型\n            ")]),t._v(" "),t._l(t.models,function(e){return a("router-link",{key:e.sub_model_id,attrs:{to:"/zhiku/sh/detail?sub_model_id="+e.sub_model_id,target:"_blank"}},[a("dl",[a("dt",[a("span",{staticClass:"box"},[a("span",[a("img",{attrs:{src:e.sub_model_logo_url||"static/images/nocar.png",alt:""}})]),t._v(" "),a("cite",[t._v(t._s(e.sub_model_name))])])]),t._v(" "),a("dd",t._l(e.competitors,function(e){return a("span",{key:e.sub_model_id,staticClass:"box"},[a("span",[a("img",{attrs:{src:e.sub_model_logo_url||"static/images/nocar.png",alt:""}})]),t._v(" "),a("cite",[t._v(t._s(e.sub_model_name))])])}))])])})],2):"2"==t.show_type?a("div",[a("h3",[a("span",[t._v("本品车型")])]),t._v(" "),a("ul",{staticClass:"every-box"},t._l(t.models,function(e){return a("li",[a("router-link",{staticClass:"box",attrs:{to:"/zhiku/sh/detail?sub_model_id="+e.sub_model_id,target:"_blank"}},[a("span",[a("img",{attrs:{src:e.sub_model_logo_url||"static/images/nocar.png",alt:""}})]),t._v(" "),a("cite",[t._v(t._s(e.sub_model_name))])])],1)}))]):a("div",[a("h3",[a("span",[t._v("竞品车型")])]),t._v(" "),a("ul",{staticClass:"every-box noclick"},t._l(t.models,function(e){return a("li",[a("span",{key:e.sub_model_id,staticClass:"box"},[a("span",[a("img",{attrs:{src:e.sub_model_logo_url||"static/images/nocar.png",alt:""}})]),t._v(" "),a("cite",[t._v(t._s(e.sub_model_name))])])])}))]),t._v(" "),a("div",{staticClass:"pagination-box"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","prev-text":"上一页","next-text":"下一页","current-page":t.page,"page-size":t.page_size,total:t.records},on:{"current-change":t.GET_COMMON_COMPETITORS,"update:currentPage":function(e){t.page=e}}})],1)]):a("div",{staticClass:"search-result"},[t.loading?t._e():a("temlate",[a("bi-empty",{staticStyle:{"margin-bottom":"70px","margin-top":"40px"}},[a("span",{attrs:{slot:"tips"},slot:"tips"},[t._v("亲爱的，暂无您要搜索的数据，如有需要，请联系客服人员。")])])],1)],1)])],2)],1)],1)},staticRenderFns:[]};var Za=a("Z0/y")(Ua,Ha,!1,function(t){a("zgrf")},"data-v-1e2de795",null).exports,Ka={name:"",mixins:[g.a],data:function(){return{checkList:["number1","number2"],sub_model:{},competitors:[],raw_models:[],part_date:[],model_id:this.$route.query.sub_model_id,ruleForm:{model_id:"",compete_model_ids:[]},rules:{model_id:[{required:!0,message:"请选择本品车型",trigger:"change"}],compete_model_ids:[{required:!0,message:"请选择竞品车型",trigger:"change"}]},searchData:[],optionA:{},manfs_group:[],letter_selected:{manfsBox:"A"},manf_selected:"",showPopover:!1,loading:!0}},mounted:function(){this.ruleForm.model_id=Number(this.model_id),this.GET_COMMON_VALID_DATE(),this.GET_COMMON_MANFS_BRANDS(),this.GET_COMMON_COMPETITORS()},computed:{pickerOptions:function(){var t=this;return{disabledDate:function(e){var a=Math.min.apply(Math,l()(t.part_date))+"",s=Math.max.apply(Math,l()(t.part_date))+"";if(a&&s){var i=a.substr(0,4)+"/"+a.substr(4,2)+"/01",n=s.substr(0,4)+"/"+s.substr(4,2)+"/01";return i=Date.parse(new Date(i)),n=Date.parse(new Date(n)),e&&e.valueOf()<i||e&&e.valueOf()>n}return e}}},models_grouped:function(){var t={};return this.raw_models.map(function(e){t[e.manf_brand_name]||(t[e.manf_brand_name]={},t[e.manf_brand_name].label=e.manf_brand_name,t[e.manf_brand_name].options=[]),t[e.manf_brand_name].options.push(e)}),t},models:function(){var t={};return this.raw_models.map(function(e){t[e.sub_model_id]=e}),t}},watch:{models:function(){if(this.models){if(this.sub_model=this.models[this.ruleForm.model_id]||{},!this.sub_model.sub_model_name)return void this.$router.replace({path:"/home"});this.handle_selected_models(),this.GET_SEARCH_DATA()}}},methods:{getOption:function(){return{backgroundColor:"#fff",color:"#384757",tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#384757"}},formatter:function(t){var e="";for(var a in t){var s=t[a];0==a&&(e+=s.name+"</br>"),s.seriesIndex<2?e+=s.seriesName+":"+parseFloat(s.value).toFixed(0)+"</br>":e+=s.seriesName+":"+s.value+"</br>"}return e}},legend:{data:[{name:"含税经销商进货价",icon:"circle",textStyle:{color:"#7d838b"}},{name:"含税经销商销售价",icon:"circle",textStyle:{color:"#7d838b"}},{name:"加价率(%)",icon:"circle",textStyle:{color:"#7d838b"}}],top:"2",textStyle:{color:"#fff"}},xAxis:[{axisLine:{show:!1,lineStyle:{color:"#999"}},splitLine:{show:!1},axisLabel:{show:!0,rotate:0},axisTick:{show:!1},data:this.model_data}],yAxis:[{type:"value",name:"单位：元",nameTextStyle:{color:"#7d838b"},min:0,axisLabel:{formatter:"{value} "},splitLine:{lineStyle:{color:"#f2f2f2"}},axisTick:{show:!1},axisLine:{show:!1,lineStyle:{color:"#999"}}},{type:"value",name:"加价率(%)",show:!0,position:"right",axisLabel:{show:!0,formatter:"{value} %",textStyle:{color:"#7d838b"}},splitLine:{lineStyle:{color:"#f2f2f2"}},axisTick:{show:!1},axisLine:{show:!1,lineStyle:{color:"#999"}}}],grid:{x:"自适应",top:55,bottom:50,right:30,width:"自适应",height:"自适应",containLabel:!0},dataZoom:[{show:!0,height:30,xAxisIndex:[0],bottom:0,start:0,end:100,handleIcon:"path://M306.1,413c0,2.2-1.8,4-4,4h-59.8c-2.2,0-4-1.8-4-4V200.8c0-2.2,1.8-4,4-4h59.8c2.2,0,4,1.8,4,4V413z",handleSize:"110%",handleStyle:{color:"#d3dee5"},textStyle:{color:"#fff"},borderColor:"#90979c"},{type:"inside",show:!0,height:15,start:1,end:35}],series:[{name:"含税经销商进货价",type:"bar",data:this.purch_price_data,barWidth:"40",itemStyle:{normal:{color:"#00b4f3",barBorderRadius:0,label:{show:!0,position:"top",formatter:function(t){return t.value>0?parseFloat(t.value).toFixed(2):""}}}},markLine:{label:{normal:{show:!0,position:"start"}},lineStyle:{normal:{type:"dashed",color:"#f04048"}},animationDuration:3e3,data:[{type:"average",name:"平均值",valueIndex:1}]}},{name:"含税经销商销售价",type:"bar",data:this.sell_price_data,barWidth:"40",itemStyle:{normal:{color:"#d1e0e7",barBorderRadius:0,label:{show:!0,position:"top",color:"#666",formatter:function(t){return t.value>0?parseFloat(t.value).toFixed(2):""}}}},markLine:{lineStyle:{normal:{type:"dashed",color:"#f04048"}},animationDuration:3e3,label:{normal:{show:!0,position:"start"}},data:[{type:"average",name:"平均值:{b}:{c}",valueIndex:1}]}},{name:"加价率(%)",type:"line",yAxisIndex:1,data:this.rising_rate_data,itemStyle:{normal:{color:"#ffaa00"}},smooth:!0}]}},selectLetter:function(t,e){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.letter_selected[t]=e;var s=document.querySelector("#"+t);if(s){var i=s.querySelector('[data-key="'+e+'"]').offsetTop-s.offsetTop-10;setTimeout(function(){a?A()("#"+t).animate({scrollTop:i},300,"swing"):A()("#"+t).scrollTop(i)},10)}},selectManf:function(t){this.manf_selected=t,this.models_grouped[this.manf_selected]},selectModel:function(t,e){this.$router.push({path:"/zhiku/sh/detail",query:{sub_model_id:t,spm:this.spm}})},handle_selected_models:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.ruleForm.model_id=t||this.ruleForm.model_id,this.sub_model=this.models[this.ruleForm.model_id]||{},this.competitors=this.models[this.ruleForm.model_id].competitors,this.ruleForm.compete_model_ids=this.competitors.map(function(t){return t.sub_model_id}),this.GET_SEARCH_DATA(),this.$router.push({path:"/zhiku/sh/detail",query:{sub_model_id:this.ruleForm.model_id}}),this.showPopover=!1},GET_COMMON_MANFS_BRANDS:function(){var t=this;this.$request.get(this.$interface.GET_COMMON_MANFS_BRANDS,{header:{token:this.token}},function(e){t.manfs_group=e.data},this.failure)},GET_COMMON_COMPETITORS:function(){var t=this;this.$request.get(this.$interface.GET_COMMON_COMPETITORS,{header:{token:this.token},type:1,rows:1e5},function(e){t.raw_models=e.data[0].list},this.failure)},GET_COMMON_VALID_DATE:function(){var t=this;this.$request.get(this.$interface.GET_COMMON_VALID_DATE,{header:{token:this.token}},function(e){t.part_date=e.data[0].part_date,t.this_year_month=Math.max.apply(Math,l()(t.part_date))+""},this.failure)},GET_SEARCH_DATA:function(){var t=this;this.$refs.ruleForm.validate(function(e){if(!e)return!1;t.$request.get(t.$interface.GET_PART_PRICE_SUM,{header:{token:t.token},ym:t.this_year_month||"201801",bp_sub_model_id:t.ruleForm.model_id,jp_sub_model_ids:t.ruleForm.compete_model_ids.length?t.ruleForm.compete_model_ids.join(","):""},function(e){t.optionA={},t.model_data=[],t.purch_price_data=[],t.sell_price_data=[],t.rising_rate_data=[],t.searchData=e.data||[],t.searchData.length>0&&t.searchData.map(function(e){t.model_data.push(e.sub_model_name),t.purch_price_data.push(e.purch_price),t.sell_price_data.push(e.sell_price),t.rising_rate_data.push((100*e.rising_rate).toFixed(2))}),t.$nextTick(function(){this.optionA=this.getOption(),this.loading=!1})},t.failure)})}},components:{BiBar:Rt,BiPanel:v.a,BiChart:B,BiEmpty:wt.a}},Xa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cyc-shouhou-detail"},[a("bi-bar",{attrs:{columnTitle:"车型详情",columnIcon:"icon-bingtu"}},[a("template",{slot:"button"},[a("span",[t._v("当前数据时间：")]),t._v(" "),a("el-date-picker",{staticStyle:{width:"120px"},attrs:{"prefix-icon":"change-data-button",format:"yyyy/MM","value-format":"yyyyMM","picker-options":t.pickerOptions,editable:!1,clearable:!1,type:"month"},on:{change:t.GET_SEARCH_DATA},model:{value:t.this_year_month,callback:function(e){t.this_year_month=e},expression:"this_year_month"}})],1),t._v(" "),a("template",{slot:"right"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("概览主页")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/zhiku/sh"}}},[t._v("售后概况")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 车型详情")])],1)],1)],2),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"condition"},[a("h3",[a("el-popover",{ref:"popover",attrs:{placement:"bottom-start","popper-class":"padding0"},model:{value:t.showPopover,callback:function(e){t.showPopover=e},expression:"showPopover"}},[a("div",{staticClass:"popover-selection",staticStyle:{height:"260px","overflow-y":"auto"}},t._l(t.models_grouped,function(e){return a("dl",{key:e.label},[a("dt",[t._v(t._s(e.label))]),t._v(" "),t._l(e.options,function(e){return a("dd",{key:e.sub_model_id,on:{click:function(a){t.handle_selected_models(e.sub_model_id)}}},[t._v(t._s(e.sub_model_name))])})],2)}))]),t._v(" "),a("span",{staticClass:"left"},[t._v("\n          本品车型\n          "),a("button",{directives:[{name:"popover",rawName:"v-popover:popover",arg:"popover"}]},[t._v("更换")])]),t._v("\n          竞品车型\n        ")],1),t._v(" "),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"100px"}},[t.sub_model?a("dl",[a("dt",[a("span",{staticClass:"imgbox noborder"},[a("img",{attrs:{src:t.sub_model.sub_model_logo_url||"static/images/nocar.png",alt:""}})]),t._v(" "),a("cite",[t._v(t._s(t.sub_model.sub_model_name))])]),t._v(" "),a("dd",[a("el-checkbox-group",{model:{value:t.ruleForm.compete_model_ids,callback:function(e){t.$set(t.ruleForm,"compete_model_ids",e)},expression:"ruleForm.compete_model_ids"}},t._l(t.competitors,function(e){return a("div",[a("span",{class:["imgbox",{on:t.ruleForm.compete_model_ids.indexOf(e.sub_model_id)>=0}]},[a("el-checkbox",{staticClass:"checkbox",attrs:{label:e.sub_model_id},on:{change:t.GET_SEARCH_DATA}}),t._v(" "),a("img",{attrs:{src:e.sub_model_logo_url||"static/images/nocar.png",alt:""}})],1),t._v(" "),a("cite",[t._v(t._s(e.sub_model_name))])])})),t._v(" "),a("el-popover",{ref:"popover2",attrs:{placement:"bottom-start",title:"标题","popper-class":"padding0"}},[a("div",[t._v("\n                  123\n                ")])]),t._v(" "),t._e()],1)]):t._e()])],1),t._v(" "),a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[t._v("\n          "+t._s(t.sub_model.sub_model_name)+"与竞品车型总体配件价格比较\n        ")]),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{"min-height":"300px"}},[t.searchData.length?a("div",{staticClass:"result",staticStyle:{width:"100%"}},[a("bi-chart",{staticStyle:{height:"500px",width:"100%"},attrs:{id:"chart_a",option:t.optionA}})],1):a("div",{staticClass:"result"},[t.loading?t._e():[a("bi-empty")]],2)])],2)],1)],1)},staticRenderFns:[]};var Ja=a("Z0/y")(Ka,Xa,!1,function(t){a("bSoc")},"data-v-9bebc582",null).exports,Qa=a("aA9S"),ts=a.n(Qa),es={mixins:[g.a],data:function(){var t;return{selectOnClass:!1,searchType:"",formName:"",searchData:[],pageSize:10,searchPage:1,searchRecords:0,part_code:this.$route.query.keyword||"",part_date:[],where:[],firstLoad:!0,loading:!1,raw_models:[],competitors:[],part_categories:{},raw_parts:[],isCheckAll:!1,ruleForm:{model_id:"",compete_model_ids:[],part_category_id:"",part_ids:[]},rules:{model_id:[{required:!0,message:"请选择本品车型",trigger:"change"}],compete_model_ids:[{required:!0,message:"请选择竞品车型",trigger:"change"}],part_category_id:[{required:!0,message:"请选择配件分类",trigger:"change"}],part_ids:[{required:!0,message:"请选择配件名称",trigger:"change"}]},ruleForm2:{part_code:""},rules2:{part_code:[{required:!0,message:"请输入配件编号",trigger:"blur"}]},custom_fields:[],columns:[{label:"序号",width:"50",type:"index",fixed:"left",show:!0},{label:"车型",value:"sub_model_name",width:"150",fixed:"left",show:!0},{label:"配件名称",value:"part_name",width:"150",fixed:"left",show:!0},{label:"配件编号",value:"part_code",width:"180",show:!0},(t={label:"配件分类",width:"80",value:"part_type"},O()(t,"width","100"),O()(t,"show",!1),t),{label:"不含税进货价",value:"pretax_purch_price",width:"150",show:!1},{label:"含税进货价",value:"purch_price",width:"150",show:!0},{label:"不含税销售价",value:"pretax_sell_price",width:"150",show:!1},{label:"含税销售价",value:"sell_price",width:"150",show:!0},{label:"备注",value:"remark",width:"150","show-overflow-tooltip":!0,show:!0}],custom_columns:[{label:"不含税进货价",value:"pretax_purch_price"},{label:"不含税销售价",value:"pretax_sell_price"},{label:"配件分类",value:"part_type"}]}},watch:{custom_fields:function(){var t=this,e=this.custom_columns.map(function(t){return t.value});this.columns.map(function(a){return e.includes(a.value)?(t.custom_fields.includes(a.value)?a.show=!0:a.show=!1,a):a})}},computed:{pickerOptions:function(){var t=this;return{disabledDate:function(e){var a=Math.min.apply(Math,l()(t.part_date))+"",s=Math.max.apply(Math,l()(t.part_date))+"";if(a&&s){var i=a.substr(0,4)+"/"+a.substr(4,2)+"/01",n=s.substr(0,4)+"/"+s.substr(4,2)+"/01";return i=Date.parse(new Date(i)),n=Date.parse(new Date(n)),e&&e.valueOf()<i||e&&e.valueOf()>n}return e}}},searchStatusText:function(){return this.searchType?"搜索":"下一步"},models_grouped:function(){var t={};return this.raw_models.map(function(e){t[e.manf_brand_name]||(t[e.manf_brand_name]={},t[e.manf_brand_name].label=e.manf_brand_name,t[e.manf_brand_name].options=[]),t[e.manf_brand_name].options.push(e)}),t},models:function(){var t={};return this.raw_models.map(function(e){t[e.sub_model_id]=e}),t},parts:function(){if(0==this.raw_parts.length)return[];var t={0:{part_id:0,part_name:"选择全部"}};return this.raw_parts.map(function(e){t[e.part_id]=e}),t},competitors_grouped:function(){var t={};return this.competitors.map(function(e){t[e.manf_brand_name]||(t[e.manf_brand_name]={},t[e.manf_brand_name].label=e.manf_brand_name,t[e.manf_brand_name].options=[]),t[e.manf_brand_name].options.push(e)}),t}},mounted:function(){var t=this;this.getToken(function(){t.GET_COMMON_VALID_DATE(),t.GET_COMMON_COMPETITORS()})},methods:{handle_selected_models:function(){this.competitors=this.models[this.ruleForm.model_id].competitors,this.ruleForm.compete_model_ids=this.competitors.map(function(t){return t.sub_model_id}),this.clearValidate("ruleForm"),this.handle_selected_competitors(this.ruleForm.compete_model_ids)},handle_selected_competitors:function(){this.part_categories={},this.raw_parts=[],this.ruleForm.part_category_id="",this.ruleForm.part_ids=[],this.GET_PART_TYPES()},handle_selected_cate:function(){this.ruleForm.part_ids=[];var t=this.ruleForm.part_category_id;this.part_categories[t]&&(this.raw_parts=this.part_categories[t].parts||[],this.isCheckAll=!1)},handle_selected_parts:function(t,e){this.checkAll()},handle_clear_cate:function(){this.raw_parts=[],this.ruleForm.part_ids=[]},checkAll:function(){var t=this,e=!1;this.ruleForm.part_ids.includes(0)&&(e=!0),e&&(this.ruleForm.part_ids=[],this.isCheckAll=!this.isCheckAll,this.isCheckAll&&this.raw_parts.map(function(e){t.ruleForm.part_ids.push(e.part_id)})),this.isCheckAll=this.ruleForm.part_ids.length==this.raw_parts.length},gotoback:function(){this.searchType="",this.formName="",this.clearValidate("ruleForm"),this.clearValidate("ruleForm2"),this.competitors=[],this.part_categories={},this.raw_parts=[],this.searchRecords=0,this.searchData=[],this.ruleForm={model_id:"",compete_model_ids:[],part_category_id:"",part_ids:[]},this.isCheckAll=!1,this.ruleForm2={part_code:""}},GET_COMMON_COMPETITORS:function(){var t=this;this.$request.get(this.$interface.GET_COMMON_COMPETITORS,{header:{token:this.token},type:1,rows:1e5},function(e){t.raw_models=e.data[0].list},this.failure)},GET_PART_TYPES:function(){var t=this;!this.ruleForm.model_id||this.ruleForm.compete_model_ids.length<=0||this.$request.get(this.$interface.GET_PART_TYPES,{header:{token:this.token},ym:this.this_year_month||"201801",bp_sub_model_id:this.ruleForm.model_id,jp_sub_model_ids:this.ruleForm.compete_model_ids.join(","),type:"0"},function(e){t.ruleForm.part_category_id="",t.ruleForm.part_ids=[];var a={};e.data.map(function(t,e){a[t.type_id]=t}),t.$nextTick(function(){t.part_categories=a})},this.failure)},GET_COMMON_VALID_DATE:function(){var t=this;this.$request.get(this.$interface.GET_COMMON_VALID_DATE,{header:{token:this.token}},function(e){t.part_date=e.data[0].part_date,t.this_year_month=Math.max.apply(Math,l()(t.part_date))+""},this.failure)},GET_SEARCH_DATA:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";this.searchPage=t,this.searchType=a||this.searchType,this.formName=s||this.formName,this.$refs[this.formName].validate(function(t){if(!t)return!1;e.loading=!0,e.$request.get(e.$interface.GET_PART_PRICES,{header:{token:e.token},ym:e.this_year_month||"201801",bp_sub_model_id:e.ruleForm.model_id,jp_sub_model_ids:e.ruleForm.compete_model_ids.length?e.ruleForm.compete_model_ids.join(","):"",part_type_ids:e.ruleForm.part_category_id,part_ids:e.ruleForm.part_ids.length?e.ruleForm.part_ids.join(","):"",part_code:e.ruleForm2.part_code,page:e.searchPage,rows:e.pageSize},function(t){var a=[];(t.data[0].list||[]).map(function(t){var e=t.part_prices||{};e&&e.length>0&&e.map(function(e){a.push(ts()(e,{sub_model_id:t.sub_model_id,sub_model_name:t.sub_model_name}))})}),e.searchData=a,e.firstLoad=!1,e.loading=!1,e.searchRecords=t.data[0].total||0},e.failure)})}},components:{BiBar:Rt,BiPanel:v.a,BiEmpty:wt.a}},as={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cyc-shouhou-main"},[a("bi-bar",{attrs:{columnTitle:"配件价格查询",columnIcon:"icon-shouhou"}},[a("template",{slot:"button"},[a("span",[t._v("当前数据时间：")]),t._v(" "),a("el-date-picker",{staticStyle:{width:"120px"},attrs:{"prefix-icon":"change-data-button",format:"yyyy/MM","value-format":"yyyyMM","picker-options":t.pickerOptions,editable:!1,clearable:!1,type:"month"},on:{change:t.GET_PART_TYPES},model:{value:t.this_year_month,callback:function(e){t.this_year_month=e},expression:"this_year_month"}})],1),t._v(" "),a("template",{slot:"right"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("概览主页")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/zhiku/sh"}}},[t._v("售后概况")]),t._v(" "),a("el-breadcrumb-item",[t._v("配件价格查询")])],1)],1)],2),t._v(" "),a("div",{staticClass:"content"},[a("bi-panel",{directives:[{name:"show",rawName:"v-show",value:2!=t.searchType,expression:"searchType != 2"}],attrs:{operating:!1}},[a("template",{slot:"title"},[a("font",[t._v("按条件查询")])],1),t._v(" "),a("div",{staticClass:"search-condition"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"100px","label-position":"top"}},[a("div",{staticClass:"clear",staticStyle:{"margin-bottom":"20px"}},[a("div",{staticClass:"popover-box"},[a("el-form-item",{attrs:{label:"本品车型",prop:"model_id"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:""},on:{change:t.handle_selected_models},model:{value:t.ruleForm.model_id,callback:function(e){t.$set(t.ruleForm,"model_id",e)},expression:"ruleForm.model_id"}},t._l(t.models_grouped,function(e){return a("el-option-group",{key:e.label,attrs:{label:e.label}},t._l(e.options,function(t){return a("el-option",{key:t.sub_model_id,attrs:{label:t.sub_model_name,value:t.sub_model_id}})}))}))],1)],1),t._v(" "),a("div",{staticClass:"popover-box",staticStyle:{"min-width":"400px"}},[a("el-form-item",{attrs:{label:"竞品车型",prop:"compete_model_ids"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"请选择"},on:{change:t.handle_selected_competitors},model:{value:t.ruleForm.compete_model_ids,callback:function(e){t.$set(t.ruleForm,"compete_model_ids",e)},expression:"ruleForm.compete_model_ids"}},t._l(t.competitors_grouped,function(e){return a("el-option-group",{key:e.label,attrs:{label:e.label}},t._l(e.options,function(t){return a("el-option",{key:t.sub_model_id,attrs:{label:t.sub_model_name,value:t.sub_model_id}})}))}))],1)],1)]),t._v(" "),a("div",{staticClass:"clear",staticStyle:{"margin-bottom":"20px"}},[a("div",{staticClass:"popover-box"},[a("el-form-item",{attrs:{label:"配件分类",prop:"part_category_id"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:"",filterable:""},on:{change:t.handle_selected_cate,clear:t.handle_clear_cate},model:{value:t.ruleForm.part_category_id,callback:function(e){t.$set(t.ruleForm,"part_category_id",e)},expression:"ruleForm.part_category_id"}},t._l(t.part_categories,function(t,e){return a("el-option",{key:e,attrs:{label:t.type_name,value:t.type_id}})}))],1)],1),t._v(" "),a("div",{staticClass:"popover-box",staticStyle:{"min-width":"400px"}},[a("el-form-item",{attrs:{label:"配件名称",prop:"part_ids"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",multiple:"",clearable:""},on:{change:t.handle_selected_parts},model:{value:t.ruleForm.part_ids,callback:function(e){t.$set(t.ruleForm,"part_ids",e)},expression:"ruleForm.part_ids"}},t._l(t.parts,function(t,e){return a("el-option",{key:e,attrs:{label:t.part_name,value:t.part_id}})}))],1)],1)]),t._v(" "),a("a",{staticClass:"submit",attrs:{href:"javascript:void(0);"},on:{click:function(e){t.GET_SEARCH_DATA(1,1,"ruleForm")}}},[t._v(t._s(t.searchStatusText))]),t._v(" "),a("a",{directives:[{name:"show",rawName:"v-show",value:1==t.searchType,expression:"searchType==1"}],staticClass:"submit-back",attrs:{href:"javascript:void(0);"},on:{click:function(e){t.gotoback()}}},[t._v("返回上一步")])])],1)],2),t._v(" "),a("bi-panel",{directives:[{name:"show",rawName:"v-show",value:1!=t.searchType,expression:"searchType != 1"}],attrs:{operating:!1}},[a("template",{slot:"title"},[a("font",[t._v("按配件编号查询")])],1),t._v(" "),a("div",{staticClass:"search-keyword"},[a("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm2,rules:t.rules2,"label-width":"100px","label-position":"top"}},[a("div",{staticClass:"clear",staticStyle:{"margin-bottom":"20px"}},[a("div",{staticClass:"popover-box",staticStyle:{"min-width":"400px"}},[a("el-form-item",{attrs:{label:"请输入配件编号",prop:"part_code"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.ruleForm2.part_code,expression:"ruleForm2.part_code"}],attrs:{type:"text",placeholder:"如：IBC08349"},domProps:{value:t.ruleForm2.part_code},on:{input:function(e){e.target.composing||t.$set(t.ruleForm2,"part_code",e.target.value)}}})])],1)]),t._v(" "),a("a",{staticClass:"submit",attrs:{href:"javascript:void(0);"},on:{click:function(e){t.GET_SEARCH_DATA(1,2,"ruleForm2")}}},[t._v(t._s(t.searchStatusText))]),t._v(" "),a("a",{directives:[{name:"show",rawName:"v-show",value:2==t.searchType,expression:"searchType==2"}],staticClass:"submit-back",attrs:{href:"javascript:void(0);"},on:{click:function(e){t.gotoback()}}},[t._v("返回上一步")])])],1)],2),t._v(" "),a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[a("font",{staticStyle:{"font-size":"14px"}},[t._v("为您找到 "),a("b",{staticClass:"font-red"},[t._v(t._s(t.searchRecords))]),t._v(" 条符合条件的配件价格")])],1),t._v(" "),a("template",{slot:"others"},[a("el-select",{attrs:{multiple:"",size:"mini","collapse-tags":"",placeholder:"自定义选择"},model:{value:t.custom_fields,callback:function(e){t.custom_fields=e},expression:"custom_fields"}},t._l(t.custom_columns,function(t,e){return a("el-option",{key:e,attrs:{value:t.value,label:t.label}})}))],1),t._v(" "),a("transition",{attrs:{name:"table"}},[t.searchData.length>0?a("div",{staticClass:"search-result"},[a("el-table",{attrs:{data:t.searchData,width:"100%"}},t._l(t.columns,function(e,s){return e.show?a("el-table-column",{key:e.value,attrs:{type:e.type,label:e.label,fixed:!!e.fixed&&"left","show-overflow-tooltip":!!e["show-overflow-tooltip"],align:["pretax_purch_price","purch_price","pretax_sell_price","sell_price"].includes(e.value)?"right":"left","min-width":e.width},scopedSlots:t._u([{key:"default",fn:function(a){return[["pretax_purch_price","purch_price","pretax_sell_price","sell_price"].includes(e.value)?[t._v("\n                  "+t._s(t._f("number_format")(a.row[e.value],2))+"\n                ")]:"index"==e.type?[t._v("\n                  "+t._s((t.searchPage-1)*t.pageSize+a.$index+1)+"\n                ")]:e.value?[t._v("\n                  "+t._s(a.row[e.value])+"\n                ")]:t._e()]}}])}):t._e()})),t._v(" "),a("div",{staticClass:"pagination-box"},[a("el-pagination",{staticStyle:{"text-align":"right","margin-right":"10px"},attrs:{background:"",layout:"prev, pager, next","prev-text":"上一页","next-text":"下一页","current-page":t.searchPage,"page-size":t.pageSize,total:t.searchRecords},on:{"current-change":t.GET_SEARCH_DATA,"update:currentPage":function(e){t.searchPage=e}}})],1)],1):a("div",{staticClass:"search-result"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{"min-height":"300px"},attrs:{"element-loading-background":"#fff"}},[t.firstLoad?[t.loading?t._e():a("bi-empty",{attrs:{"show-result":!1}},[a("span",{attrs:{slot:"tips"},slot:"tips"},[t._v("亲爱的，您还没有选择查询条件，请先选择您关注的查询条件")])])]:[a("bi-empty")]],2)])])],2)],1)],1)},staticRenderFns:[]},ss=a("Z0/y")(es,as,!1,null,null,null).exports,is={mixins:[g.a],data:function(){return{rising_rate_group:[],purch_price_group:[],sell_price_group:[],sub_model_name_group:[],chart_tit:"",searchType:"",searchData:[],where:[],raw_models:[],competitors:[],part_categories:{},raw_parts:[],isCheckAll:!1,formData:{},ruleForm:{model_id:"",compete_model_ids:[],part_category_id:"",part_ids:[]},rules:{model_id:[{required:!0,message:"请选择本品车型",trigger:"change"}],compete_model_ids:[{required:!0,message:"请选择竞品车型",trigger:"change"}],part_category_id:[{required:!0,message:"请选择配件分类",trigger:"change"}],part_ids:[{required:!0,message:"请选择可比配件",trigger:"change"}]},optionA:{},firstLoad:!0,loading:!1}},computed:{searchStatusText:function(){return this.searchType?"搜索":"下一步"},models_grouped:function(){var t={};return this.raw_models.map(function(e){t[e.manf_brand_name]||(t[e.manf_brand_name]={},t[e.manf_brand_name].label=e.manf_brand_name,t[e.manf_brand_name].options=[]),t[e.manf_brand_name].options.push(e)}),t},models:function(){var t={};return this.raw_models.map(function(e){t[e.sub_model_id]=e}),t},parts:function(){if(0==this.raw_parts.length)return[];var t={0:{part_id:0,part_name:"选择全部"}};return this.raw_parts.map(function(e){t[e.part_id]=e}),t},competitors_grouped:function(){var t={};return this.competitors.map(function(e){t[e.manf_brand_name]||(t[e.manf_brand_name]={},t[e.manf_brand_name].label=e.manf_brand_name,t[e.manf_brand_name].options=[]),t[e.manf_brand_name].options.push(e)}),t},pickerOptions:function(){var t=this;return{disabledDate:function(e){var a=Math.min.apply(Math,l()(t.part_date))+"",s=Math.max.apply(Math,l()(t.part_date))+"";if(a&&s){var i=a.substr(0,4)+"/"+a.substr(4,2)+"/01",n=s.substr(0,4)+"/"+s.substr(4,2)+"/01";return i=Date.parse(new Date(i)),n=Date.parse(new Date(n)),e&&e.valueOf()<i||e&&e.valueOf()>n}return e}}}},mounted:function(){var t=this;this.getToken(function(){t.GET_COMMON_VALID_DATE(),t.GET_COMMON_COMPETITORS()})},methods:{handle_selected_models:function(){this.competitors=this.models[this.ruleForm.model_id].competitors,this.ruleForm.compete_model_ids=this.competitors.map(function(t){return t.sub_model_id}),this.clearValidate("ruleForm"),this.handle_selected_competitors(this.ruleForm.compete_model_ids)},handle_selected_competitors:function(){this.part_categories={},this.raw_parts=[],this.ruleForm.part_category_id="",this.ruleForm.part_ids=[],this.GET_PART_TYPES()},handle_selected_cate:function(){this.ruleForm.part_ids=[];var t=this.ruleForm.part_category_id;this.part_categories[t]&&(this.raw_parts=this.part_categories[t].parts,this.isCheckAll=!1)},handle_selected_parts:function(t,e){this.checkAll()},handle_clear_cate:function(){this.raw_parts=[],this.ruleForm.part_ids=[]},checkAll:function(){var t=this,e=!1;this.ruleForm.part_ids.includes(0)&&(e=!0),e&&(this.ruleForm.part_ids=[],this.isCheckAll=!this.isCheckAll,this.isCheckAll&&this.raw_parts.map(function(e){t.ruleForm.part_ids.push(e.part_id)})),this.isCheckAll=this.ruleForm.part_ids.length==this.raw_parts.length},gotoback:function(){this.searchType="",this.rising_rate_group="",this.clearValidate("ruleForm"),this.competitors=[],this.part_categories={},this.raw_parts=[],this.parts=[],this.searchData=[],this.ruleForm={model_id:"",compete_model_ids:[],part_category_id:"",part_ids:[]},this.isCheckAll=!1},getOption:function(){return{backgroundColor:"#fff",color:"#384757",tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#384757"}},formatter:function(t){return t.value>0?parseFloat(t.value).toFixed(0):""}},legend:{data:[{name:"含税经销商进货价",icon:"circle",textStyle:{color:"#7d838b"}},{name:"含税经销商销售价",icon:"circle",textStyle:{color:"#7d838b"}},{name:"加价率(%)",icon:"circle",textStyle:{color:"#7d838b"}}],top:"2",textStyle:{color:"#fff"}},xAxis:[{axisLine:{show:!1,lineStyle:{color:"#999"}},splitLine:{show:!1},axisLabel:{show:!0,rotate:0},axisTick:{show:!1},data:this.sub_model_name_group}],yAxis:[{type:"value",name:"单位：元",nameTextStyle:{color:"#7d838b"},min:0,axisLabel:{formatter:"{value} "},splitLine:{lineStyle:{color:"#f2f2f2"}},axisTick:{show:!1},axisLine:{show:!1,lineStyle:{color:"#999"}}},{type:"value",name:"加价率(%)",show:!0,position:"right",axisLabel:{show:!0,formatter:"{value} %",textStyle:{color:"#7d838b"}},splitLine:{lineStyle:{color:"#f2f2f2"}},axisTick:{show:!1},axisLine:{show:!1,lineStyle:{color:"#999"}}}],grid:{x:"自适应",top:55,bottom:50,width:"自适应",height:"自适应",containLabel:!0},dataZoom:[{show:!0,height:30,xAxisIndex:[0],bottom:0,start:0,end:100,handleIcon:"path://M306.1,413c0,2.2-1.8,4-4,4h-59.8c-2.2,0-4-1.8-4-4V200.8c0-2.2,1.8-4,4-4h59.8c2.2,0,4,1.8,4,4V413z",handleSize:"110%",handleStyle:{color:"#d3dee5"},textStyle:{color:"#fff"},borderColor:"#90979c"},{type:"inside",show:!0,height:15,start:1,end:35}],series:[{name:"含税经销商进货价",type:"bar",data:this.purch_price_group,barWidth:"40",itemStyle:{normal:{color:"#00b4f3",barBorderRadius:0,label:{show:!0,position:"top",formatter:function(t){return t.value>0?parseFloat(t.value).toFixed(2):""}}}}},{name:"含税经销商销售价",type:"bar",data:this.sell_price_group,barWidth:"40",itemStyle:{normal:{color:"#d1e0e7",barBorderRadius:0,label:{show:!0,position:"top",formatter:function(t){return t.value>0?parseFloat(t.value).toFixed(2):""}}}}},{name:"加价率(%)",type:"line",yAxisIndex:1,data:this.rising_rate_group,itemStyle:{normal:{color:"#ffaa00"}},smooth:!0}]}},GET_COMMON_COMPETITORS:function(){var t=this;this.$request.get(this.$interface.GET_COMMON_COMPETITORS,{header:{token:this.token},type:1,rows:1e5},function(e){t.raw_models=e.data[0].list},this.failure)},GET_PART_TYPES:function(){var t=this;!this.ruleForm.model_id||this.ruleForm.compete_model_ids.length<=0||this.$request.get(this.$interface.GET_PART_TYPES,{header:{token:this.token},ym:this.this_year_month||"201801",bp_sub_model_id:this.ruleForm.model_id,jp_sub_model_ids:this.ruleForm.compete_model_ids.join(","),type:"1"},function(e){t.ruleForm.part_category_id="",t.ruleForm.part_ids=[];var a={};e.data.map(function(t){a[t.type_id]=t}),t.$nextTick(function(){t.part_categories=a})},this.failure)},GET_COMMON_VALID_DATE:function(){var t=this;this.$request.get(this.$interface.GET_COMMON_VALID_DATE,{header:{token:this.token}},function(e){t.part_date=e.data[0].part_date,t.this_year_month=Math.max.apply(Math,l()(t.part_date))+""},this.failure)},GET_SEARCH_DATA:function(t,e){var a=this;this.$refs[e].validate(function(e){if(!e)return!1;a.loading=!0,a.$request.get(a.$interface.GET_PART_PRICE_SUM,{header:{token:a.token},ym:a.this_year_month,bp_sub_model_id:a.ruleForm.model_id,jp_sub_model_ids:a.ruleForm.compete_model_ids.length?a.ruleForm.compete_model_ids.join(","):"",part_type_ids:a.ruleForm.part_category_id,part_ids:a.ruleForm.part_ids.length?a.ruleForm.part_ids.join(","):""},function(e){if(a.searchType=t,a.searchData=e.data,a.rising_rate_group=[],a.purch_price_group=[],a.sell_price_group=[],a.sub_model_name_group=[],a.optionA={},e.data.length>0){for(var s in a.chart_tit=e.data[0].sub_model_name+"与竞品配件价格累加比较",e.data)a.rising_rate_group.push((100*e.data[s].rising_rate).toFixed(2)),a.purch_price_group.push(e.data[s].purch_price),a.sell_price_group.push(e.data[s].sell_price),a.sub_model_name_group.push(e.data[s].sub_model_name);a.$nextTick(function(){this.firstLoad=!1,this.loading=!1,this.optionA=this.getOption()})}},a.failure)})}},components:{BiBar:Rt,BiPanel:v.a,BiEmpty:wt.a,BiChart:B}},ns={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cyc-shouhou-main"},[a("bi-bar",{attrs:{columnTitle:"配件价格累加比较",columnIcon:"icon-shouhou"}},[a("template",{slot:"button"},[a("span",[t._v("当前数据时间：")]),t._v(" "),a("el-date-picker",{staticStyle:{width:"120px"},attrs:{"prefix-icon":"change-data-button",format:"yyyy/MM","value-format":"yyyyMM","picker-options":t.pickerOptions,editable:!1,clearable:!1,type:"month"},on:{change:t.GET_PART_TYPES},model:{value:t.this_year_month,callback:function(e){t.this_year_month=e},expression:"this_year_month"}})],1),t._v(" "),a("template",{slot:"right"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("概览主页")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/zhiku/sh"}}},[t._v("售后概况")]),t._v(" "),a("el-breadcrumb-item",[t._v("配件价格累加比较")])],1)],1)],2),t._v(" "),a("div",{staticClass:"content"},[a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[a("font",[t._v("按条件查询")])],1),t._v(" "),a("div",{staticClass:"search-condition"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"100px","label-position":"top"}},[a("div",{staticClass:"clear",staticStyle:{"margin-bottom":"20px"}},[a("div",{staticClass:"popover-box"},[a("el-form-item",{attrs:{label:"本品车型",prop:"model_id"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:""},on:{change:t.handle_selected_models},model:{value:t.ruleForm.model_id,callback:function(e){t.$set(t.ruleForm,"model_id",e)},expression:"ruleForm.model_id"}},t._l(t.models_grouped,function(e){return a("el-option-group",{key:e.label,attrs:{label:e.label}},t._l(e.options,function(t){return a("el-option",{key:t.sub_model_id,attrs:{label:t.sub_model_name,value:t.sub_model_id}})}))}))],1)],1),t._v(" "),a("div",{staticClass:"popover-box",staticStyle:{"min-width":"400px"}},[a("el-form-item",{attrs:{label:"竞品车型",prop:"compete_model_ids"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"请选择"},on:{change:t.handle_selected_competitors},model:{value:t.ruleForm.compete_model_ids,callback:function(e){t.$set(t.ruleForm,"compete_model_ids",e)},expression:"ruleForm.compete_model_ids"}},t._l(t.competitors_grouped,function(e){return a("el-option-group",{key:e.label,attrs:{label:e.label}},t._l(e.options,function(t){return a("el-option",{key:t.sub_model_id,attrs:{label:t.sub_model_name,value:t.sub_model_id}})}))}))],1)],1)]),t._v(" "),a("div",{staticClass:"clear",staticStyle:{"margin-bottom":"20px"}},[a("div",{staticClass:"popover-box"},[a("el-form-item",{attrs:{label:"配件分类",prop:"part_category_id"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:"",filterable:""},on:{change:t.handle_selected_cate,clear:t.handle_clear_cate},model:{value:t.ruleForm.part_category_id,callback:function(e){t.$set(t.ruleForm,"part_category_id",e)},expression:"ruleForm.part_category_id"}},t._l(t.part_categories,function(t,e){return a("el-option",{key:e,attrs:{label:t.type_name,value:t.type_id}})}))],1)],1),t._v(" "),a("div",{staticClass:"popover-box",staticStyle:{"min-width":"400px"}},[a("el-form-item",{attrs:{label:"可比配件",prop:"part_ids"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",multiple:"",clearable:""},on:{change:t.handle_selected_parts},model:{value:t.ruleForm.part_ids,callback:function(e){t.$set(t.ruleForm,"part_ids",e)},expression:"ruleForm.part_ids"}},t._l(t.parts,function(t,e){return a("el-option",{key:e,attrs:{label:t.part_name,value:t.part_id}})}))],1)],1)]),t._v(" "),a("a",{staticClass:"submit",attrs:{href:"javascript:void(0);"},on:{click:function(e){t.GET_SEARCH_DATA(1,"ruleForm")}}},[t._v(t._s(t.searchStatusText))]),t._v(" "),a("a",{directives:[{name:"show",rawName:"v-show",value:1==t.searchType,expression:"searchType==1"}],staticClass:"submit-back",attrs:{href:"javascript:void(0);"},on:{click:function(e){t.gotoback()}}},[t._v("返回上一步")])])],1)],2),t._v(" "),a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[t._v("\n        配件价格累加比较结果\n      ")]),t._v(" "),t.searchData.length>0?a("div",{staticClass:"search-result"},[a("h2",{domProps:{textContent:t._s(t.chart_tit)}}),t._v(" "),a("bi-chart",{staticClass:"echarts",attrs:{id:"chart_a",option:t.optionA}})],1):a("div",{staticClass:"search-result"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{"min-height":"300px"},attrs:{"element-loading-background":"#fff"}},[t.firstLoad?[t.loading?t._e():a("bi-empty",{attrs:{"show-result":!1}},[a("span",{attrs:{slot:"tips"},slot:"tips"},[t._v("亲爱的，您还没有选择查询条件，请先选择您关注的查询条件")])])]:[a("bi-empty")]],2)])],2)],1)],1)},staticRenderFns:[]};var rs=a("Z0/y")(is,ns,!1,function(t){a("7YoY")},"data-v-a29d5af4",null).exports,os={mixins:[g.a],name:"",data:function(){return{selectOnClass:!1,searchType:"",model_name:"",seriesData:[],searchData:[],optionA:{},car_models:[],all_price:[],adjustment_ratio:[],searchPage:1,part_date:[],where:[],raw_models:[],competitors:[],raw_parts:[],ruleForm:{model_id:"",compete_model_ids:[]},rules:{model_id:[{required:!0,message:"请选择本品车型",trigger:"change"}],compete_model_ids:[{required:!0,message:"请选择竞品车型",trigger:"change"}]},firstLoad:!0,loading:!1}},computed:{pickerOptions:function(){var t=this;return{disabledDate:function(e){var a=Math.min.apply(Math,l()(t.part_date))+"",s=Math.max.apply(Math,l()(t.part_date))+"";if(a&&s){var i=a.substr(0,4)+"/"+a.substr(4,2)+"/01",n=s.substr(0,4)+"/"+s.substr(4,2)+"/01";return i=Date.parse(new Date(i)),n=Date.parse(new Date(n)),e&&e.valueOf()<i||e&&e.valueOf()>n}return e}}},searchStatusText:function(){return this.searchType?"搜索":"下一步"},competitors_grouped:function(){var t={};return this.competitors.map(function(e){t[e.manf_brand_name]||(t[e.manf_brand_name]={},t[e.manf_brand_name].label=e.manf_brand_name,t[e.manf_brand_name].options=[]),t[e.manf_brand_name].options.push(e)}),t},models_grouped:function(){var t={};return this.raw_models.map(function(e){t[e.manf_brand_name]||(t[e.manf_brand_name]={},t[e.manf_brand_name].label=e.manf_brand_name,t[e.manf_brand_name].options=[]),t[e.manf_brand_name].options.push(e)}),t},models:function(){var t={};return this.raw_models.map(function(e){t[e.sub_model_id]=e}),t}},mounted:function(){var t=this;this.getToken(function(){t.GET_COMMON_COMPETITORS(),t.GET_COMMON_VALID_DATE()})},methods:{getOptionA:function(){return{backgroundColor:"#fff",tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#384757"}},formatter:function(t){var e=t[0],a=(e.name||"")+"<br>";return a+=e.seriesName+": "+(100*e.value).toFixed(0)+"%"}},xAxis:[{axisLine:{show:!0,lineStyle:{color:"#999"}},splitLine:{show:!1},axisLabel:{show:!0,rotate:0},axisTick:{show:!1},data:this.car_models}],yAxis:[{type:"category",nameTextStyle:{color:"#7d838b"},axisLabel:{formatter:"{value} "},splitLine:{lineStyle:{color:"#f2f2f2"}},axisTick:{show:!1},axisLine:{show:!0,lineStyle:{color:"#999"}},data:["零件价格水平低","基准线","零件价格水平高"]},{type:"value",show:!1,min:0,max:2,position:"right",axisLabel:{show:!1,formatter:"{value}",textStyle:{color:"#7d838b"}},splitLine:{lineStyle:{color:"#f2f2f2"}},axisTick:{show:!1},axisLine:{show:!1,lineStyle:{color:"#999"}}}],grid:{x:"自适应",y:"自适应",top:10,bottom:60,width:"自适应",height:"自适应",containLabel:!0},dataZoom:[{show:!0,height:30,bottom:0,left:10,right:5,start:0,end:100,handleIcon:"path://M306.1,413c0,2.2-1.8,4-4,4h-59.8c-2.2,0-4-1.8-4-4V200.8c0-2.2,1.8-4,4-4h59.8c2.2,0,4,1.8,4,4V413z",handleSize:"110%",handleStyle:{color:"#d3dee5"},textStyle:{color:"#fff"},borderColor:"#90979c"},{type:"inside",show:!0,height:15,start:1,end:35}],series:[{name:"调整比",type:"line",yAxisIndex:1,data:this.seriesData,itemStyle:{normal:{color:"#fff"}},smooth:!0,markLine:{lineStyle:{normal:{type:"dashed",color:"#f04048"}},animationDuration:3e3,label:{show:!1,position:"middle",formatter:"{b}: {d}"},data:[{name:"基准线:",valueIndex:1,xAxis:0,yAxis:1}]}}]}},handle_selected_models:function(t){this.competitors=this.models[this.ruleForm.model_id].competitors,this.ruleForm.compete_model_ids=this.competitors.map(function(t){return t.sub_model_id}),this.clearValidate("ruleForm")},handle_selected_competitors:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.raw_parts=[]},gotoback:function(){this.searchType="",this.rising_rate_group="",this.clearValidate("ruleForm"),this.competitors=[],this.ruleForm={model_id:"",compete_model_ids:[]},this.searchData=[]},GET_COMMON_COMPETITORS:function(){var t=this;this.$request.get(this.$interface.GET_COMMON_COMPETITORS,{header:{token:this.token},type:1,rows:1e5},function(e){t.raw_models=e.data[0].list},this.failure)},GET_COMMON_VALID_DATE:function(){var t=this;this.$request.get(this.$interface.GET_COMMON_VALID_DATE,{header:{token:this.token}},function(e){t.part_date=e.data[0].part_date,t.this_year_month=Math.max.apply(Math,l()(t.part_date))+""},this.failure)},GET_SEARCH_DATA:function(t,e){var a=this;this.$refs[e].validate(function(e){if(!e)return!1;a.loading=!0,a.searchType=t,a.$request.get(a.$interface.GET_PART_CAR_PRICE,{header:{token:a.token},ym:a.this_year_month||"201801",bp_sub_model_id:a.ruleForm.model_id,jp_sub_model_ids:a.ruleForm.compete_model_ids.length?a.ruleForm.compete_model_ids.join(","):""},function(t){a.searchData=t.data,a.car_models=[],a.all_price=[],a.adjustment_ratio=[],a.seriesData=[],t.data.length>0&&(a.model_name=t.data[0].sub_model_name,t.data.map(function(t){a.car_models.push(t.sub_model_name),a.all_price.push(t.tp),a.adjustment_ratio.push(t.adjustment_ratio.toFixed(2)),a.seriesData.push({value:t.adjustment_ratio.toFixed(4),symbol:"image://"+t.sub_model_logo_url,symbolSize:[128,90],itemStyle:{normal:{label:{show:!0,position:"bottom",formatter:t.sub_model_name,textStyle:{fontSize:"16",fontFamily:"微软雅黑",color:"#333"}}}}})}),a.$nextTick(function(){a.firstLoad=!1,a.loading=!1,a.optionA=a.getOptionA()})),a.formData=t.data},a.failure)})}},components:{BiBar:Rt,BiChart:B,BiEmpty:wt.a,BiPanel:v.a}},ls={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cyc-shouhou-main"},[a("bi-bar",{attrs:{columnTitle:"配件价格与整车价格比较",columnIcon:"icon-shouhou"}},[a("template",{slot:"button"},[a("span",[t._v("当前数据时间：")]),t._v(" "),a("el-date-picker",{staticStyle:{width:"120px"},attrs:{"prefix-icon":"change-data-button",format:"yyyy/MM","value-format":"yyyyMM","picker-options":t.pickerOptions,editable:!1,clearable:!1,type:"month"},model:{value:t.this_year_month,callback:function(e){t.this_year_month=e},expression:"this_year_month"}})],1),t._v(" "),a("template",{slot:"right"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("概览主页")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/zhiku/sh"}}},[t._v("售后概况")]),t._v(" "),a("el-breadcrumb-item",[t._v("配件价格与整车价格比较")])],1)],1)],2),t._v(" "),a("div",{staticClass:"content"},[a("bi-panel",{directives:[{name:"show",rawName:"v-show",value:2!=t.searchType,expression:"searchType != 2"}],attrs:{operating:!1}},[a("template",{slot:"title"},[a("font",[t._v("按条件查询")])],1),t._v(" "),a("div",{staticClass:"search-condition"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"100px","label-position":"top"}},[a("div",{staticClass:"clear",staticStyle:{"margin-bottom":"20px"}},[a("div",{staticClass:"popover-box"},[a("el-form-item",{attrs:{label:"本品车型",prop:"model_id"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:""},on:{change:t.handle_selected_models},model:{value:t.ruleForm.model_id,callback:function(e){t.$set(t.ruleForm,"model_id",e)},expression:"ruleForm.model_id"}},t._l(t.models_grouped,function(e){return a("el-option-group",{key:e.label,attrs:{label:e.label}},t._l(e.options,function(t){return a("el-option",{key:t.sub_model_id,attrs:{label:t.sub_model_name,value:t.sub_model_id}})}))}))],1)],1),t._v(" "),a("div",{staticClass:"popover-box",staticStyle:{"min-width":"400px"}},[a("el-form-item",{attrs:{label:"竞品车型",prop:"compete_model_ids"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"请选择"},on:{change:t.handle_selected_competitors},model:{value:t.ruleForm.compete_model_ids,callback:function(e){t.$set(t.ruleForm,"compete_model_ids",e)},expression:"ruleForm.compete_model_ids"}},t._l(t.competitors_grouped,function(e){return a("el-option-group",{key:e.label,attrs:{label:e.label}},t._l(e.options,function(t){return a("el-option",{key:t.sub_model_id,attrs:{label:t.sub_model_name,value:t.sub_model_id}})}))}))],1)],1)]),t._v(" "),a("a",{staticClass:"submit",attrs:{href:"javascript:void(0);"},on:{click:function(e){t.GET_SEARCH_DATA(1,"ruleForm")}}},[t._v(t._s(t.searchStatusText))]),t._v(" "),a("a",{directives:[{name:"show",rawName:"v-show",value:1==t.searchType,expression:"searchType==1"}],staticClass:"submit-back",attrs:{href:"javascript:void(0);"},on:{click:function(e){t.gotoback()}}},[t._v("返回上一步")])])],1)],2),t._v(" "),a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[t._v("\n        配件价格与整车价格比较结果\n      ")]),t._v(" "),t.searchData.length>0?a("div",{staticClass:"search-result"},[a("h2",[t._v(t._s(t.model_name)+"与竞品配件总体价格和成交价比值比较")]),t._v(" "),a("table",{staticClass:"type2"},[a("tbody",[a("tr",[a("td",[t._v("车型")]),t._l(t.car_models,function(e){return a("td",{domProps:{textContent:t._s(e)}})})],2),t._v(" "),a("tr",[a("td",[t._v("整车成交价(元)")]),t._l(t.all_price,function(e){return a("td",[t._v(t._s(t._f("number_format")(e)))])})],2),t._v(" "),a("tr",[a("td",[t._v("配件价格与成交价调整比")]),t._l(t.adjustment_ratio,function(e){return a("td",{domProps:{textContent:t._s(e)}})})],2)])]),t._v(" "),a("bi-chart",{staticStyle:{height:"380px"},attrs:{option:t.optionA,id:"chart_a"}})],1):a("div",{staticClass:"search-result"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{"min-height":"300px"},attrs:{"element-loading-background":"#fff"}},[t.firstLoad?[t.loading?t._e():a("bi-empty",{attrs:{"show-result":!1}},[a("span",{attrs:{slot:"tips"},slot:"tips"},[t._v("亲爱的，您还没有选择查询条件，请先选择您关注的查询条件")])])]:[a("bi-empty")]],2)])],2)],1)],1)},staticRenderFns:[]};var _s=a("Z0/y")(os,ls,!1,function(t){a("r1ay")},"data-v-244895c6",null).exports,cs={mixins:[g.a],name:"",data:function(){return{checkboxGroup:"",searchType:"",model_name:"",raw_models:[],competitors:[],part_categories:{},raw_parts:[],searchData:[],optionA:{},legend_selected:{},seriesData:[],accessories:[],isCheckAll:!1,firstLoad:!0,loading:!1,ruleForm:{model_id:"",compete_model_ids:[],part_category_id:"",part_ids:[],price_type:"purch_deviation"},rules:{model_id:[{required:!0,message:"请选择本品车型",trigger:"change"}],compete_model_ids:[{required:!0,message:"请选择竞品车型",trigger:"change"}],part_category_id:[{required:!0,message:"请选择配件分类",trigger:"change"}],part_ids:[{required:!0,message:"请选择可比配件",trigger:"change"}]}}},computed:{pickerOptions:function(){var t=this;return{disabledDate:function(e){var a=Math.min.apply(Math,l()(t.part_date))+"",s=Math.max.apply(Math,l()(t.part_date))+"";if(a&&s){var i=a.substr(0,4)+"/"+a.substr(4,2)+"/01",n=s.substr(0,4)+"/"+s.substr(4,2)+"/01";return i=Date.parse(new Date(i)),n=Date.parse(new Date(n)),e&&e.valueOf()<i||e&&e.valueOf()>n}return e}}},searchStatusText:function(){return this.searchType?"搜索":"下一步"},competitors_grouped:function(){var t={};return this.competitors.map(function(e){t[e.manf_brand_name]||(t[e.manf_brand_name]={},t[e.manf_brand_name].label=e.manf_brand_name,t[e.manf_brand_name].options=[]),t[e.manf_brand_name].options.push(e)}),t},models_grouped:function(){var t={};return this.raw_models.map(function(e){t[e.manf_brand_name]||(t[e.manf_brand_name]={},t[e.manf_brand_name].label=e.manf_brand_name,t[e.manf_brand_name].options=[]),t[e.manf_brand_name].options.push(e)}),t},models:function(){var t={};return this.raw_models.map(function(e){t[e.sub_model_id]=e}),t},parts:function(){if(0==this.raw_parts.length)return[];var t={0:{part_id:0,part_name:"选择全部"}};return this.raw_parts.map(function(e){t[e.part_id]=e}),t}},mounted:function(){var t=this;this.getToken(function(){t.GET_COMMON_VALID_DATE(),t.GET_COMMON_COMPETITORS()})},methods:{getOptionA:function(){return{backgroundColor:"#fff",color:["#00b0f3","#339ca8","#cb6234","#d1e0e7","#2b821d","#005eaa","#c12e34","#cda819","#32a487","#333333","#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],tooltip:{trigger:"item",formatter:function(t){return t.seriesName+"</br>偏离率 : "+t.data[1]+"%"}},legend:{type:"scroll",show:!0,orient:"horizontal",top:460,textStyle:{fontSize:13},selected:this.legend_selected,data:this.accessories},xAxis:[{axisLine:{show:!1,lineStyle:{color:"#999"}},splitLine:{show:!1},axisLabel:{show:!0,rotate:0},axisTick:{show:!0},data:this.accessories}],yAxis:[{type:"value",name:"",nameTextStyle:{color:"#7d838b"},axisLabel:{formatter:"{value} %"},splitLine:{lineStyle:{color:"#f2f2f2"}},axisTick:{show:!1},axisLine:{show:!0,lineStyle:{color:"#999"}}}],grid:{x:"自适应",top:10,bottom:90,width:"自适应",height:"380",containLabel:!0},dataZoom:[{show:!0,height:30,top:415,left:10,right:5,start:0,end:100,handleIcon:"path://M306.1,413c0,2.2-1.8,4-4,4h-59.8c-2.2,0-4-1.8-4-4V200.8c0-2.2,1.8-4,4-4h59.8c2.2,0,4,1.8,4,4V413z",handleSize:"110%",handleStyle:{color:"#d3dee5"},textStyle:{color:"#fff"},borderColor:"#90979c"},{type:"inside",show:!0,height:15,start:1,end:35}],series:this.seriesData}},handle_selected_models:function(t){this.competitors=this.models[this.ruleForm.model_id].competitors,this.ruleForm.compete_model_ids=this.competitors.map(function(t){return t.sub_model_id}),this.clearValidate("ruleForm"),this.handle_selected_competitors(this.ruleForm.compete_model_ids)},handle_selected_competitors:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.part_categories={},this.raw_parts=[],this.ruleForm.part_category_id="",this.ruleForm.part_ids=[],this.GET_PART_TYPES()},handle_selected_cate:function(){this.ruleForm.part_ids=[];var t=this.ruleForm.part_category_id;this.part_categories[t]&&(this.raw_parts=this.part_categories[t].parts,this.isCheckAll=!1)},handle_selected_parts:function(t,e){this.checkAll()},handle_clear_cate:function(){this.raw_parts=[],this.ruleForm.part_ids=[]},checkAll:function(){var t=this,e=!1;this.ruleForm.part_ids.includes(0)&&(e=!0),e&&(this.ruleForm.part_ids=[],this.isCheckAll=!this.isCheckAll,this.isCheckAll&&this.raw_parts.map(function(e){t.ruleForm.part_ids.push(e.part_id)})),this.isCheckAll=this.ruleForm.part_ids.length==this.raw_parts.length},gotoback:function(){this.searchType="",this.clearValidate("ruleForm"),this.competitors=[],this.part_categories={},this.raw_parts=[],this.searchData=[],this.ruleForm={model_id:"",compete_model_ids:[],part_category_id:"",part_ids:[],price_type:"purch_deviation"},this.isCheckAll=!1},GET_COMMON_COMPETITORS:function(){var t=this;this.$request.get(this.$interface.GET_COMMON_COMPETITORS,{header:{token:this.token},type:1,rows:1e5},function(e){t.raw_models=e.data[0].list},this.failure)},GET_PART_TYPES:function(){var t=this;!this.ruleForm.model_id||this.ruleForm.compete_model_ids.length<=0||this.$request.get(this.$interface.GET_PART_TYPES,{header:{token:this.token},ym:this.this_year_month||"201801",bp_sub_model_id:this.ruleForm.model_id,jp_sub_model_ids:this.ruleForm.compete_model_ids.join(","),type:"1"},function(e){t.ruleForm.part_category_id="",t.ruleForm.part_ids=[];var a={};e.data.map(function(t){a[t.type_id]=t}),t.$nextTick(function(){t.part_categories=a})},this.failure)},GET_COMMON_VALID_DATE:function(){var t=this;this.$request.get(this.$interface.GET_COMMON_VALID_DATE,{header:{token:this.token}},function(e){t.part_date=e.data[0].part_date,t.this_year_month=Math.max.apply(Math,l()(t.part_date))+""},this.failure)},GET_SEARCH_DATA:function(t,e){var a=this;this.$refs[e].validate(function(e){if(!e)return!1;a.loading=!0,a.searchType=t,a.$request.get(a.$interface.GET_PART_PRICE_DEVIATIONS,{header:{token:a.token},ym:a.this_year_month||"201801",bp_sub_model_id:a.ruleForm.model_id,jp_sub_model_ids:a.ruleForm.compete_model_ids.length?a.ruleForm.compete_model_ids.join(","):"",part_type_ids:a.ruleForm.part_category_id,part_ids:a.ruleForm.part_ids.length?a.ruleForm.part_ids.join(","):""},function(t){for(var e in a.searchData=t.data,a.optionA={},a.accessories=[],a.seriesData=[],a.legend_selected)a.legend_selected[e]=!1;if(t.data.length>0)for(var s in a.model_name=t.data[0].sub_model_name,t.data[0].partPriceDeviations)a.accessories.push(t.data[0].partPriceDeviations[s].part_name),a.legend_selected[t.data[0].partPriceDeviations[s].part_name]=!0,a.seriesData.push({name:t.data[0].partPriceDeviations[s].part_name,type:"scatter",symbolSize:16,markLine:{silent:!0,lineStyle:{normal:{type:"dashed",color:"#f04048"}},animationDuration:3e3,data:[{name:"Y 轴值为 100 的水平线",yAxis:100}]},data:[[1*s,(100*t.data[0].partPriceDeviations[s][a.ruleForm.price_type].deviation_ratio).toFixed(2)]]});a.$nextTick(function(){a.firstLoad=!1,a.loading=!1,a.optionA=a.getOptionA()})},a.failure)})}},components:{BiBar:Rt,BiChart:B,BiEmpty:wt.a,BiPanel:v.a}},ds={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cyc-shouhou-main"},[a("bi-bar",{attrs:{columnTitle:"配件价格偏离率比较",columnIcon:"icon-shouhou"}},[a("template",{slot:"button"},[a("span",[t._v("当前数据时间：")]),t._v(" "),a("el-date-picker",{staticStyle:{width:"120px"},attrs:{"prefix-icon":"change-data-button",format:"yyyy/MM","value-format":"yyyyMM","picker-options":t.pickerOptions,editable:!1,clearable:!1,type:"month"},on:{change:t.GET_PART_TYPES},model:{value:t.this_year_month,callback:function(e){t.this_year_month=e},expression:"this_year_month"}})],1),t._v(" "),a("template",{slot:"right"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("概览主页")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/zhiku/sh"}}},[t._v("售后概况")]),t._v(" "),a("el-breadcrumb-item",[t._v("配件价格偏离率比较")])],1)],1)],2),t._v(" "),a("div",{staticClass:"content"},[a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[a("font",[t._v("按条件查询")])],1),t._v(" "),a("div",{staticClass:"search-condition"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"100px","label-position":"top"}},[a("div",{staticClass:"clear",staticStyle:{"margin-bottom":"20px"}},[a("div",{staticClass:"popover-box"},[a("el-form-item",{attrs:{label:"本品车型",prop:"model_id"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:""},on:{change:t.handle_selected_models},model:{value:t.ruleForm.model_id,callback:function(e){t.$set(t.ruleForm,"model_id",e)},expression:"ruleForm.model_id"}},t._l(t.models_grouped,function(e){return a("el-option-group",{key:e.label,attrs:{label:e.label}},t._l(e.options,function(t){return a("el-option",{key:t.sub_model_id,attrs:{label:t.sub_model_name,value:t.sub_model_id}})}))}))],1)],1),t._v(" "),a("div",{staticClass:"popover-box",staticStyle:{"min-width":"400px"}},[a("el-form-item",{attrs:{label:"竞品车型",prop:"compete_model_ids"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"请选择"},on:{change:t.handle_selected_competitors},model:{value:t.ruleForm.compete_model_ids,callback:function(e){t.$set(t.ruleForm,"compete_model_ids",e)},expression:"ruleForm.compete_model_ids"}},t._l(t.competitors_grouped,function(e){return a("el-option-group",{key:e.label,attrs:{label:e.label}},t._l(e.options,function(t){return a("el-option",{key:t.sub_model_id,attrs:{label:t.sub_model_name,value:t.sub_model_id}})}))}))],1)],1)]),t._v(" "),a("div",{staticClass:"clear",staticStyle:{"margin-bottom":"20px"}},[a("div",{staticClass:"popover-box"},[a("el-form-item",{attrs:{label:"配件分类",prop:"part_category_id"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:"",filterable:""},on:{change:t.handle_selected_cate,clear:t.handle_clear_cate},model:{value:t.ruleForm.part_category_id,callback:function(e){t.$set(t.ruleForm,"part_category_id",e)},expression:"ruleForm.part_category_id"}},t._l(t.part_categories,function(t,e){return a("el-option",{key:e,attrs:{label:t.type_name,value:t.type_id}})}))],1)],1),t._v(" "),a("div",{staticClass:"popover-box"},[a("el-form-item",{attrs:{label:"可比配件",prop:"part_ids"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",multiple:"",clearable:""},on:{change:t.handle_selected_parts},model:{value:t.ruleForm.part_ids,callback:function(e){t.$set(t.ruleForm,"part_ids",e)},expression:"ruleForm.part_ids"}},t._l(t.parts,function(t,e){return a("el-option",{key:e,attrs:{label:t.part_name,value:t.part_id}})}))],1)],1),t._v(" "),a("div",{staticClass:"popover-box"},[a("el-form-item",{attrs:{label:"价格比较",prop:"price_type"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.ruleForm.price_type,callback:function(e){t.$set(t.ruleForm,"price_type",e)},expression:"ruleForm.price_type"}},[a("el-option",{attrs:{label:"进货价",value:"purch_deviation"}}),t._v(" "),a("el-option",{attrs:{label:"销售价",value:"sell_deviation"}})],1)],1)],1)]),t._v(" "),a("a",{staticClass:"submit",attrs:{href:"javascript:void(0);"},on:{click:function(e){t.GET_SEARCH_DATA(1,"ruleForm")}}},[t._v(t._s(t.searchStatusText))]),t._v(" "),a("a",{directives:[{name:"show",rawName:"v-show",value:1==t.searchType,expression:"searchType==1"}],staticClass:"submit-back",attrs:{href:"javascript:void(0);"},on:{click:function(e){t.gotoback()}}},[t._v("返回上一步")])])],1)],2),t._v(" "),a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[t._v("\n        配件价格偏离率比较结果\n      ")]),t._v(" "),t.searchData.length>0?a("div",{staticClass:"search-result"},[a("h2",[t._v(t._s(t.model_name)+"与竞品配件价格偏离率比较")]),t._v(" "),a("bi-chart",{staticStyle:{height:"580px"},attrs:{option:t.optionA,id:"chart_a"}})],1):a("div",{staticClass:"search-result"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{"min-height":"300px"},attrs:{"element-loading-background":"#fff"}},[t.firstLoad?[t.loading?t._e():a("bi-empty",{attrs:{"show-result":!1}},[a("span",{attrs:{slot:"tips"},slot:"tips"},[t._v("亲爱的，您还没有选择查询条件，请先选择您关注的查询条件")])])]:[a("bi-empty")]],2)])],2)],1)],1)},staticRenderFns:[]};var us=a("Z0/y")(cs,ds,!1,function(t){a("6jXw")},"data-v-af096ab8",null).exports,hs={name:"",mixins:[g.a],data:function(){return{selectOnClass:!1,searchType:"",searchData:[],searchPage:1,searchRecords:0,part_date:[],where:[],raw_models:[],competitors:[],part_categories:{},raw_parts:[],isCheckAll:!1,firstLoad:!0,loading:!1,ruleForm:{model_id:"",compete_model_ids:[],part_category_id:"",part_ids:[],price_type:"purch_deviation"},rules:{model_id:[{required:!0,message:"请选择本品车型",trigger:"change"}],compete_model_ids:[{required:!0,message:"请选择竞品车型",trigger:"change"}],part_category_id:[{required:!0,message:"请选择配件分类",trigger:"change"}],part_ids:[{required:!0,message:"请选择可比配件",trigger:"change"}]},columns:[{label:"车型",value:"sub_model_name",show:!0},{label:"配件名称",value:"part_name",sortable:!0,show:!0},{label:"配件分类",value:"part_type",sortable:!0,show:!1},{label:"工时价格",value:"hourly_wage",show:!0}],optionA:{},legend_selected:{},model_name:"",checked_model_names:[],checkboxGroup:""}},computed:{pickerOptions:function(){var t=this;return{disabledDate:function(e){var a=Math.min.apply(Math,l()(t.part_date))+"",s=Math.max.apply(Math,l()(t.part_date))+"";if(a&&s){var i=a.substr(0,4)+"/"+a.substr(4,2)+"/01",n=s.substr(0,4)+"/"+s.substr(4,2)+"/01";return i=Date.parse(new Date(i)),n=Date.parse(new Date(n)),e&&e.valueOf()<i||e&&e.valueOf()>n}return e}}},searchStatusText:function(){return this.searchType?"搜索":"下一步"},models_grouped:function(){var t={};return this.raw_models.map(function(e){t[e.manf_brand_name]||(t[e.manf_brand_name]={},t[e.manf_brand_name].label=e.manf_brand_name,t[e.manf_brand_name].options=[]),t[e.manf_brand_name].options.push(e)}),t},models:function(){var t={};return this.raw_models.map(function(e){t[e.sub_model_id]=e}),t},parts:function(){if(0==this.raw_parts.length)return[];var t={0:{part_id:0,part_name:"选择全部"}};return this.raw_parts.map(function(e){t[e.part_id]=e}),t},competitors_grouped:function(){var t={};return this.competitors.map(function(e){t[e.manf_brand_name]||(t[e.manf_brand_name]={},t[e.manf_brand_name].label=e.manf_brand_name,t[e.manf_brand_name].options=[]),t[e.manf_brand_name].options.push(e)}),t}},mounted:function(){var t=this;this.getToken(function(){t.GET_COMMON_VALID_DATE(),t.GET_COMMON_COMPETITORS()})},methods:{handle_selected_models:function(t){this.competitors=this.models[this.ruleForm.model_id].competitors,this.ruleForm.compete_model_ids=this.competitors.map(function(t){return t.sub_model_id}),this.clearValidate("ruleForm"),this.handle_selected_competitors(this.ruleForm.compete_model_ids)},handle_selected_competitors:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.part_categories={},this.raw_parts=[],this.ruleForm.part_category_id="",this.ruleForm.part_ids=[],this.GET_PART_TYPES()},handle_selected_cate:function(t){this.ruleForm.part_ids=[];t=this.ruleForm.part_category_id;this.part_categories[t]&&(this.raw_parts=this.part_categories[t].parts,this.isCheckAll=!1)},handle_selected_parts:function(t,e){this.checkAll()},handle_clear_cate:function(){this.raw_parts=[],this.ruleForm.part_ids=[]},checkAll:function(){var t=this,e=!1;this.ruleForm.part_ids.includes(0)&&(e=!0),e&&(this.ruleForm.part_ids=[],this.isCheckAll=!this.isCheckAll,this.isCheckAll&&this.raw_parts.map(function(e){t.ruleForm.part_ids.push(e.part_id)})),this.isCheckAll=this.ruleForm.part_ids.length==this.raw_parts.length},gotoback:function(){this.searchType="",this.clearValidate("ruleForm"),this.competitors=[],this.part_categories={},this.raw_parts=[],this.searchData=[],this.ruleForm={model_id:"",compete_model_ids:[],part_category_id:"",part_ids:[],price_type:"purch_deviation"},this.isCheckAll=!1},getOptionA:function(){return{backgroundColor:"#fff",color:["#00b0f3","#339ca8","#cb6234","#d1e0e7","#2b821d","#005eaa","#c12e34","#cda819","#32a487","#333333","#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],tooltip:{trigger:"item",formatter:function(t){return t.seriesName+"</br>偏差比例 : "+(100*parseFloat(t.data[0])).toFixed(1)+"%</br>偏差绝对值 : "+parseFloat(t.data[1]).toFixed(2)+"元"}},legend:{show:!0,orient:"horizontal",top:460,textStyle:{fontSize:13},selected:this.legend_selected,data:this.legend_names},xAxis:[{name:"与竞品均值价格均值偏差的比例",nameGap:25,nameLocation:"middle",nameTextStyle:{fontSize:14},min:-this.xAxisMax||-1,max:this.xAxisMax||1,axisLine:{show:!0,lineStyle:{color:"#999"}},splitLine:{show:!1},axisLabel:{show:!0,rotate:0,formatter:function(t){return 100*t+"%"}},axisTick:{show:!1}}],yAxis:[{show:!0,type:"value",name:"与\n\n竞\n\n品\n\n均\n\n值\n\n价\n\n格\n\n偏\n\n差\n\n的\n\n绝\n\n对\n\n值",nameRotate:0,nameLocation:"middle",nameGap:46,nameTextStyle:{color:"#7d838b",verticalAlign:"middle"},axisLabel:{},min:0,splitLine:{lineStyle:{color:"#f2f2f2"}},axisTick:{show:!1},axisLine:{show:!0,lineStyle:{color:"#999"}}}],grid:{x:40,x2:30,top:30,bottom:50,width:"自适应",height:"400",containLabel:!0},series:this.seriesData}},GET_COMMON_COMPETITORS:function(){var t=this;this.$request.get(this.$interface.GET_COMMON_COMPETITORS,{header:{token:this.token},type:1,rows:1e5},function(e){t.raw_models=e.data[0].list},this.failure)},GET_PART_TYPES:function(){var t=this;!this.ruleForm.model_id||this.ruleForm.compete_model_ids.length<=0||this.$request.get(this.$interface.GET_PART_TYPES,{header:{token:this.token},ym:this.this_year_month||"201801",bp_sub_model_id:this.ruleForm.model_id,jp_sub_model_ids:this.ruleForm.compete_model_ids.join(","),type:"1"},function(e){t.ruleForm.part_category_id="",t.ruleForm.part_ids=[];var a={};e.data.map(function(t){a[t.type_id]=t}),t.$nextTick(function(){t.part_categories=a})},this.failure)},GET_COMMON_VALID_DATE:function(){var t=this;this.$request.get(this.$interface.GET_COMMON_VALID_DATE,{header:{token:this.token}},function(e){t.part_date=e.data[0].part_date,t.this_year_month=Math.max.apply(Math,l()(t.part_date))+""},this.failure)},GET_SEARCH_DATA:function(t,e){var a=this;this.$refs[e].validate(function(e){if(!e)return!1;a.loading=!0,a.$request.get(a.$interface.GET_PART_PRICE_DEVIATIONS,{header:{token:a.token},ym:a.this_year_month||"201801",bp_sub_model_id:a.ruleForm.model_id,jp_sub_model_ids:a.ruleForm.compete_model_ids.length?a.ruleForm.compete_model_ids.join(","):"",part_type_ids:a.ruleForm.part_category_id,part_ids:a.ruleForm.part_ids.length?a.ruleForm.part_ids.join(","):""},function(e){for(var s in a.searchType=t,a.searchData=e.data,a.searchRecords=e.data.length,a.optionA={},a.legend_names=[],a.legend_selected)a.legend_selected[s]=!1;a.seriesData=[],e.data.length>0&&(e.data.map(function(t){a.model_name=t.sub_model_name;var e=t.partPriceDeviations||{};e&&e.length>0&&(a.xAxisMax=0,e.map(function(t){if(a.legend_names.push(t.part_name),a.legend_selected[t.part_name]=!0,a.seriesData.push({name:t.part_name,type:"scatter",symbolSize:16,data:[[t[a.ruleForm.price_type].deviation_x,t[a.ruleForm.price_type].deviation_y]]}),t[a.ruleForm.price_type]){var e=t[a.ruleForm.price_type].deviation_x;e=Math.ceil(Math.abs(e)),a.xAxisMax=Math.max(a.xAxisMax,e)}}))}),a.$nextTick(function(){a.firstLoad=!1,a.loading=!1,a.optionA=a.getOptionA()}))},a.failure)})}},components:{BiBar:Rt,BiPanel:v.a,BiEmpty:wt.a,BiChart:B}},ms={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cyc-shouhou-main"},[a("bi-bar",{attrs:{columnTitle:"配件价格偏离值比较",columnIcon:"icon-shouhou"}},[a("template",{slot:"button"},[a("span",[t._v("当前数据时间：")]),t._v(" "),a("el-date-picker",{staticStyle:{width:"120px"},attrs:{"prefix-icon":"change-data-button",format:"yyyy/MM","value-format":"yyyyMM","picker-options":t.pickerOptions,editable:!1,clearable:!1,type:"month"},on:{change:t.GET_PART_TYPES},model:{value:t.this_year_month,callback:function(e){t.this_year_month=e},expression:"this_year_month"}})],1),t._v(" "),a("template",{slot:"right"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("概览主页")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/zhiku/sh"}}},[t._v("售后概况")]),t._v(" "),a("el-breadcrumb-item",[t._v("配件价格偏离值比较")])],1)],1)],2),t._v(" "),a("div",{staticClass:"content"},[a("bi-panel",{directives:[{name:"show",rawName:"v-show",value:2!=t.searchType,expression:"searchType != 2"}],attrs:{operating:!1}},[a("template",{slot:"title"},[a("font",[t._v("按条件查询")])],1),t._v(" "),a("div",{staticClass:"search-condition"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"100px","label-position":"top"}},[a("div",{staticClass:"clear",staticStyle:{"margin-bottom":"20px"}},[a("div",{staticClass:"popover-box"},[a("el-form-item",{attrs:{label:"本品车型",prop:"model_id"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:""},on:{change:t.handle_selected_models},model:{value:t.ruleForm.model_id,callback:function(e){t.$set(t.ruleForm,"model_id",e)},expression:"ruleForm.model_id"}},t._l(t.models_grouped,function(e){return a("el-option-group",{key:e.label,attrs:{label:e.label}},t._l(e.options,function(t){return a("el-option",{key:t.sub_model_id,attrs:{label:t.sub_model_name,value:t.sub_model_id}})}))}))],1)],1),t._v(" "),a("div",{staticClass:"popover-box",staticStyle:{"min-width":"400px"}},[a("el-form-item",{attrs:{label:"竞品车型",prop:"compete_model_ids"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"请选择"},on:{change:t.handle_selected_competitors},model:{value:t.ruleForm.compete_model_ids,callback:function(e){t.$set(t.ruleForm,"compete_model_ids",e)},expression:"ruleForm.compete_model_ids"}},t._l(t.competitors_grouped,function(e){return a("el-option-group",{key:e.label,attrs:{label:e.label}},t._l(e.options,function(t){return a("el-option",{key:t.sub_model_id,attrs:{label:t.sub_model_name,value:t.sub_model_id}})}))}))],1)],1)]),t._v(" "),a("div",{staticClass:"clear",staticStyle:{"margin-bottom":"20px"}},[a("div",{staticClass:"popover-box"},[a("el-form-item",{attrs:{label:"配件分类",prop:"part_category_id"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:"",filterable:""},on:{change:t.handle_selected_cate,clear:t.handle_clear_cate},model:{value:t.ruleForm.part_category_id,callback:function(e){t.$set(t.ruleForm,"part_category_id",e)},expression:"ruleForm.part_category_id"}},t._l(t.part_categories,function(t,e){return a("el-option",{key:e,attrs:{label:t.type_name,value:t.type_id}})}))],1)],1),t._v(" "),a("div",{staticClass:"popover-box"},[a("el-form-item",{attrs:{label:"可比配件",prop:"part_ids"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",multiple:"",clearable:""},on:{change:t.handle_selected_parts},model:{value:t.ruleForm.part_ids,callback:function(e){t.$set(t.ruleForm,"part_ids",e)},expression:"ruleForm.part_ids"}},t._l(t.parts,function(t,e){return a("el-option",{key:e,attrs:{label:t.part_name,value:t.part_id}})}))],1)],1),t._v(" "),a("div",{staticClass:"popover-box"},[a("el-form-item",{attrs:{label:"价格比较",prop:"price_type"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.ruleForm.price_type,callback:function(e){t.$set(t.ruleForm,"price_type",e)},expression:"ruleForm.price_type"}},[a("el-option",{attrs:{label:"进货价",value:"purch_deviation"}}),t._v(" "),a("el-option",{attrs:{label:"销售价",value:"sell_deviation"}})],1)],1)],1)]),t._v(" "),a("a",{staticClass:"submit",attrs:{href:"javascript:void(0);"},on:{click:function(e){t.GET_SEARCH_DATA(1,"ruleForm")}}},[t._v(t._s(t.searchStatusText))]),t._v(" "),a("a",{directives:[{name:"show",rawName:"v-show",value:1==t.searchType,expression:"searchType==1"}],staticClass:"submit-back",attrs:{href:"javascript:void(0);"},on:{click:function(e){t.gotoback()}}},[t._v("返回上一步")])])],1)],2),t._v(" "),a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[t._v("\n        配件偏离比值比较结果\n      ")]),t._v(" "),t.searchData.length>0?a("div",{staticClass:"search-result"},[a("h2",[t._v(t._s(t.model_name)+"与竞品配件偏离比值比较")]),t._v(" "),a("bi-chart",{staticStyle:{height:"580px"},attrs:{option:t.optionA,id:"chart_a"}})],1):a("div",{staticClass:"search-result"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{"min-height":"300px"},attrs:{"element-loading-background":"#fff"}},[t.firstLoad?[t.loading?t._e():a("bi-empty",{attrs:{"show-result":!1}},[a("span",{attrs:{slot:"tips"},slot:"tips"},[t._v("亲爱的，您还没有选择查询条件，请先选择您关注的查询条件")])])]:[a("bi-empty")]],2)])],2)],1)],1)},staticRenderFns:[]};var vs=a("Z0/y")(hs,ms,!1,function(t){a("WSOi")},"data-v-17f306e9",null).exports,ps={mixins:[g.a],name:"",data:function(){return{checkboxGroup:"",searchType:"",part_date:[],raw_models:[],competitors:[],part_categories:{},raw_parts:[],searchData:[],optionA:{},legend_selected:{},seriesData:[],type_names:[],model_name:"",firstLoad:!0,loading:!1,ruleForm:{model_id:"",model_name:"",compete_model_ids:[],price_type:"purch_diff"},rules:{model_id:[{required:!0,message:"请选择本品车型",trigger:"change"}],compete_model_ids:[{required:!0,message:"请选择竞品车型",trigger:"change"}]}}},computed:{pickerOptions:function(){var t=this;return{disabledDate:function(e){var a=Math.min.apply(Math,l()(t.part_date))+"",s=Math.max.apply(Math,l()(t.part_date))+"";if(a&&s){var i=a.substr(0,4)+"/"+a.substr(4,2)+"/01",n=s.substr(0,4)+"/"+s.substr(4,2)+"/01";return i=Date.parse(new Date(i)),n=Date.parse(new Date(n)),e&&e.valueOf()<i||e&&e.valueOf()>n}return e}}},searchStatusText:function(){return this.searchType?"搜索":"下一步"},competitors_grouped:function(){var t={};return this.competitors.map(function(e){t[e.manf_brand_name]||(t[e.manf_brand_name]={},t[e.manf_brand_name].label=e.manf_brand_name,t[e.manf_brand_name].options=[]),t[e.manf_brand_name].options.push(e)}),t},models_grouped:function(){var t={};return this.raw_models.map(function(e){t[e.manf_brand_name]||(t[e.manf_brand_name]={},t[e.manf_brand_name].label=e.manf_brand_name,t[e.manf_brand_name].options=[]),t[e.manf_brand_name].options.push(e)}),t},models:function(){var t={};return this.raw_models.map(function(e){t[e.sub_model_id]=e}),t}},mounted:function(){var t=this;this.getToken(function(){t.GET_COMMON_COMPETITORS(),t.GET_COMMON_VALID_DATE()})},methods:{getOptionA:function(){return{backgroundColor:"#fff",color:["#00b0f3","#339ca8","#cb6234","#d1e0e7","#2b821d","#005eaa","#c12e34","#cda819","#32a487","#333333","#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],tooltip:{trigger:"item",formatter:function(t){return t.seriesName+"</br>价格差异 : "+t.data+"%"}},legend:{show:!0,orient:"horizontal",bottom:"0",itemGap:50,textStyle:{fontSize:13},selected:this.legend_selected,data:this.type_names},xAxis:[{type:"category",axisLine:{show:!0,lineStyle:{color:"#999"}},splitLine:{show:!1},axisLabel:{show:!0,rotate:0},axisTick:{show:!0},data:[]}],yAxis:[{type:"value",name:"",position:"right",nameTextStyle:{color:"#7d838b"},splitLine:{lineStyle:{color:"#f2f2f2"}},axisLabel:{formatter:"{value} %"},axisTick:{show:!1},axisLine:{show:!0,lineStyle:{color:"#999"}}}],grid:{x:"自适应",top:20,bottom:50,width:"自适应",height:"自适应",containLabel:!0},series:this.seriesData}},handle_selected_models:function(t){this.competitors=this.models[this.ruleForm.model_id].competitors,this.ruleForm.compete_model_ids=this.competitors.map(function(t){return t.sub_model_id}),this.clearValidate("ruleForm"),this.ruleForm.model_name=this.models[this.ruleForm.model_id].sub_model_name},handle_selected_competitors:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.part_categories={},this.raw_parts=[],this.GET_PART_TYPES()},gotoback:function(){this.searchType="",this.clearValidate("ruleForm"),this.competitors=[],this.searchData=[],this.ruleForm={model_id:"",compete_model_ids:[],price_type:"purch_diff"}},GET_COMMON_COMPETITORS:function(){var t=this;this.$request.get(this.$interface.GET_COMMON_COMPETITORS,{header:{token:this.token},type:1,rows:1e5},function(e){t.raw_models=e.data[0].list},this.failure)},GET_PART_TYPES:function(){var t=this;!this.ruleForm.model_id||this.ruleForm.compete_model_ids.length<=0||this.$request.get(this.$interface.GET_PART_TYPES,{header:{token:this.token},ym:this.this_year_month||"201801",bp_sub_model_id:this.ruleForm.model_id,jp_sub_model_ids:this.ruleForm.compete_model_ids.join(","),type:"1"},function(e){t.ruleForm.part_category_id="",t.ruleForm.part_ids=[];var a={};e.data.map(function(t){a[t.type_id]=t}),t.$nextTick(function(){t.part_categories=a})},this.failure)},GET_COMMON_VALID_DATE:function(){var t=this;this.$request.get(this.$interface.GET_COMMON_VALID_DATE,{header:{token:this.token}},function(e){t.part_date=e.data[0].part_date,t.this_year_month=Math.max.apply(Math,l()(t.part_date))+""},this.failure)},GET_SEARCH_DATA:function(t,e){var a=this;this.$refs[e].validate(function(e){if(!e)return!1;a.loading=!0,a.searchType=t,a.$request.get(a.$interface.GET_PART_PRICE_DIFFS,{header:{token:a.token},ym:a.this_year_month||"201801",bp_sub_model_id:a.ruleForm.model_id,jp_sub_model_ids:a.ruleForm.compete_model_ids.length?a.ruleForm.compete_model_ids.join(","):""},function(t){for(var e in a.searchData=t.data,a.optionA={},a.type_names=[],a.seriesData=[],a.legend_selected)a.legend_selected[e]=!1;a.model_name=a.ruleForm.model_name,t.data.length>0&&(t.data.map(function(t){a.type_names.push(t.part_type),a.legend_selected[t.part_type]=!0,a.seriesData.push({name:t.part_type,type:"bar",barMaxWidth:80,itemStyle:{normal:{label:{show:!0,position:"top",formatter:t.part_type+"：{c}%"}}},data:[(100*t[a.ruleForm.price_type]).toFixed(2)]})}),a.$nextTick(function(){a.firstLoad=!1,a.loading=!1,a.optionA=a.getOptionA()}))},a.failure)})}},components:{BiBar:Rt,BiChart:B,BiEmpty:wt.a,BiPanel:v.a}},fs={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cyc-shouhou-main"},[a("bi-bar",{attrs:{columnTitle:"配件价格差异分析",columnIcon:"icon-shouhou"}},[a("template",{slot:"button"},[a("span",[t._v("当前数据时间：")]),t._v(" "),a("el-date-picker",{staticStyle:{width:"120px"},attrs:{"prefix-icon":"change-data-button",format:"yyyy/MM","value-format":"yyyyMM","picker-options":t.pickerOptions,editable:!1,clearable:!1,type:"month"},on:{change:t.GET_PART_TYPES},model:{value:t.this_year_month,callback:function(e){t.this_year_month=e},expression:"this_year_month"}})],1),t._v(" "),a("template",{slot:"right"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("概览主页")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/zhiku/sh"}}},[t._v("售后概况")]),t._v(" "),a("el-breadcrumb-item",[t._v("配件价格差异分析")])],1)],1)],2),t._v(" "),a("div",{staticClass:"content"},[a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[a("font",[t._v("按条件查询")])],1),t._v(" "),a("div",{staticClass:"search-condition"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"100px","label-position":"top"}},[a("div",{staticClass:"clear",staticStyle:{"margin-bottom":"20px"}},[a("div",{staticClass:"popover-box"},[a("el-form-item",{attrs:{label:"本品车型",prop:"model_id"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:""},on:{change:t.handle_selected_models},model:{value:t.ruleForm.model_id,callback:function(e){t.$set(t.ruleForm,"model_id",e)},expression:"ruleForm.model_id"}},t._l(t.models_grouped,function(e){return a("el-option-group",{key:e.label,attrs:{label:e.label}},t._l(e.options,function(t){return a("el-option",{key:t.sub_model_id,attrs:{label:t.sub_model_name,value:t.sub_model_id}})}))}))],1)],1),t._v(" "),a("div",{staticClass:"popover-box",staticStyle:{"min-width":"400px"}},[a("el-form-item",{attrs:{label:"竞品车型",prop:"compete_model_ids"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"请选择"},on:{change:t.handle_selected_competitors},model:{value:t.ruleForm.compete_model_ids,callback:function(e){t.$set(t.ruleForm,"compete_model_ids",e)},expression:"ruleForm.compete_model_ids"}},t._l(t.competitors_grouped,function(e){return a("el-option-group",{key:e.label,attrs:{label:e.label}},t._l(e.options,function(t){return a("el-option",{key:t.sub_model_id,attrs:{label:t.sub_model_name,value:t.sub_model_id}})}))}))],1)],1),t._v(" "),a("div",{staticClass:"popover-box"},[a("el-form-item",{attrs:{label:"价格比较",prop:"price_type"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.ruleForm.price_type,callback:function(e){t.$set(t.ruleForm,"price_type",e)},expression:"ruleForm.price_type"}},[a("el-option",{attrs:{label:"进货价",value:"purch_diff"}}),t._v(" "),a("el-option",{attrs:{label:"销售价",value:"sell_diff"}})],1)],1)],1)]),t._v(" "),a("a",{staticClass:"submit",attrs:{href:"javascript:void(0);"},on:{click:function(e){t.GET_SEARCH_DATA(1,"ruleForm")}}},[t._v(t._s(t.searchStatusText))]),t._v(" "),a("a",{directives:[{name:"show",rawName:"v-show",value:1==t.searchType,expression:"searchType==1"}],staticClass:"submit-back",attrs:{href:"javascript:void(0);"},on:{click:function(e){t.gotoback()}}},[t._v("返回上一步")])])],1)],2),t._v(" "),a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[t._v("\n        配件价格差异分析\n      ")]),t._v(" "),t.searchData.length>0?a("div",{staticClass:"search-result"},[a("h2",[t._v(t._s(t.model_name)+"与竞品配件价格差异分析")]),t._v(" "),a("bi-chart",{staticStyle:{height:"380px"},attrs:{option:t.optionA,id:"chart_a"}})],1):t._e(),t._v(" "),0==t.searchData.length?a("div",{staticClass:"search-result"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{"min-height":"300px"},attrs:{"element-loading-background":"#fff"}},[t.firstLoad?[t.loading?t._e():a("bi-empty",{attrs:{"show-result":!1}},[a("span",{attrs:{slot:"tips"},slot:"tips"},[t._v("亲爱的，您还没有选择查询条件，请先选择您关注的查询条件")])])]:[a("bi-empty")]],2)]):t._e()],2)],1)],1)},staticRenderFns:[]};var gs=a("Z0/y")(ps,fs,!1,function(t){a("Q+7j")},"data-v-4ce45911",null).exports,bs={mixins:[g.a],data:function(){return{selectOnClass:!1,searchType:this.$route.query.searchType||"",searchData:[],searchPage:1,page_size:10,searchRecords:0,part_date:[],where:[],raw_models:[],competitors:[],accessories:[],firstLoad:!0,loading:!1,ruleForm:{model_id:"",compete_model_ids:[],part_ids:[]},rules:{model_id:[{required:!0,message:"请选择本品车型",trigger:"change"}],compete_model_ids:[{required:!0,message:"请选择竞品车型",trigger:"change"}],part_ids:[{required:!0,message:"请选择可比配件",trigger:"change"}]},columns:[{label:"序号",width:"50",type:"index",show:!0},{label:"车型",value:"sub_model_name",show:!0},{label:"厂商配件名称",value:"part_name",sortable:!0,show:!0},{label:"配件分类",value:"part_type",sortable:!0,show:!0},{label:"工时价格",value:"hourly_wage",show:!0}]}},watch:{},computed:{pickerOptions:function(){var t=this;return{disabledDate:function(e){var a=Math.min.apply(Math,l()(t.part_date))+"",s=Math.max.apply(Math,l()(t.part_date))+"";if(a&&s){var i=a.substr(0,4)+"/"+a.substr(4,2)+"/01",n=s.substr(0,4)+"/"+s.substr(4,2)+"/01";return i=Date.parse(new Date(i)),n=Date.parse(new Date(n)),e&&e.valueOf()<i||e&&e.valueOf()>n}return e}}},searchStatusText:function(){return this.searchType?"搜索":"下一步"},models_grouped:function(){var t={};return this.raw_models.map(function(e){t[e.manf_brand_name]||(t[e.manf_brand_name]={},t[e.manf_brand_name].label=e.manf_brand_name,t[e.manf_brand_name].options=[]),t[e.manf_brand_name].options.push(e)}),t},models:function(){var t={};return this.raw_models.map(function(e){t[e.sub_model_id]=e}),t},competitors_grouped:function(){var t={};return this.competitors.map(function(e){t[e.manf_brand_name]||(t[e.manf_brand_name]={},t[e.manf_brand_name].label=e.manf_brand_name,t[e.manf_brand_name].options=[]),t[e.manf_brand_name].options.push(e)}),t}},mounted:function(){var t=this;this.getToken(function(){t.GET_COMMON_COMPETITORS(),t.GET_COMMON_VALID_DATE()})},methods:{handle_selected_models:function(t){this.competitors=this.models[this.ruleForm.model_id].competitors,this.ruleForm.compete_model_ids=this.competitors.map(function(t){return t.sub_model_id}),this.clearValidate("ruleForm"),this.handle_selected_competitors(this.ruleForm.compete_model_ids)},handle_selected_competitors:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.raw_parts=[],this.ruleForm.part_ids=[],this.GET_PART_TYPES()},handle_selected_cate:function(t){this.ruleForm.part_ids=[]},handle_clear_cate:function(){this.raw_parts=[],this.ruleForm.part_ids=[]},gotoback:function(){this.searchType="",this.competitors=[],this.accessories=[],this.searchRecords=0,this.searchData=[],this.clearValidate("ruleForm"),this.ruleForm={model_id:"",compete_model_ids:[],part_ids:[]}},GET_COMMON_COMPETITORS:function(){var t=this;this.$request.get(this.$interface.GET_COMMON_COMPETITORS,{header:{token:this.token},type:1,rows:1e5},function(e){t.raw_models=e.data[0].list},this.failure)},GET_PART_TYPES:function(){var t=this;!this.ruleForm.model_id||this.ruleForm.compete_model_ids.length<=0||this.$request.get(this.$interface.GET_PART_TYPES,{header:{token:this.token},ym:this.this_year_month||"201801",bp_sub_model_id:this.ruleForm.model_id,jp_sub_model_ids:this.ruleForm.compete_model_ids.join(","),type:"3"},function(e){for(var a in t.accessories=[],e.data){var s=e.data[a].parts;for(var i in s)t.accessories.push(s[i])}},this.failure)},GET_COMMON_VALID_DATE:function(){var t=this;this.$request.get(this.$interface.GET_COMMON_VALID_DATE,{header:{token:this.token}},function(e){t.part_date=e.data[0].part_date,t.this_year_month=Math.max.apply(Math,l()(t.part_date))+""},this.failure)},GET_SEARCH_DATA:function(t,e,a){var s=this;this.$refs[e].validate(function(e){if(!e)return!1;s.loading=!0,s.searchType=t,s.searchPage=a?1:s.searchPage,s.$request.get(s.$interface.GET_COST_HOURLY_WAGES,{header:{token:s.token},ym:s.this_year_month||"201801",bp_sub_model_id:s.ruleForm.model_id,jp_sub_model_ids:s.ruleForm.compete_model_ids.length?s.ruleForm.compete_model_ids.join(","):"",part_ids:s.ruleForm.part_ids.length?s.ruleForm.part_ids.join(","):"",page:s.searchPage,rows:s.page_size},function(t){var e=[],a=t.data[0].list||[];s.searchRecords=t.data[0].total,a.map(function(t){var a=t.hourly_wages||{};a&&a.length>0&&a.map(function(a){e.push(ts()(a,{sub_model_id:t.sub_model_id,sub_model_name:t.sub_model_name}))})}),s.searchData=e,s.firstLoad=!1,s.loading=!1},s.failure)})}},components:{BiBar:Rt,BiPanel:v.a,BiEmpty:wt.a}},ys={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cyc-shouhou-main"},[a("bi-bar",{attrs:{columnTitle:"工时价格查询",columnIcon:"icon-shouhou"}},[a("template",{slot:"button"},[a("span",[t._v("当前数据时间：")]),t._v(" "),a("el-date-picker",{staticStyle:{width:"120px"},attrs:{"prefix-icon":"change-data-button",format:"yyyy/MM","value-format":"yyyyMM","picker-options":t.pickerOptions,editable:!1,clearable:!1,type:"month"},on:{change:t.GET_PART_TYPES},model:{value:t.this_year_month,callback:function(e){t.this_year_month=e},expression:"this_year_month"}})],1),t._v(" "),a("template",{slot:"right"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("概览主页")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/zhiku/sh"}}},[t._v("售后概况")]),t._v(" "),a("el-breadcrumb-item",[t._v("工时价格查询")])],1)],1)],2),t._v(" "),a("div",{staticClass:"content"},[a("bi-panel",{directives:[{name:"show",rawName:"v-show",value:2!=t.searchType,expression:"searchType != 2"}],attrs:{operating:!1}},[a("template",{slot:"title"},[a("font",[t._v("按条件查询")])],1),t._v(" "),a("div",{staticClass:"search-condition"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"100px","label-position":"top"}},[a("div",{staticClass:"clear",staticStyle:{"margin-bottom":"20px"}},[a("div",{staticClass:"popover-box"},[a("el-form-item",{attrs:{label:"本品车型",prop:"model_id"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:""},on:{change:t.handle_selected_models},model:{value:t.ruleForm.model_id,callback:function(e){t.$set(t.ruleForm,"model_id",e)},expression:"ruleForm.model_id"}},t._l(t.models_grouped,function(e){return a("el-option-group",{key:e.label,attrs:{label:e.label}},t._l(e.options,function(t){return a("el-option",{key:t.sub_model_id,attrs:{label:t.sub_model_name,value:t.sub_model_id}})}))}))],1)],1),t._v(" "),a("div",{staticClass:"popover-box",staticStyle:{"min-width":"400px"}},[a("el-form-item",{attrs:{label:"竞品车型",prop:"compete_model_ids"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"请选择"},on:{change:t.handle_selected_competitors},model:{value:t.ruleForm.compete_model_ids,callback:function(e){t.$set(t.ruleForm,"compete_model_ids",e)},expression:"ruleForm.compete_model_ids"}},t._l(t.competitors_grouped,function(e){return a("el-option-group",{key:e.label,attrs:{label:e.label}},t._l(e.options,function(t){return a("el-option",{key:t.sub_model_id,attrs:{label:t.sub_model_name,value:t.sub_model_id}})}))}))],1)],1)]),t._v(" "),a("div",{staticClass:"clear",staticStyle:{"margin-bottom":"20px"}},[a("div",{staticClass:"popover-box",staticStyle:{"min-width":"400px"}},[a("el-form-item",{attrs:{label:"可比配件",prop:"part_ids"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"请选择",filterable:""},model:{value:t.ruleForm.part_ids,callback:function(e){t.$set(t.ruleForm,"part_ids",e)},expression:"ruleForm.part_ids"}},t._l(t.accessories,function(t,e){return a("el-option",{key:e,attrs:{label:t.part_name,value:t.part_id}})}))],1)],1)]),t._v(" "),a("a",{staticClass:"submit",attrs:{href:"javascript:void(0);"},on:{click:function(e){t.GET_SEARCH_DATA(1,"ruleForm",1)}}},[t._v(t._s(t.searchStatusText))]),t._v(" "),a("a",{directives:[{name:"show",rawName:"v-show",value:1==t.searchType,expression:"searchType==1"}],staticClass:"submit-back",attrs:{href:"javascript:void(0);"},on:{click:function(e){t.gotoback()}}},[t._v("返回上一步")])])],1)],2),t._v(" "),a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[a("font",{staticStyle:{"font-size":"14px"}},[t._v("为您找到 "),a("b",{staticClass:"font-red"},[t._v(t._s(t.searchRecords))]),t._v(" 条符合条件的工时价格")])],1),t._v(" "),a("transition",{attrs:{name:"table"}},[t.searchData.length>0?a("div",{staticClass:"search-result"},[a("el-table",{attrs:{data:t.searchData,width:"100%"}},t._l(t.columns,function(e,s){return e.show?a("el-table-column",{key:e.value,attrs:{type:e.type,label:e.label,align:["hourly_wage"].includes(e.value)?"right":"left",width:e.width},scopedSlots:t._u([{key:"default",fn:function(a){return[["hourly_wage"].includes(e.value)?[t._v("\n                  "+t._s(t._f("number_format")(a.row[e.value],2))+"\n                ")]:"index"==e.type?[t._v("\n                  "+t._s((t.searchPage-1)*t.page_size+a.$index+1)+"\n                ")]:[t._v("\n                  "+t._s(a.row[e.value])+"\n                ")]]}}])}):t._e()})),t._v(" "),a("div",{staticClass:"pagination-box"},[a("el-pagination",{staticStyle:{"text-align":"right","margin-right":"10px"},attrs:{background:"",layout:"prev, pager, next","prev-text":"上一页","next-text":"下一页","current-page":t.searchPage,"page-size":t.page_size,total:t.searchRecords},on:{"current-change":function(e){t.GET_SEARCH_DATA(1,"ruleForm")},"update:currentPage":function(e){t.searchPage=e}}})],1)],1):a("div",{staticClass:"search-result"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{"min-height":"300px"},attrs:{"element-loading-background":"#fff"}},[t.firstLoad?[t.loading?t._e():a("bi-empty",{attrs:{"show-result":!1}},[a("span",{attrs:{slot:"tips"},slot:"tips"},[t._v("亲爱的，您还没有选择查询条件，请先选择您关注的查询条件")])])]:[a("bi-empty")]],2)])])],2)],1)],1)},staticRenderFns:[]},ws=a("Z0/y")(bs,ys,!1,null,null,null).exports,ks={mixins:[g.a],name:"",data:function(){return{checkboxGroup:"",searchType:"",part_date:[],raw_models:[],competitors:[],searchData:[],optionA:{},seriesData:[],type_names:[],model_name:"",firstLoad:!0,loading:!1,ruleForm:{model_id:"",compete_model_ids:[]},rules:{model_id:[{required:!0,message:"请选择本品车型",trigger:"change"}],compete_model_ids:[{required:!0,message:"请选择竞品车型",trigger:"change"}]}}},computed:{pickerOptions:function(){var t=this;return{disabledDate:function(e){var a=Math.min.apply(Math,l()(t.part_date))+"",s=Math.max.apply(Math,l()(t.part_date))+"";if(a&&s){var i=a.substr(0,4)+"/"+a.substr(4,2)+"/01",n=s.substr(0,4)+"/"+s.substr(4,2)+"/01";return i=Date.parse(new Date(i)),n=Date.parse(new Date(n)),e&&e.valueOf()<i||e&&e.valueOf()>n}return e}}},searchStatusText:function(){return this.searchType?"搜索":"下一步"},competitors_grouped:function(){var t={};return this.competitors.map(function(e){t[e.manf_brand_name]||(t[e.manf_brand_name]={},t[e.manf_brand_name].label=e.manf_brand_name,t[e.manf_brand_name].options=[]),t[e.manf_brand_name].options.push(e)}),t},models_grouped:function(){var t={};return this.raw_models.map(function(e){t[e.manf_brand_name]||(t[e.manf_brand_name]={},t[e.manf_brand_name].label=e.manf_brand_name,t[e.manf_brand_name].options=[]),t[e.manf_brand_name].options.push(e)}),t},models:function(){var t={};return this.raw_models.map(function(e){t[e.sub_model_id]=e}),t}},mounted:function(){var t=this;this.getToken(function(){t.GET_COMMON_COMPETITORS(),t.GET_COMMON_VALID_DATE()})},methods:{getOptionA:function(){return{backgroundColor:"#fff",color:["#00b0f3","#d1e0e7","#cb6234","#0098d9","#2b821d","#005eaa","#c12e34","#cda819","#32a487","#333333","#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#384757"}}},legend:{show:!0,orient:"horizontal",top:"0",itemGap:50,textStyle:{fontSize:13},data:this.type_names},xAxis:[{axisLine:{show:!0,lineStyle:{color:"#999"}},splitLine:{show:!1},axisLabel:{show:!0,rotate:0},axisTick:{show:!0},data:this.type_names}],yAxis:[{type:"value",name:"",nameTextStyle:{color:"#7d838b"},min:0,axisLabel:{formatter:"{value}元"},splitLine:{lineStyle:{color:"#f2f2f2"}},axisTick:{show:!1},axisLine:{show:!1,lineStyle:{color:"#999"}}}],grid:{x:"自适应",top:55,bottom:50,width:"自适应",height:"自适应",containLabel:!0},dataZoom:[{show:!0,height:30,bottom:5,left:10,right:5,start:0,end:100,handleIcon:"path://M306.1,413c0,2.2-1.8,4-4,4h-59.8c-2.2,0-4-1.8-4-4V200.8c0-2.2,1.8-4,4-4h59.8c2.2,0,4,1.8,4,4V413z",handleSize:"110%",handleStyle:{color:"#d3dee5"},textStyle:{color:"#fff"},borderColor:"#90979c"},{type:"inside",show:!0,height:15,start:1,end:35}],series:[{name:"工时价格（元）",type:"bar",barGap:0,barWidth:"auto",barMaxWidth:50,itemStyle:{normal:{label:{show:!0,position:"top"}}},data:this.seriesData}]}},handle_selected_models:function(t){this.competitors=this.models[this.ruleForm.model_id].competitors,this.ruleForm.compete_model_ids=this.competitors.map(function(t){return t.sub_model_id}),this.clearValidate("ruleForm")},gotoback:function(){this.searchType="",this.competitors=[],this.searchData=[],this.clearValidate("ruleForm"),this.ruleForm={model_id:"",compete_model_ids:[]}},GET_COMMON_COMPETITORS:function(){var t=this;this.$request.get(this.$interface.GET_COMMON_COMPETITORS,{header:{token:this.token},type:1,rows:1e5},function(e){t.raw_models=e.data[0].list},this.failure)},GET_COMMON_VALID_DATE:function(){var t=this;this.$request.get(this.$interface.GET_COMMON_VALID_DATE,{header:{token:this.token}},function(e){t.part_date=e.data[0].part_date,t.this_year_month=Math.max.apply(Math,l()(t.part_date))+""},this.failure)},GET_SEARCH_DATA:function(t,e){var a=this;this.$refs[e].validate(function(e){if(!e)return!1;a.loading=!0,a.searchType=t,a.$request.get(a.$interface.GET_COST_HOURLY_WAGE_SUM,{header:{token:a.token},ym:a.this_year_month||"201801",bp_sub_model_id:a.ruleForm.model_id,jp_sub_model_ids:a.ruleForm.compete_model_ids.length?a.ruleForm.compete_model_ids.join(","):""},function(t){a.searchData=t.data,a.optionA={},a.type_names=[],a.seriesData=[],t.data.length>0&&(a.model_name=t.data[0].sub_model_name,t.data.map(function(t){a.type_names.push(t.sub_model_name),a.seriesData.push(t.hourly_wage)}),a.$nextTick(function(){a.firstLoad=!1,a.loading=!1,a.optionA=a.getOptionA()}))},a.failure)})}},components:{BiBar:Rt,BiChart:B,BiEmpty:wt.a,BiPanel:v.a}},Cs={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cyc-shouhou-main"},[a("bi-bar",{attrs:{columnTitle:"工时价格比较",columnIcon:"icon-shouhou"}},[a("template",{slot:"button"},[a("span",[t._v("当前数据时间：")]),t._v(" "),a("el-date-picker",{staticStyle:{width:"120px"},attrs:{"prefix-icon":"change-data-button",format:"yyyy/MM","value-format":"yyyyMM","picker-options":t.pickerOptions,editable:!1,clearable:!1,type:"month"},model:{value:t.this_year_month,callback:function(e){t.this_year_month=e},expression:"this_year_month"}})],1),t._v(" "),a("template",{slot:"right"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("概览主页")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/zhiku/sh"}}},[t._v("售后概况")]),t._v(" "),a("el-breadcrumb-item",[t._v("工时价格比较")])],1)],1)],2),t._v(" "),a("div",{staticClass:"content"},[a("bi-panel",{directives:[{name:"show",rawName:"v-show",value:2!=t.searchType,expression:"searchType != 2"}],attrs:{operating:!1}},[a("template",{slot:"title"},[a("font",[t._v("按条件查询")])],1),t._v(" "),a("div",{staticClass:"search-condition"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"100px","label-position":"top"}},[a("div",{staticClass:"clear",staticStyle:{"margin-bottom":"20px"}},[a("div",{staticClass:"popover-box"},[a("el-form-item",{attrs:{label:"本品车型",prop:"model_id"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:""},on:{change:t.handle_selected_models},model:{value:t.ruleForm.model_id,callback:function(e){t.$set(t.ruleForm,"model_id",e)},expression:"ruleForm.model_id"}},t._l(t.models_grouped,function(e){return a("el-option-group",{key:e.label,attrs:{label:e.label}},t._l(e.options,function(t){return a("el-option",{key:t.sub_model_id,attrs:{label:t.sub_model_name,value:t.sub_model_id}})}))}))],1)],1),t._v(" "),a("div",{staticClass:"popover-box",staticStyle:{"min-width":"400px"}},[a("el-form-item",{attrs:{label:"竞品车型",prop:"compete_model_ids"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"请选择"},model:{value:t.ruleForm.compete_model_ids,callback:function(e){t.$set(t.ruleForm,"compete_model_ids",e)},expression:"ruleForm.compete_model_ids"}},t._l(t.competitors_grouped,function(e){return a("el-option-group",{key:e.label,attrs:{label:e.label}},t._l(e.options,function(t){return a("el-option",{key:t.sub_model_id,attrs:{label:t.sub_model_name,value:t.sub_model_id}})}))}))],1)],1)]),t._v(" "),a("a",{staticClass:"submit",attrs:{href:"javascript:void(0);"},on:{click:function(e){t.GET_SEARCH_DATA(1,"ruleForm")}}},[t._v(t._s(t.searchStatusText))]),t._v(" "),a("a",{directives:[{name:"show",rawName:"v-show",value:1==t.searchType,expression:"searchType==1"}],staticClass:"submit-back",attrs:{href:"javascript:void(0);"},on:{click:function(e){t.gotoback()}}},[t._v("返回上一步")])])],1)],2),t._v(" "),a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[t._v("\n        工时价格比较结果\n      ")]),t._v(" "),t.searchData.length>0?a("div",{staticClass:"search-result"},[a("h2",[t._v(t._s(t.model_name)+"与竞品工时价格比较")]),t._v(" "),a("bi-chart",{staticStyle:{height:"380px"},attrs:{option:t.optionA,id:"chart_a"}})],1):a("div",{staticClass:"search-result"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{"min-height":"300px"},attrs:{"element-loading-background":"#fff"}},[t.firstLoad?[t.loading?t._e():a("bi-empty",{attrs:{"show-result":!1}},[a("span",{attrs:{slot:"tips"},slot:"tips"},[t._v("亲爱的，您还没有选择查询条件，请先选择您关注的查询条件")])])]:[a("bi-empty")]],2)])],2)],1)],1)},staticRenderFns:[]};var xs=a("Z0/y")(ks,Cs,!1,function(t){a("ljWu")},"data-v-153e8458",null).exports,Ts={mixins:[g.a],data:function(){return{selectOnClass:!1,searchType:this.$route.query.searchType||"",searchData:[],searchPage:1,page_size:10,searchRecords:0,part_date:[],where:[],isCheckAll:!1,raw_models:[],competitors:[],accessories:[],mileage:{60000:"6万公里",100000:"10万公里"},mile:"6万公里",firstLoad:!0,loading:!1,ruleForm:{model_id:"",compete_model_ids:[],part_ids:[],mile:""},rules:{model_id:[{required:!0,message:"请选择本品车型",trigger:"change"}],compete_model_ids:[{required:!0,message:"请选择竞品车型",trigger:"change"}],part_ids:[{required:!0,message:"请选择配件名称",trigger:"change"}],mile:[{required:!0,message:"请选择比较里程",trigger:"change"}]},columns:[{label:"序号",width:"50",type:"index",show:!0},{label:"车型",value:"sub_model_name",show:!0},{label:"($param)配件价格",value:"sell_price",sortable:!0,show:!0},{label:"($param)工时价格",value:"hourly_wage",show:!0}]}},watch:{},computed:{pickerOptions:function(){var t=this;return{disabledDate:function(e){var a=Math.min.apply(Math,l()(t.part_date))+"",s=Math.max.apply(Math,l()(t.part_date))+"";if(a&&s){var i=a.substr(0,4)+"/"+a.substr(4,2)+"/01",n=s.substr(0,4)+"/"+s.substr(4,2)+"/01";return i=Date.parse(new Date(i)),n=Date.parse(new Date(n)),e&&e.valueOf()<i||e&&e.valueOf()>n}return e}}},searchStatusText:function(){return this.searchType?"搜索":"下一步"},models_grouped:function(){var t={};return this.raw_models.map(function(e){t[e.manf_brand_name]||(t[e.manf_brand_name]={},t[e.manf_brand_name].label=e.manf_brand_name,t[e.manf_brand_name].options=[]),t[e.manf_brand_name].options.push(e)}),t},models:function(){var t={};return this.raw_models.map(function(e){t[e.sub_model_id]=e}),t},parts:function(){if(0==this.raw_parts.length)return[];var t={0:{part_id:0,part_name:"选择全部"}};return this.raw_parts.map(function(e){t[e.part_id]=e}),t},competitors_grouped:function(){var t={};return this.competitors.map(function(e){t[e.manf_brand_name]||(t[e.manf_brand_name]={},t[e.manf_brand_name].label=e.manf_brand_name,t[e.manf_brand_name].options=[]),t[e.manf_brand_name].options.push(e)}),t}},mounted:function(){var t=this;this.getToken(function(){t.GET_COMMON_COMPETITORS(),t.GET_COMMON_VALID_DATE()})},methods:{handle_selected_models:function(t){this.competitors=this.models[this.ruleForm.model_id].competitors,this.ruleForm.compete_model_ids=this.competitors.map(function(t){return t.sub_model_id}),this.clearValidate("ruleForm"),this.handle_selected_competitors(this.ruleForm.compete_model_ids)},handle_selected_competitors:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.raw_parts=[],this.ruleForm.part_ids=[],this.isCheckAll=!1,this.GET_PART_TYPES()},checkAll:function(){var t=this,e=!1;this.ruleForm.part_ids.includes(0)&&(e=!0),e&&(this.ruleForm.part_ids=[],this.isCheckAll=!this.isCheckAll,this.isCheckAll&&this.raw_parts.map(function(e){t.ruleForm.part_ids.push(e.part_id)})),this.isCheckAll=this.ruleForm.part_ids.length==this.raw_parts.length},gotoback:function(){this.searchType="",this.competitors=[],this.accessories=[],this.searchRecords=0,this.searchData=[],this.clearValidate("ruleForm"),this.ruleForm={model_id:"",compete_model_ids:[],part_ids:[],mile:""},this.isCheckAll=!1},GET_COMMON_COMPETITORS:function(){var t=this;this.$request.get(this.$interface.GET_COMMON_COMPETITORS,{header:{token:this.token},type:1,rows:1e5},function(e){t.raw_models=e.data[0].list},this.failure)},GET_PART_TYPES:function(){var t=this;!this.ruleForm.model_id||this.ruleForm.compete_model_ids.length<=0||this.$request.get(this.$interface.GET_PART_TYPES,{header:{token:this.token},ym:this.this_year_month||"201801",bp_sub_model_id:this.ruleForm.model_id,jp_sub_model_ids:this.ruleForm.compete_model_ids.join(","),type:"3"},function(e){for(var a in t.accessories=[],e.data){var s=e.data[a].parts;for(var i in s)t.accessories.push(s[i])}},this.failure)},GET_COMMON_VALID_DATE:function(){var t=this;this.$request.get(this.$interface.GET_COMMON_VALID_DATE,{header:{token:this.token}},function(e){t.part_date=e.data[0].part_date,t.this_year_month=Math.max.apply(Math,l()(t.part_date))+""},this.failure)},GET_SEARCH_DATA:function(t,e,a){var s=this;this.$refs[e].validate(function(e){if(!e)return!1;s.loading=!0,s.searchType=t,s.searchPage=a?1:s.searchPage,s.$request.get(s.$interface.GET_COST_USE_COST_SUM,{header:{token:s.token},ym:s.this_year_month||"201801",bp_sub_model_id:s.ruleForm.model_id,jp_sub_model_ids:s.ruleForm.compete_model_ids.length?s.ruleForm.compete_model_ids.join(","):"",mile:s.ruleForm.mile,part_ids:s.ruleForm.part_ids.length?s.ruleForm.part_ids.join(","):""},function(t){s.searchData=t.data||[],s.searchRecords=s.searchData.length,s.mile=s.mileage[s.ruleForm.mile]||"6万公里",s.firstLoad=!1,s.loading=!1},s.failure)})}},components:{BiBar:Rt,BiPanel:v.a,BiEmpty:wt.a}},Ss={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cyc-shouhou-main"},[a("bi-bar",{attrs:{columnTitle:"用车成本查询",columnIcon:"icon-shouhou"}},[a("template",{slot:"button"},[a("span",[t._v("当前数据时间：")]),t._v(" "),a("el-date-picker",{staticStyle:{width:"120px"},attrs:{"prefix-icon":"change-data-button",format:"yyyy/MM","value-format":"yyyyMM","picker-options":t.pickerOptions,editable:!1,clearable:!1,type:"month"},model:{value:t.this_year_month,callback:function(e){t.this_year_month=e},expression:"this_year_month"}})],1),t._v(" "),a("template",{slot:"right"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("概览主页")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/zhiku/sh"}}},[t._v("售后概况")]),t._v(" "),a("el-breadcrumb-item",[t._v("用车成本查询")])],1)],1)],2),t._v(" "),a("div",{staticClass:"content"},[a("bi-panel",{directives:[{name:"show",rawName:"v-show",value:2!=t.searchType,expression:"searchType != 2"}],attrs:{operating:!1}},[a("template",{slot:"title"},[a("font",[t._v("按条件查询")])],1),t._v(" "),a("div",{staticClass:"search-condition"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"100px","label-position":"top"}},[a("div",{staticClass:"clear",staticStyle:{"margin-bottom":"20px"}},[a("div",{staticClass:"popover-box"},[a("el-form-item",{attrs:{label:"本品车型",prop:"model_id"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:""},on:{change:t.handle_selected_models},model:{value:t.ruleForm.model_id,callback:function(e){t.$set(t.ruleForm,"model_id",e)},expression:"ruleForm.model_id"}},t._l(t.models_grouped,function(e){return a("el-option-group",{key:e.label,attrs:{label:e.label}},t._l(e.options,function(t){return a("el-option",{key:t.sub_model_id,attrs:{label:t.sub_model_name,value:t.sub_model_id}})}))}))],1)],1),t._v(" "),a("div",{staticClass:"popover-box",staticStyle:{"min-width":"400px"}},[a("el-form-item",{attrs:{label:"竞品车型",prop:"compete_model_ids"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"请选择"},on:{change:t.handle_selected_competitors},model:{value:t.ruleForm.compete_model_ids,callback:function(e){t.$set(t.ruleForm,"compete_model_ids",e)},expression:"ruleForm.compete_model_ids"}},t._l(t.competitors_grouped,function(e){return a("el-option-group",{key:e.label,attrs:{label:e.label}},t._l(e.options,function(t){return a("el-option",{key:t.sub_model_id,attrs:{label:t.sub_model_name,value:t.sub_model_id}})}))}))],1)],1)]),t._v(" "),a("div",{staticClass:"clear",staticStyle:{"margin-bottom":"20px"}},[a("div",{staticClass:"popover-box",staticStyle:{"min-width":"400px"}},[a("el-form-item",{attrs:{label:"配件名称",prop:"part_ids"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"请选择",filterable:""},model:{value:t.ruleForm.part_ids,callback:function(e){t.$set(t.ruleForm,"part_ids",e)},expression:"ruleForm.part_ids"}},t._l(t.accessories,function(t,e){return a("el-option",{key:e,attrs:{label:t.part_name,value:t.part_id}})}))],1)],1),t._v(" "),a("div",{staticClass:"popover-box"},[a("el-form-item",{attrs:{label:"比较里程",prop:"mile"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:""},model:{value:t.ruleForm.mile,callback:function(e){t.$set(t.ruleForm,"mile",e)},expression:"ruleForm.mile"}},t._l(t.mileage,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:e}})}))],1)],1)]),t._v(" "),a("a",{staticClass:"submit",attrs:{href:"javascript:void(0);"},on:{click:function(e){t.GET_SEARCH_DATA(1,"ruleForm",1)}}},[t._v(t._s(t.searchStatusText))]),t._v(" "),a("a",{directives:[{name:"show",rawName:"v-show",value:1==t.searchType,expression:"searchType==1"}],staticClass:"submit-back",attrs:{href:"javascript:void(0);"},on:{click:function(e){t.gotoback()}}},[t._v("返回上一步")])])],1)],2),t._v(" "),a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[a("font",{staticStyle:{"font-size":"14px"}},[t._v("为您找到 "),a("b",{staticClass:"font-red"},[t._v(t._s(t.searchRecords))]),t._v(" 条符合条件的用车成本")])],1),t._v(" "),a("transition",{attrs:{name:"table"}},[t.searchData.length>0?a("div",{staticClass:"search-result"},[a("el-table",{attrs:{data:t.searchData,width:"100%"}},t._l(t.columns,function(e,s){return e.show?a("el-table-column",{key:e.value,attrs:{type:e.type,label:["sell_price","hourly_wage"].includes(e.value)?e.label.replace(/\$param/,t.mile):e.label,align:["sell_price","hourly_wage"].includes(e.value)?"right":"left",width:e.width},scopedSlots:t._u([{key:"default",fn:function(a){return[["sell_price","hourly_wage"].includes(e.value)?[t._v("\n                  "+t._s(t._f("number_format")(a.row[e.value],2))+"\n                ")]:"index"==e.type?[t._v("\n                  "+t._s((t.searchPage-1)*t.page_size+a.$index+1)+"\n                ")]:[t._v("\n                  "+t._s(a.row[e.value])+"\n                ")]]}}])}):t._e()})),t._v(" "),a("div",{staticClass:"pagination-box"},[a("el-pagination",{staticStyle:{"text-align":"right","margin-right":"10px"},attrs:{background:"",layout:"prev, pager, next","prev-text":"上一页","next-text":"下一页","current-page":t.searchPage,"page-size":t.page_size,total:t.searchRecords},on:{"current-change":function(e){t.GET_SEARCH_DATA(1,"ruleForm")},"update:currentPage":function(e){t.searchPage=e}}})],1)],1):a("div",{staticClass:"search-result"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{"min-height":"300px"},attrs:{"element-loading-background":"#fff"}},[t.firstLoad?[t.loading?t._e():a("bi-empty",{attrs:{"show-result":!1}},[a("span",{attrs:{slot:"tips"},slot:"tips"},[t._v("亲爱的，您还没有选择查询条件，请先选择您关注的查询条件")])])]:[a("bi-empty")]],2)])])],2)],1)],1)},staticRenderFns:[]},Es=a("Z0/y")(Ts,Ss,!1,null,null,null).exports,Os={mixins:[g.a],name:"",data:function(){return{selectOnClass:!1,searchType:"",model_name:"",searchData:[],seriesData1:[],seriesData2:[],optionA:{},searchPage:1,part_date:[],where:[],firstLoad:!0,loading:!1,model_name_group:[],raw_models:[],competitors:[],mileage:[{mile_id:6e4,mile_val:"6万公里"},{mile_id:1e5,mile_val:"10万公里"}],ruleForm:{model_id:"",compete_model_ids:[],mile:""},rules:{model_id:[{required:!0,message:"请选择本品车型",trigger:"change"}],compete_model_ids:[{required:!0,message:"请选择竞品车型",trigger:"change"}],mile:[{required:!0,message:"请选择比较里程",trigger:"change"}]}}},computed:{pickerOptions:function(){var t=this;return{disabledDate:function(e){var a=Math.min.apply(Math,l()(t.part_date))+"",s=Math.max.apply(Math,l()(t.part_date))+"";if(a&&s){var i=a.substr(0,4)+"/"+a.substr(4,2)+"/01",n=s.substr(0,4)+"/"+s.substr(4,2)+"/01";return i=Date.parse(new Date(i)),n=Date.parse(new Date(n)),e&&e.valueOf()<i||e&&e.valueOf()>n}return e}}},searchStatusText:function(){return this.searchType?"搜索":"下一步"},models_grouped:function(){var t={};return this.raw_models.map(function(e){t[e.manf_brand_name]||(t[e.manf_brand_name]={},t[e.manf_brand_name].label=e.manf_brand_name,t[e.manf_brand_name].options=[]),t[e.manf_brand_name].options.push(e)}),t},models:function(){var t={};return this.raw_models.map(function(e){t[e.sub_model_id]=e}),t},competitors_grouped:function(){var t={};return this.competitors.map(function(e){t[e.manf_brand_name]||(t[e.manf_brand_name]={},t[e.manf_brand_name].label=e.manf_brand_name,t[e.manf_brand_name].options=[]),t[e.manf_brand_name].options.push(e)}),t}},mounted:function(){var t=this;this.getToken(function(){t.GET_COMMON_COMPETITORS(),t.GET_COMMON_VALID_DATE()})},methods:{getOptionA:function(){return{backgroundColor:"#fff",color:["#00b0f3","#d1e0e7","#cb6234","#d1e0e7","#2b821d","#005eaa","#c12e34","#cda819","#32a487","#333333","#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],tooltip:{trigger:"item"},legend:{show:!0,orient:"horizontal",top:"0",itemGap:50,textStyle:{fontSize:13},data:["配件价格","工时价格"]},xAxis:[{axisLine:{show:!0,lineStyle:{color:"#999"}},splitLine:{show:!1},axisLabel:{show:!0,rotate:0},axisTick:{show:!0},data:this.model_name_group}],yAxis:[{type:"value",name:"",nameTextStyle:{color:"#7d838b"},min:0,axisLabel:{formatter:"{value}元"},splitLine:{lineStyle:{color:"#f2f2f2"}},axisTick:{show:!1},axisLine:{show:!1,lineStyle:{color:"#999"}}}],grid:{x:"自适应",top:55,bottom:50,width:"自适应",height:"自适应",containLabel:!0},dataZoom:[{show:!0,height:30,bottom:5,left:10,right:5,start:0,end:100,handleIcon:"path://M306.1,413c0,2.2-1.8,4-4,4h-59.8c-2.2,0-4-1.8-4-4V200.8c0-2.2,1.8-4,4-4h59.8c2.2,0,4,1.8,4,4V413z",handleSize:"110%",handleStyle:{color:"#d3dee5"},textStyle:{color:"#fff"},borderColor:"#90979c"},{type:"inside",show:!0,height:15,start:1,end:35}],series:[{name:"工时价格",stack:"总量",type:"bar",barWidth:"60",itemStyle:{normal:{label:{show:!0,position:"insideTop",textStyle:{color:"#fff"},formatter:function(t){return t.value>0?t.value:""}}}},data:this.seriesData1},{name:"配件价格",stack:"总量",type:"bar",barWidth:"60",itemStyle:{normal:{label:{show:!0,position:"insideTop",textStyle:{color:"#fff"},formatter:function(t){return t.value>0?t.value:""}}}},data:this.seriesData2}]}},handle_selected_models:function(t){this.competitors=this.models[this.ruleForm.model_id].competitors,this.ruleForm.compete_model_ids=this.competitors.map(function(t){return t.sub_model_id}),this.clearValidate("ruleForm")},gotoback:function(){this.searchType="",this.competitors=[],this.searchData=[],this.clearValidate("ruleForm"),this.ruleForm={model_id:"",compete_model_ids:[],mile:""}},GET_COMMON_COMPETITORS:function(){var t=this;this.$request.get(this.$interface.GET_COMMON_COMPETITORS,{header:{token:this.token},type:1,rows:1e5},function(e){t.raw_models=e.data[0].list},this.failure)},GET_COMMON_VALID_DATE:function(){var t=this;this.$request.get(this.$interface.GET_COMMON_VALID_DATE,{header:{token:this.token}},function(e){t.part_date=e.data[0].part_date,t.this_year_month=Math.max.apply(Math,l()(t.part_date))+""},this.failure)},GET_SEARCH_DATA:function(t,e){var a=this;this.$refs[e].validate(function(e){if(!e)return!1;a.loading=!0,a.searchType=t,a.$request.get(a.$interface.GET_COST_USE_COST_SUM,{header:{token:a.token},ym:a.this_year_month||"201801",bp_sub_model_id:a.ruleForm.model_id,jp_sub_model_ids:a.ruleForm.compete_model_ids.length?a.ruleForm.compete_model_ids.join(","):"",mile:a.ruleForm.mile},function(t){a.searchData=t.data,a.optionA={},a.model_name_group=[],a.seriesData1=[],a.seriesData2=[],t.data.length>0&&(a.model_name=t.data[0].sub_model_name,t.data.map(function(t){a.model_name_group.push(t.sub_model_name),a.seriesData1.push(t.hourly_wage.toFixed(0)),a.seriesData2.push(t.sell_price.toFixed(0))}),a.$nextTick(function(){a.firstLoad=!1,a.loading=!1,a.optionA=a.getOptionA()}))},a.failure)})}},components:{BiBar:Rt,BiChart:B,BiEmpty:wt.a,BiPanel:v.a}},Ds={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cyc-shouhou-main"},[a("bi-bar",{attrs:{columnTitle:"用车成本比较",columnIcon:"icon-shouhou"}},[a("template",{slot:"button"},[a("span",[t._v("当前数据时间：")]),t._v(" "),a("el-date-picker",{staticStyle:{width:"120px"},attrs:{"prefix-icon":"change-data-button",format:"yyyy/MM","value-format":"yyyyMM","picker-options":t.pickerOptions,editable:!1,clearable:!1,type:"month"},model:{value:t.this_year_month,callback:function(e){t.this_year_month=e},expression:"this_year_month"}})],1),t._v(" "),a("template",{slot:"right"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("概览主页")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/zhiku/sh"}}},[t._v("售后概况")]),t._v(" "),a("el-breadcrumb-item",[t._v("用车成本比较")])],1)],1)],2),t._v(" "),a("div",{staticClass:"content"},[a("bi-panel",{directives:[{name:"show",rawName:"v-show",value:2!=t.searchType,expression:"searchType != 2"}],attrs:{operating:!1}},[a("template",{slot:"title"},[a("font",[t._v("按条件查询")])],1),t._v(" "),a("div",{staticClass:"search-condition"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"100px","label-position":"top"}},[a("div",{staticClass:"clear",staticStyle:{"margin-bottom":"20px"}},[a("div",{staticClass:"popover-box"},[a("el-form-item",{attrs:{label:"本品车型",prop:"model_id"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:""},on:{change:t.handle_selected_models},model:{value:t.ruleForm.model_id,callback:function(e){t.$set(t.ruleForm,"model_id",e)},expression:"ruleForm.model_id"}},t._l(t.models_grouped,function(e){return a("el-option-group",{key:e.label,attrs:{label:e.label}},t._l(e.options,function(t){return a("el-option",{key:t.sub_model_id,attrs:{label:t.sub_model_name,value:t.sub_model_id}})}))}))],1)],1),t._v(" "),a("div",{staticClass:"popover-box",staticStyle:{"min-width":"400px"}},[a("el-form-item",{attrs:{label:"竞品车型",prop:"compete_model_ids"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"请选择"},model:{value:t.ruleForm.compete_model_ids,callback:function(e){t.$set(t.ruleForm,"compete_model_ids",e)},expression:"ruleForm.compete_model_ids"}},t._l(t.competitors_grouped,function(e){return a("el-option-group",{key:e.label,attrs:{label:e.label}},t._l(e.options,function(t){return a("el-option",{key:t.sub_model_id,attrs:{label:t.sub_model_name,value:t.sub_model_id}})}))}))],1)],1)]),t._v(" "),a("div",{staticClass:"clear",staticStyle:{"margin-bottom":"20px"}},[a("div",{staticClass:"popover-box"},[a("el-form-item",{attrs:{label:"比较里程",prop:"mile"}},[a("el-select",{attrs:{placeholder:"请选择",filterable:""},model:{value:t.ruleForm.mile,callback:function(e){t.$set(t.ruleForm,"mile",e)},expression:"ruleForm.mile"}},t._l(t.mileage,function(t,e){return a("el-option",{key:e,attrs:{label:t.mile_val,value:t.mile_id}})}))],1)],1)]),t._v(" "),a("a",{staticClass:"submit",attrs:{href:"javascript:void(0);"},on:{click:function(e){t.GET_SEARCH_DATA(1,"ruleForm")}}},[t._v(t._s(t.searchStatusText))]),t._v(" "),a("a",{directives:[{name:"show",rawName:"v-show",value:1==t.searchType,expression:"searchType==1"}],staticClass:"submit-back",attrs:{href:"javascript:void(0);"},on:{click:function(e){t.gotoback()}}},[t._v("返回上一步")])])],1)],2),t._v(" "),a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[t._v("\n        用车成本比较结果\n      ")]),t._v(" "),t.searchData.length>0?a("div",{staticClass:"search-result"},[a("h2",[t._v(t._s(t.model_name)+"与竞品用车成本比较")]),t._v(" "),a("bi-chart",{staticStyle:{height:"380px"},attrs:{option:t.optionA,id:"chart_a"}})],1):a("div",{staticClass:"search-result"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{"min-height":"300px"},attrs:{"element-loading-background":"#fff"}},[t.firstLoad?[t.loading?t._e():a("bi-empty",{attrs:{"show-result":!1}},[a("span",{attrs:{slot:"tips"},slot:"tips"},[t._v("亲爱的，您还没有选择查询条件，请先选择您关注的查询条件")])])]:[a("bi-empty")]],2)])],2)],1)],1)},staticRenderFns:[]};var As=a("Z0/y")(Os,Ds,!1,function(t){a("G1wA")},"data-v-59cc6f34",null).exports,Ms={name:"",mixins:[g.a],data:function(){return{brands:[],raw_models:[],selected_manf_name:"",selected_brand_name:"",DialogVisible:!1,searchData:[],page:1,searchRecords:0,manfs_group:[],letter_selected:{manfsBox:"A"},manfs_static:[],manf_max:8,loading:!0}},mounted:function(){var t=this;this.getToken(function(){t.GET_COMMON_MANFS_BRANDS(),t.GET_FILE_REPORT_LIST()})},computed:{manfs_map_by_name:function(){var t={};return this.manfs_group.map(function(e){e.manf_brands.map(function(e){t[e.manf_name]=e})}),t}},methods:{selectLetter:function(t,e){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.letter_selected[t]=e;var s=document.querySelector("#"+t);if(s){var i=s.querySelector('[data-key="'+e+'"]').offsetTop-s.offsetTop-10;setTimeout(function(){a?A()("#"+t).animate({scrollTop:i},300,"swing"):A()("#"+t).scrollTop(i)},10)}},handleSelectManf:function(t,e){this.changeManf(e),this.DialogVisible=!1;var a=this.manfs_static.findIndex(function(t,a){return t.manf_name==e});8==this.manfs_static.length?this.manfs_static.splice(this.manfs_static.length-1,1,{manf_id:t,manf_name:e}):-1==a&&this.manfs_static.push({manf_id:t,manf_name:e})},changeManf:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.selected_manf_name=t,this.selected_brand_name="",this.GET_FILE_REPORT_LIST(),this.manfs_map_by_name[t]&&(this.brands=this.manfs_map_by_name[t].brands||[])},changeBrand:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.selected_brand_name=t,this.GET_FILE_REPORT_LIST()},GET_COMMON_MANFS_BRANDS:function(){var t=this;this.$request.get(this.$interface.GET_COMMON_MANFS_BRANDS,{header:{token:this.token}},function(e){t.manfs_group=e.data,t.manfs_group.map(function(e){e.manf_brands.map(function(e){t.manfs_static.length>=t.manf_max||t.manfs_static.push({manf_id:e.manf_id,manf_name:e.manf_name})})})},this.failure)},GET_FILE_REPORT_LIST:function(){var t=this;this.$request.get(this.$interface.GET_FILE_REPORT_LIST,{header:{token:this.token},manf_names:this.selected_manf_name,brand_names:this.selected_brand_name,type:"1",page:this.page,rows:10},function(e){t.loading=!1;var a=e.data[0]||{};t.searchData=a.list||[],t.searchRecords=a.total||0},this.failure)},download:function(t){var e=this;this.$request.get(this.$interface.GET_REPORT_FILE,{header:{token:this.token},responseType:"blob",id:t},function(t){var a=e.getFileName(t.headers);e.downloadFile(t.data,a)},this.failure)},downloadFile:function(t,e){if(t){var a=window.URL.createObjectURL(new Blob([t])),s=document.createElement("a");s.style.display="none",s.href=a,s.setAttribute("download",e||"excel.xlsx"),document.body.appendChild(s),s.click()}},getFileName:function(t){if(t&&t["content-disposition"]){var e=t["content-disposition"].split(";"),a="";for(var s in e){var i=e[s];if(2==(i=i.trim().split("=")).length&&"filename*"==i[0]){a=i[1];break}}return-1!=a.indexOf("''")?decodeURIComponent(a.split("''")[1])||"":void 0}},isOpenDialogVisible:function(t){this.$emit("openTheDialog",t)}},components:{BiBar:Rt,BiPanel:v.a,BiEmpty:wt.a}},Ns={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cyc-shouhou-main"},[a("bi-bar",{attrs:{columnTitle:"数据下载",columnIcon:"icon-calendar"}},[a("template",{slot:"right"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("概览主页")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/zhiku/sh"}}},[t._v("售后概况")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 数据下载")])],1)],1)],2),t._v(" "),a("div",{staticClass:"content"},[a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[t._v("\n          请选择筛选条件\n        ")]),t._v(" "),a("div",{staticClass:"condition"},[a("dl",[a("dt",[t._v("厂商：")]),t._v(" "),a("dd",[a("span",{class:{on:""==t.selected_manf_name},on:{click:function(e){t.changeManf()}}},[t._v("不限")]),t._v(" "),t._l(t.manfs_static,function(e){return a("span",{class:{on:e.manf_name==t.selected_manf_name},on:{click:function(a){t.changeManf(e.manf_name)}}},[t._v(t._s(e.manf_name))])})],2),t._v(" "),a("dd",{staticClass:"more"},[a("el-dialog",{attrs:{title:"请选择厂商",visible:t.DialogVisible,"append-to-body":!0,"custom-class":"dialog-va",width:"900px","lock-scroll":!1,center:""},on:{"update:visible":function(e){t.DialogVisible=e},open:function(e){t.isOpenDialogVisible(!0)},close:function(e){t.isOpenDialogVisible(!1)}}},[a("div",{staticClass:"cont"},[a("ul",t._l(t.manfs_group,function(e){return a("li",{on:{click:function(a){t.selectLetter("manfsBox",e.py_first_letter)}}},[t._v(t._s(e.py_first_letter))])})),t._v(" "),a("div",{attrs:{id:"manfsBox"}},t._l(t.manfs_group,function(e){return a("dl",[a("dt",{attrs:{"data-key":e.py_first_letter}},[t._v(t._s(e.py_first_letter))]),t._v(" "),a("dd",t._l(e.manf_brands,function(e){return a("span",{on:{click:function(a){t.handleSelectManf(e.manf_id,e.manf_name)}}},[t._v(t._s(e.manf_name))])}))])}))]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.centerDialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.centerDialogVisible=!1}}},[t._v("确 定")])],1)])],1)]),t._v(" "),a("dl",[a("dt",[t._v("品牌：")]),t._v(" "),a("dd",[a("span",{class:{on:""==t.selected_brand_name},on:{click:function(e){t.changeBrand()}}},[t._v("不限")]),t._v(" "),t._l(t.brands,function(e){return a("span",{class:{on:e.brand_name==t.selected_brand_name},on:{click:function(a){t.changeBrand(e.brand_name)}}},[t._v(t._s(e.brand_name))])})],2)])])],2),t._v(" "),a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[t._v("\n          本品车型及竞品价格列表下载\n        ")]),t._v(" "),t.searchData.length>0?a("div",{staticClass:"result"},[t._l(t.searchData,function(e){return a("ul",{staticClass:"box"},[a("li",[a("img",{attrs:{src:e.cover,alt:""}})]),t._v(" "),a("li",[a("h4",[t._v(t._s(e.title))]),t._v(" "),a("h5",[a("el-tag",{attrs:{size:"mini"}},[t._v(t._s(e.extension))])],1),t._v(" "),a("p",[t._v("大小："+t._s(t._f("number_format")(e.size,2))+"M  "+t._s(e.contributor)+" 于 "+t._s(e.post_time)+" 发布")])]),t._v(" "),a("li",[a("a",{attrs:{href:"javascript:void(0);"},on:{click:function(a){t.download(e.id)}}},[t._v("下载")]),t._v(" "),a("p",[t._v("已下载："+t._s(e.download_count)+"次")])])])}),t._v(" "),t.searchRecords?a("div",{staticClass:"pagination-box"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","prev-text":"上一页","next-text":"下一页","current-page":t.page,"page-size":10,total:t.searchRecords},on:{"current-change":t.GET_FILE_REPORT_LIST,"update:currentPage":function(e){t.page=e}}})],1):t._e()],2):a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"search-result",staticStyle:{"min-height":"300px"}},[t.loading?t._e():a("bi-empty")],1)],2)],1)],1)},staticRenderFns:[]};var Gs=a("Z0/y")(Ms,Ns,!1,function(t){a("yMUu")},"data-v-76ab5be2",null).exports,Is={name:"",mixins:[g.a],data:function(){return{conditions:{post_time:[{value:"6",label:"半年内"},{value:"12",label:"一年内"},{value:"36",label:"三年内"}],extensions:[{value:"XLS,XLSX",label:"XLS"},{value:"DOC,DOCX",label:"DOC"},{value:"PPT,PPTX",label:"PPT"},{value:"PDF",label:"PDF"}],charge_type:[{value:"1",label:"免费"},{value:"2",label:"收费"}]},post_time:"",extensions:"",charge_type:"",searchData:[],page:1,searchRecords:0,loading:!0}},mounted:function(){var t=this;this.getToken(function(){t.GET_FILE_REPORT_LIST()})},methods:{changeCondition:function(t,e){void 0!=this[t]&&(this[t]=e,this.GET_FILE_REPORT_LIST())},GET_FILE_REPORT_LIST:function(){var t=this;this.$request.get(this.$interface.GET_FILE_REPORT_LIST,{header:{token:this.token},post_time:this.post_time,extensions:this.extensions,charge_type:this.charge_type,type:"2",page:this.page,rows:10},function(e){t.loading=!1;var a=e.data[0]||{};t.searchData=a.list||[],t.searchRecords=a.total||0},this.failure)},download:function(t){var e=this;this.$request.get(this.$interface.GET_REPORT_FILE,{header:{token:this.token},responseType:"blob",id:t},function(t){var a=e.getFileName(t.headers);e.downloadFile(t.data,a)},this.failure)},downloadFile:function(t,e){if(t){var a=window.URL.createObjectURL(new Blob([t])),s=document.createElement("a");s.style.display="none",s.href=a,s.setAttribute("download",e||"excel.xlsx"),document.body.appendChild(s),s.click()}},getFileName:function(t){if(t&&t["content-disposition"]){var e=t["content-disposition"].split(";"),a="";for(var s in e){var i=e[s];if(2==(i=i.trim().split("=")).length&&"filename*"==i[0]){a=i[1];break}}return-1!=a.indexOf("''")?decodeURIComponent(a.split("''")[1])||"":void 0}}},components:{BiBar:Rt,BiPanel:v.a,BiEmpty:wt.a}},Rs={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cyc-shouhou-main"},[a("bi-bar",{attrs:{columnTitle:"报告下载",columnIcon:"icon-calendar"}},[a("template",{slot:"right"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("概览主页")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/zhiku/sh"}}},[t._v("售后概况")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 报告下载")])],1)],1)],2),t._v(" "),a("div",{staticClass:"content"},[a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[t._v("\n        请选择筛选条件\n      ")]),t._v(" "),a("div",{staticClass:"condition"},[a("dl",[a("dt",[t._v("时间：")]),t._v(" "),a("dd",[a("span",{class:{on:""==t.post_time},on:{click:function(e){t.changeCondition("post_time","")}}},[t._v("不限")]),t._v(" "),t._l(t.conditions.post_time,function(e){return a("span",{key:e.value,class:{on:t.post_time==e.value},on:{click:function(a){t.changeCondition("post_time",e.value)}}},[t._v(t._s(e.label))])})],2)]),t._v(" "),a("dl",[a("dt",[t._v("格式：")]),t._v(" "),a("dd",[a("span",{class:{on:""==t.extensions},on:{click:function(e){t.changeCondition("extensions","")}}},[t._v("不限")]),t._v(" "),t._l(t.conditions.extensions,function(e){return a("span",{key:e.value,class:{on:t.extensions==e.value},on:{click:function(a){t.changeCondition("extensions",e.value)}}},[t._v(t._s(e.label))])})],2)]),t._v(" "),a("dl",[a("dt",[t._v("类型：")]),t._v(" "),a("dd",[a("span",{class:{on:""==t.charge_type},on:{click:function(e){t.changeCondition("charge_type","")}}},[t._v("不限")]),t._v(" "),t._l(t.conditions.charge_type,function(e){return a("span",{key:e.value,class:{on:t.charge_type==e.value},on:{click:function(a){t.changeCondition("charge_type",e.value)}}},[t._v(t._s(e.label))])})],2)])])],2),t._v(" "),a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[t._v("\n        报告列表\n      ")]),t._v(" "),t.searchData.length>0?a("div",{staticClass:"result"},[t._l(t.searchData,function(e){return a("ul",{staticClass:"box"},[a("li",[a("img",{attrs:{src:e.cover,alt:""}})]),t._v(" "),a("li",[a("h4",[t._v(t._s(e.title))]),t._v(" "),a("h5",[a("el-tag",{attrs:{size:"mini"}},[t._v(t._s(e.extension))])],1),t._v(" "),a("p",[t._v("大小："+t._s(t._f("number_format")(e.size,2))+"M  "+t._s(e.contributor)+" 于 "+t._s(e.post_time)+" 发布")])]),t._v(" "),a("li",[a("a",{attrs:{href:"javascript:void(0);"},on:{click:function(a){t.download(e.id)}}},[t._v("下载")]),t._v(" "),a("p",[t._v("已下载："+t._s(e.download_count)+"次")])])])}),t._v(" "),t.searchRecords?a("div",{staticClass:"pagination-box"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","prev-text":"上一页","next-text":"下一页","current-page":t.page,"page-size":10,total:t.searchRecords},on:{"current-change":t.GET_FILE_REPORT_LIST,"update:currentPage":function(e){t.page=e}}})],1):t._e()],2):a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"search-result",staticStyle:{"min-height":"300px"}},[t.loading?t._e():a("bi-empty")],1)],2)],1)],1)},staticRenderFns:[]};var Ps=a("Z0/y")(Is,Rs,!1,function(t){a("WSZ1")},"data-v-57465b0a",null).exports,Fs={name:"",data:function(){return{report:[{title:"新能源汽车行业月报-201701",size:"13.7MB",time:"2018-3-6 14:05",author:"惠康",url:"/static/report/新能源汽车行业月报-201701.pptx",img:"/static/report/images/img1.jpg"},{title:"新能源汽车行业月报-201702",size:"14.5MB",time:"2018-3-6 14:05",author:"惠康",url:"/static/report/新能源汽车行业月报-201702.pptx",img:"/static/report/images/img2.jpg"},{title:"新能源汽车行业月报-201703",size:"14.6MB",time:"2018-3-6 14:05",author:"惠康",url:"/static/report/新能源汽车行业月报-201703.pptx",img:"/static/report/images/img3.jpg"},{title:"新能源汽车行业月报-201704",size:"11.2MB",time:"2018-3-6 14:05",author:"惠康",url:"/static/report/新能源汽车行业月报-201704.pptx",img:"/static/report/images/img4.jpg"},{title:"新能源汽车行业月报-201705",size:"17.0MB",time:"2018-3-6 14:05",author:"惠康",url:"/static/report/新能源汽车行业月报-201705.pptx",img:"/static/report/images/img5.jpg"},{title:"新能源汽车行业月报-201706",size:"12.7MB",time:"2018-3-6 14:05",author:"惠康",url:"/static/report/新能源汽车行业月报-201706.pptx",img:"/static/report/images/img6.jpg"},{title:"新能源汽车行业月报-201707",size:"15.5MB",time:"2018-3-6 14:05",author:"惠康",url:"/static/report/新能源汽车行业月报-201707.pptx",img:"/static/report/images/img7.jpg"},{title:"新能源汽车行业月报-201708",size:"15.1MB",time:"2018-3-6 14:05",author:"惠康",url:"/static/report/新能源汽车行业月报-201708.pptx",img:"/static/report/images/img8.jpg"},{title:"新能源汽车行业月报-201709",size:"12.5MB",time:"2018-3-6 14:05",author:"惠康",url:"/static/report/新能源汽车行业月报-201709.pptx",img:"/static/report/images/img9.jpg"},{title:"新能源汽车行业月报-201710",size:"16.7MB",time:"2018-3-6 14:05",author:"惠康",url:"/static/report/新能源汽车行业月报-201710.pptx",img:"/static/report/images/img10.jpg"},{title:"新能源汽车行业月报-201711",size:"15.5MB",time:"2018-3-6 14:05",author:"惠康",url:"/static/report/新能源汽车行业月报-201711.pptx",img:"/static/report/images/img11.jpg"},{title:"新能源汽车行业月报-201712",size:"17.8MB",time:"2018-3-6 14:05",author:"惠康",url:"/static/report/新能源汽车行业月报-201712.pptx",img:"/static/report/images/img12.jpg"}]}},components:{BiBar:Rt,BiPanel:v.a}},Bs={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"nerhy-load-data"},[a("bi-bar",{attrs:{columnTitle:"报告下载",columnIcon:"icon-bingtu"}},[a("template",{slot:"right"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("概览主页")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 行业动态")]),t._v(" "),a("el-breadcrumb-item",[t._v(" 报告下载")])],1)],1)],2),t._v(" "),a("div",{staticClass:"content"},[a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[t._v("\n        请选择筛选条件\n      ")]),t._v(" "),a("div",{staticClass:"condition"},[a("dl",[a("dt",[t._v("格式：")]),t._v(" "),a("dd",[a("span",{staticClass:"on"},[t._v("不限")]),t._v(" "),a("span",[t._v("XLS")]),t._v(" "),a("span",[t._v("DOC")]),t._v(" "),a("span",[t._v("PPT")]),t._v(" "),a("span",[t._v("PDF")])])]),t._v(" "),a("dl",[a("dt",[t._v("类型：")]),t._v(" "),a("dd",[a("span",{staticClass:"on"},[t._v("不限")]),t._v(" "),a("span",[t._v("免费")]),t._v(" "),a("span",[t._v("收费")])])])])],2),t._v(" "),a("bi-panel",{attrs:{operating:!1}},[a("template",{slot:"title"},[t._v("\n        报告下载\n      ")]),t._v(" "),a("div",{staticClass:"result"},t._l(t.report,function(e,s){return a("ul",{key:s,staticClass:"box"},[a("li",[a("img",{attrs:{src:e.img,alt:""}})]),t._v(" "),a("li",[a("h4",[t._v(t._s(e.title))]),t._v(" "),a("h5",[a("el-tag",{attrs:{size:"mini"}},[t._v("PPT")])],1),t._v(" "),a("p",[t._v("大小："+t._s(e.size)+"  "+t._s(e.author)+" 于 "+t._s(e.time)+" 发布")])]),t._v(" "),a("li",[a("a",{attrs:{href:e.url,download:e.title}},[t._v("下载")])])])}))],2)],1)],1)},staticRenderFns:[]};var $s=a("Z0/y")(Fs,Bs,!1,function(t){a("TD8L")},"data-v-e0e586dc",null).exports,qs={render:function(){var t=this.$createElement;return(this._self._c||t)("iframe",{staticStyle:{width:"100%",height:"764px","padding-top":"51px",border:"0"},attrs:{src:"http://car.waysdata.com/product/SelectModelController!main.do?urlPath=product/configComparison.do&locale=zh_CN"}})},staticRenderFns:[]},Ls=a("Z0/y")({destroyed:function(){this.$emit("panelStyle",!0)},mounted:function(){this.$emit("panelStyle",!1)}},qs,!1,null,null,null).exports,zs={render:function(){var t=this.$createElement;return(this._self._c||t)("iframe",{staticStyle:{width:"100%",height:"764px","padding-top":"51px",border:"0"},attrs:{src:"http://car.waysdata.com/price/priceSearch?locale=zh_CN"}})},staticRenderFns:[]},js=a("Z0/y")({destroyed:function(){this.$emit("panelStyle",!0)},mounted:function(){this.$emit("panelStyle",!1)}},zs,!1,null,null,null).exports,Vs={data:function(){return{height:"765px",base_url:"/hangye.html",page_url:""}},destroyed:function(){this.$emit("panelStyle",!0)},mounted:function(){this.height=window.innerHeight-5+"px",this.page_url=this.base_url+this.getHash(),this.$emit("panelStyle",!1)},watch:{$route:function(){this.page_url=this.base_url+this.getHash()}},methods:{getHash:function(){var t=this.$route.path.split("/"),e="";return t&&4==t.length&&(e=t[t.length-1]),e=""==e?"#/home":"#/"+e}}},Ws={render:function(){var t=this.$createElement;return(this._self._c||t)("iframe",{style:{width:"100%",height:this.height,paddingTop:"51px",border:0},attrs:{src:this.page_url}})},staticRenderFns:[]},Ys=a("Z0/y")(Vs,Ws,!1,null,null,null).exports,Us=[{path:"/zhiku/sc",component:Gt},{path:"/zhice/cx",component:Bt},{path:"/zhice/cx/optimize/selfmade",component:Lt},{path:"/zhice/cx/optimize/selfmade/setva",component:Lt},{path:"/zhice/cx/optimize/selfmade/setvb",component:Vt},{path:"/zhice/cx/optimize/selfmade/setvc",component:Ut},{path:"/zhice/cx/optimize/selfmade/setvd",component:Kt},{path:"/zhice/cx/optimize/improveset",component:Qt},{path:"/zhice/cx/optimize/improveset/setva",component:Qt},{path:"/zhice/cx/optimize/improveset/setvb",component:ae},{path:"/zhice/cx/optimize/improveset/setvc",component:ne},{path:"/zhice/cx/optimize/improveset/setvd",component:le},{path:"/zhiku/chexingguihua",component:Ls},{path:"/zhiku/jiageguanli",component:js},{path:"/zhiku/policy",redirect:"/zhiku/policy/home"},{path:"/zhiku/policy/home",component:Ys},{path:"/zhiku/policy/policies",component:Ys},{path:"/zhiku/policy/search",component:Ys},{path:"/zhiku/policy/reports",component:Ys},{path:"/zhiku/xl"},{path:"/zhiku/xl/country",redirect:"/zhiku/xl/country/setting"},{path:"/zhiku/xl/country/setting",component:fe},{path:"/zhiku/xl/country/situation",component:ke},{path:"/zhiku/xl/country/target",component:Te},{path:"/zhiku/xl/country/target/setva",component:Te},{path:"/zhiku/xl/country/target/setvb",component:Oe},{path:"/zhiku/xl/country/target/setvc",component:Me},{path:"/zhiku/xl/country/target/setvd",component:Ie},{path:"/zhiku/xl/country/target/setve",component:Fe},{path:"/zhiku/xl/country/target/list",component:qe},{path:"/zhiku/xl/country/target/detail",component:je},{path:"/zhiku/xl/country/alarm",component:Ye,meta:{keepAlive:!0}},{path:"/zhiku/xl/country/alarm/detail",component:Ze,meta:{keepAlive:!0}},{path:"/zhiku/xl/area",redirect:"/zhiku/xl/area/setting"},{path:"/zhiku/xl/area/situation",component:Je},{path:"/zhiku/xl/area/target",component:ea},{path:"/zhiku/xl/area/target/setva",component:ea},{path:"/zhiku/xl/area/target/setvb",component:ia},{path:"/zhiku/xl/area/target/setvc",component:oa},{path:"/zhiku/xl/area/target/setvd",component:ca},{path:"/zhiku/xl/area/target/setve",component:ha},{path:"/zhiku/xl/area/target/list",component:pa},{path:"/zhiku/xl/area/target/detail",component:ba},{path:"/zhiku/xl/area/alarm",component:ka,meta:{keepAlive:!0}},{path:"/zhiku/xl/area/alarm/detail",component:Ta,meta:{keepAlive:!0}},{path:"/zhiku/xl/province",redirect:"/zhiku/xl/province/setting"},{path:"/zhiku/xl/province/situation",component:Oa},{path:"/zhiku/xl/province/target",component:Ma},{path:"/zhiku/xl/province/target/list",component:Ma},{path:"/zhiku/xl/province/target/detail",component:Ia},{path:"/zhiku/xl/province/alarm",component:Fa,meta:{keepAlive:!0}},{path:"/zhiku/xl/province/alarm/detail",component:qa,meta:{keepAlive:!0}},{path:"/zhiku/jg",component:Gt},{path:"/zhiku/qd",component:Ya},{path:"/zhiku/sh",component:Za,meta:{keepAlive:!0}},{path:"/zhiku/sh/detail",component:Ja,meta:{keepAlive:!0}},{path:"/zhiku/sh/pjbj",component:Gt,meta:{keepAlive:!0}},{path:"/zhiku/sh/pjjgcx",component:ss,meta:{keepAlive:!0}},{path:"/zhiku/sh/pjjgbj",component:rs,meta:{keepAlive:!0}},{path:"/zhiku/sh/pjjgyzcjgbj",component:_s,meta:{keepAlive:!0}},{path:"/zhiku/sh/pjjgpllbj",component:us,meta:{keepAlive:!0}},{path:"/zhiku/sh/pjjgplzbj",component:vs,meta:{keepAlive:!0}},{path:"/zhiku/sh/pjjgcyfx",component:gs,meta:{keepAlive:!0}},{path:"/zhiku/sh/ycbj",component:Gt,meta:{keepAlive:!0}},{path:"/zhiku/sh/gsjgcx",component:ws,meta:{keepAlive:!0}},{path:"/zhiku/sh/gsjgbj",component:xs,meta:{keepAlive:!0}},{path:"/zhiku/sh/yccbcx",component:Es,meta:{keepAlive:!0}},{path:"/zhiku/sh/yccbbj",component:As,meta:{keepAlive:!0}},{path:"/zhiku/sh/xz",component:Gt,meta:{keepAlive:!0}},{path:"/zhiku/sh/xz/sj",component:Gs,meta:{keepAlive:!0}},{path:"/zhiku/sh/xz/bg",component:Ps,meta:{keepAlive:!0}},{path:"/zhiku/hy",component:Gt},{path:"/zhiku/xfzdc",component:Gt},{path:"/zhiku/ner_xl",component:Gt},{path:"/zhiku/ner_jg",component:Gt},{path:"/zhiku/ner_sh",component:Gt},{path:"/zhiku/ner_hy",component:$s}],Hs={name:"",mixins:[g.a],data:function(){return{popoverShowStyle:!1,headerPopover:!1,headerPopoverHeight:""}},props:{isFixed:{type:Boolean,default:!1}},watch:{$route:function(){this.headerPopover=!1}},computed:Object(ue.c)({user:function(t){return t.user}}),methods:ce()({openHeaderPopover:function(){this.headerPopoverHeight=document.documentElement.clientHeight-35,this.headerPopover=!this.headerPopover},handleDocumentOutClick:function(){var t=document.getElementById("header-el-popover-cont");t&&(t.contains(event.target)||(this.headerPopover=!1))}},Object(ue.b)([he.e]),{logout:function(){var t=this,e=this;this.$confirm("是否退出登录","提示",{lockScroll:!1,confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$request.get(t.$interface.LOGOUT,{token:t.token},function(t){var a=!!e.$store.state.user.code;e.USER_SIGNOUT(),window.location.href=a?"/oos_logout":"/login"})}).catch(function(){})}}),mounted:function(){var t=this;b.a.$on("updateConfig",function(e){t.showUnread=e[6]}),window.addEventListener("click",this.handleDocumentOutClick)},destroyed:function(){window.removeEventListener("click",this.handleDocumentOutClick)}},Zs={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{class:[{fixed:t.isFixed},"header"]},[a("div",{staticClass:"mark"},[a("router-link",{attrs:{to:"/"}},[a("img",{attrs:{src:"/static/images/client/logo-sign.png",alt:""}}),t._v(" "),a("strong",[t._v("智能决策平台")])])],1),t._v(" "),a("div",{staticClass:"web-nav",class:{on:t.headerPopover},on:{click:function(e){t.openHeaderPopover()}}},[t._v("\n        网站导航 "),a("i",{staticClass:"iconfont icon-unfold"})]),t._v(" "),a("ul",{staticClass:"right"},[t._m(0),t._v(" "),a("li",[a("el-badge",{staticClass:"item",attrs:{value:"18"}},[a("i",{staticClass:"iconfont icon-notice"})]),t._v("通知")],1),t._v(" "),a("li",[a("el-dropdown",{attrs:{trigger:"click"}},[a("span",[a("i",{staticClass:"iconfont icon-wenhao1"}),t._v(" 帮助 "),a("i",{staticClass:"iconfont icon-unfold"})]),t._v(" "),a("el-dropdown-menu",{staticClass:"header-dropdown-zindex",attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[t._v("页面自定义布局")]),t._v(" "),a("el-dropdown-item",[t._v("免费数据的下载方式")]),t._v(" "),a("el-dropdown-item",[t._v("数据粒度优化方案")]),t._v(" "),a("el-dropdown-item",[t._v("订制专属数据信息")]),t._v(" "),a("el-dropdown-item",[t._v("联系我们")])],1)],1)],1),t._v(" "),a("li",[a("el-dropdown",{attrs:{trigger:"click"}},[a("span",[a("i",{staticClass:"iconfont icon-people"}),t._v(" "+t._s(t.username)+" "),a("i",{staticClass:"iconfont icon-unfold"})]),t._v(" "),a("el-dropdown-menu",{staticClass:"header-dropdown-zindex",attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{staticClass:"header-dropdown-menu-item"},[a("div",[t._v("进入个人中心")])]),t._v(" "),a("el-dropdown-item",{staticClass:"header-dropdown-menu-item"},[a("div",[t._v("更改密码")])]),t._v(" "),a("el-dropdown-item",{staticClass:"header-dropdown-menu-item"},[a("div",[t._v("找回密码")])]),t._v(" "),a("el-dropdown-item",{staticClass:"header-dropdown-menu-item"},[a("div",{on:{click:function(e){t.logout()}}},[t._v("退出登录")])])],1)],1)],1)])]),t._v(" "),t.headerPopover?a("div",{staticClass:"fixed header-el-popover-cont",style:{height:this.headerPopoverHeight+"px"},attrs:{id:"header-el-popover-cont"}},[a("div",{staticClass:"main-cont",style:{height:this.headerPopoverHeight+"px"}},[t._m(1),t._v(" "),a("div",{staticClass:"right"},[t._m(2),t._v(" "),t._m(3),t._v(" "),a("div",[t._m(4),t._v(" "),a("h4",[t._v("乘用车市场")]),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),a("h4",[t._v("新能源市场")]),t._v(" "),a("div",{staticClass:"cont"},[t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),a("dl",[a("dt",[t._v("行业动态")]),t._v(" "),a("dd",[a("router-link",{attrs:{to:"/zhiku/ner_hy"}},[t._v("新能源行业动态分析")])],1),t._v(" "),a("dd",[a("router-link",{attrs:{to:"/zhiku/ner_hy"}},[t._v("新能源行业月报")])],1)])])])])])]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("i",{staticClass:"iconfont icon-search1  "}),this._v(" 搜索")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"left"},[a("li",[a("h3",[t._v("最近访问")])]),t._v(" "),a("li",[a("a",{attrs:{href:"/client.html#/home"}},[t._v("主页")])]),t._v(" "),a("li",[a("a",{attrs:{href:"/news"}},[t._v("新闻中心")])]),t._v(" "),a("li",[a("a",{attrs:{href:"/client.html#/zhiku/sh"}},[t._v("售后服务")])]),t._v(" "),a("li",[a("a",{attrs:{href:"/client.html#/news"}},[t._v("新闻舆情")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",[e("a",{attrs:{href:"/"}},[this._v("返回首页")]),this._v(" "),e("a",{attrs:{href:"#"}},[this._v("威尔森洞察")]),this._v(" "),e("a",{attrs:{href:"/news"}},[this._v("新闻中心")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",{staticClass:"bg1"},[a("span",{staticClass:"sol-logo"}),t._v("智策")]),t._v(" "),a("div",{staticClass:"cont"},[a("dl",[a("dt",[t._v("市场预测")]),t._v(" "),a("dd",[a("a",{attrs:{href:"#"}},[t._v("车型价量决策支持系统")])]),t._v(" "),a("dd",[a("a",{attrs:{href:"#"}},[t._v("车型销量制定与调整")])])]),t._v(" "),a("dl",[a("dt",[t._v("车型规划")]),t._v(" "),a("dd",[a("a",{attrs:{href:"#"}},[t._v("年度车型改款决策支持系统")])])]),t._v(" "),a("dl",[a("dt",[t._v("渠道管理")]),t._v(" "),a("dd",[a("a",{attrs:{href:"#"}},[t._v("渠道布局决策支持系统")])])]),t._v(" "),a("dl",[a("dt",[t._v("销量管理")]),t._v(" "),a("dd",[a("a",{attrs:{href:"#"}},[t._v("销量目标优化决策支持")])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"bg2"},[e("span",{staticClass:"ana-logo"}),this._v("智库")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cont"},[a("dl",[a("dt",[t._v("市场预测")]),t._v(" "),a("dd",[a("a",{attrs:{href:"#"}},[t._v("全国车型销量预测")])]),t._v(" "),a("dd",[a("a",{attrs:{href:"#"}},[t._v("全国细分市场销量预测与洞察")])]),t._v(" "),a("dd",[a("a",{attrs:{href:"#"}},[t._v("车型区域市场销量预测研究报告")])]),t._v(" "),a("dd",[a("a",{attrs:{href:"#"}},[t._v("车型价量决策支持系统")])]),t._v(" "),a("dd",[a("a",{attrs:{href:"#"}},[t._v("全国车型销量预测系统")])]),t._v(" "),a("dd",[a("a",{attrs:{href:"#"}},[t._v("全国细分市场销量预测系统与深入洞察分析报告")])]),t._v(" "),a("dd",[a("a",{attrs:{href:"#"}},[t._v("市场预测专项研究")])]),t._v(" "),a("dd",[a("a",{attrs:{href:"#"}},[t._v("新车型上市销量预测分析报告")])]),t._v(" "),a("dd",[a("a",{attrs:{href:"#"}},[t._v("新车型生命周期销量预测研究报告")])])]),t._v(" "),a("dl",[a("dt",[t._v("车型规划")]),t._v(" "),a("dd",[a("a",{attrs:{href:"#"}},[t._v("产品生命周期管理")])]),t._v(" "),a("dd",[a("a",{attrs:{href:"#"}},[t._v("车型配置库")])]),t._v(" "),a("dd",[a("a",{attrs:{href:"#"}},[t._v("配置消费者感知价值研究")])]),t._v(" "),a("dd",[a("a",{attrs:{href:"#"}},[t._v("配置优化模拟器")])]),t._v(" "),a("dd",[a("a",{attrs:{href:"#"}},[t._v("配置重要度研究")])]),t._v(" "),a("dd",[a("a",{attrs:{href:"#"}},[t._v("配置装备趋势报告")])]),t._v(" "),a("dd",[a("a",{attrs:{href:"#"}},[t._v("新车上市冲击力分析报告")])]),t._v(" "),a("dd",[a("a",{attrs:{href:"#"}},[t._v("新车上市导报")])]),t._v(" "),a("dd",[a("a",{attrs:{href:"#"}},[t._v("新车上市监测系统")])]),t._v(" "),a("dd",[a("a",{attrs:{href:"#"}},[t._v("展会分析报告")])])]),t._v(" "),a("dl",[a("dt",[t._v("销量管理")]),t._v(" "),a("dd",[a("a",{attrs:{href:"#"}},[t._v("销量分析")])]),t._v(" "),a("dd",[a("a",{attrs:{href:"#"}},[t._v("销量分析与诊断")])]),t._v(" "),a("dd",[a("a",{attrs:{href:"#"}},[t._v("销售比例分析")])]),t._v(" "),a("dd",[a("a",{attrs:{href:"#"}},[t._v("销售比例分析系统")])])]),t._v(" "),a("dl",[a("dt",[t._v("价格管理")]),t._v(" "),a("dd",[a("a",{attrs:{href:"#"}},[t._v("价格监测及分析")])]),t._v(" "),a("dd",[a("a",{attrs:{href:"#"}},[t._v("网络价格监测及分析")])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cont"},[a("dl",[a("dt",[t._v("渠道管理")]),t._v(" "),a("dd",[a("a",{attrs:{href:"#"}},[t._v("渠道建设分析与诊断")])]),t._v(" "),a("dd",[a("a",{attrs:{href:"#"}},[t._v("渠道建设分析系统")])])]),t._v(" "),a("dl",[a("dt",[t._v("售后服务")]),t._v(" "),a("dd",[a("a",{attrs:{href:"#"}},[t._v("配件价格监测（大众品牌）")])]),t._v(" "),a("dd",[a("a",{attrs:{href:"#"}},[t._v("配件价格监测（豪华品牌）")])]),t._v(" "),a("dd",[a("a",{attrs:{href:"#"}},[t._v("附件销售策略")])]),t._v(" "),a("dd",[a("a",{attrs:{href:"#"}},[t._v("配件专项研究")])]),t._v(" "),a("dd",[a("a",{attrs:{href:"#"}},[t._v("售后车主忠诚度/流失率研究")])]),t._v(" "),a("dd",[a("a",{attrs:{href:"#"}},[t._v("售后服务模式洞察分析报告")])])]),t._v(" "),a("dl",[a("dt",[t._v("行业动态")]),t._v(" "),a("dd",[a("a",{attrs:{href:"#"}},[t._v("汽车金融业务分析")])]),t._v(" "),a("dd",[a("a",{attrs:{href:"#"}},[t._v("行业动态分析")])]),t._v(" "),a("dd",[a("a",{attrs:{href:"#"}},[t._v("终端景气分析报告")])])]),t._v(" "),a("dl",[a("dt",[t._v("消费者洞察")]),t._v(" "),a("dd",[a("a",{attrs:{href:"#"}},[t._v("购买需求与购买漏斗研究")])]),t._v(" "),a("dd",[a("a",{attrs:{href:"#"}},[t._v("燃油车新车主研究")])]),t._v(" "),a("dd",[a("a",{attrs:{href:"#"}},[t._v("消费者出行研究")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("dl",[e("dt",[this._v("销量管理")]),this._v(" "),e("dd",[e("a",{attrs:{href:"#"}},[this._v("新能源销量分析")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("dl",[e("dt",[this._v("价格管理")]),this._v(" "),e("dd",[e("a",{attrs:{href:"#"}},[this._v("新能源价格监测及分析")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("dl",[e("dt",[this._v("售后服务")]),this._v(" "),e("dd",[e("a",{attrs:{href:"#"}},[this._v("新能源售后服务水平洞察分析报告")])])])}]};var Ks=a("Z0/y")(Hs,Zs,!1,function(t){a("3hZV")},null,null).exports,Xs=a("vQJW"),Js={name:"",mixins:[g.a],components:{ScrollBar:Xs.a},props:{isFixed:{type:Boolean,default:!1}},data:function(){return{bodyHeight:"500",collapseStatus:!1,openMenuId:"1000",popoverMenuId:"0",popoverStatus:!1,selectMenuZoomStatus:!1,action:"left",menu2:[],menu_group:[]}},created:function(){window.innerHeight?this.bodyHeight=parseInt(window.innerHeight)-50:document.body&&document.body.clientHeight&&(this.bodyHeight=parseInt(document.body.clientHeight)-50)},mounted:function(){var t=this;this.collapseStatus=!1,b.a.$on("selectMenuZoom",function(e){t.selectMenuZoomStatus=e,t.action="right"}),this.initMenu()},methods:{leftMenuToggle:function(t){this.collapseStatus=void 0===t?!this.collapseStatus:t,this.$emit("hrinkLeftMenu",this.collapseStatus)},leftPopoverMenuToggle:function(){this.popoverStatus=!1,this.triggerPopoverMenu(this.popoverStatus),this.selectMenuZoomStatus=!0},openSubMenu:function(t,e){t.status=void 0!=e?e:!t.status;var a=t.id;if(this.openMenuId==a){var s=!1,i=t.status,n=this.$helper.findInArray("id",a,this.menus);if(i&&n&&this.popoverMenuId){var r=this.$helper.findInArray("id",this.popoverMenuId,n.sub);r&&r.hasOwnProperty("sub")&&(s=!0,this.openMenuId=a)}this.triggerPopoverMenu(s),this.popoverStatus=s}},openSubMenu2:function(t){t.status=!t.status},selectMenu:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e||this.popoverStatus&&this.popoverMenuId==t){this.popoverMenuId="0";a=!1}else{this.popoverMenuId=t;var a=!0}(0==this.collapseStatus||e)&&this.leftMenuToggle(a),this.triggerPopoverMenu(a),this.popoverStatus=a,this.selectMenuZoomStatus=!1,this.action="left",this.selectFirstMenu()},popoverStatusZoom:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"left";this.selectMenuZoomStatus=!1,"left"==t?this.selectMenu(this.popoverMenuId,!0):(this.action="left",b.a.$emit("triggerMainPanel",!0))},triggerPopoverMenu:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$emit("popoverLeftSubmenu",t)},initMenu:function(){this.selectFirstMenu();var t=this.$route.path;this.handleMenuSelected(t)},selectFirstMenu:function(){var t=this;this.$nextTick(function(){if(0==A()(".menu-second:visible").find("a.router-link-exact-active").length){var e=A()(".menu-second:visible").find("a").attr("href"),a="#"+t.$route.path;e&&0==e.indexOf(a)&&t.$router.push({path:e.split("#")[1]||"/"})}})},handleMenuSelected:function(t){var e=this,a=this.menus,s=t.split("/");t=s.slice(0,3).join("/"),a.map(function(a){var s=e.$helper.findInArray("url",t,a.sub);s&&s.hasOwnProperty("url")&&(e.openMenuId=a.id,e.openSubMenu(a,!0),e.selectMenu(s.id,s.hasOwnProperty("sub")))})}}},Qs={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("scroll-bar",{staticClass:"sidebar-container"},[a("div",{staticClass:"left-menu"},[a("label",[a("font",{staticClass:"expend-show"},[t._v("平台导航")]),t._v(" "),a("i",{class:["iconfont",t.collapseStatus?"icon-fill108":"icon-collapse"],on:{click:function(e){t.leftMenuToggle()}}})],1),t._v(" "),a("ul",{staticClass:"menu-first"},t._l(t.menus,function(e){return a("li",{class:[e.sub?"menu-first-item":"menu-first-index"]},[e.sub?[a("span",{on:{click:function(a){t.openSubMenu(e)}}},[t._v(t._s(e.title)),a("i",{class:["iconfont",e.status?"icon-fold":"icon-unfold","expend-show"]})]),t._v(" "),a("el-collapse-transition",[a("ol",{directives:[{name:"show",rawName:"v-show",value:e.status,expression:"level1.status"}],staticClass:"menu-first-item-child"},t._l(e.sub,function(e){return a("li",[e.sub?a("span",{staticClass:"menu-first-item-child-title"},[a("i",{staticClass:"iconfont shrink-show",class:e.icon}),t._v(" "),a("font",{staticClass:"expend-show"},[t._v(t._s(e.title))]),t._v(" "),a("font",{staticClass:"shrink-show menu-first-item-child-title_text"},[t._v(t._s(e.title))])],1):t._e(),t._v(" "),e.sub?a("ul",{staticClass:"menu-first-item-child-item"},t._l(e.sub,function(e){return a("li",[0==e.url.indexOf("http")?a("a",{attrs:{href:e.url,title:e.title,target:"_blank"}},[a("i",{class:["iconfont",e.icon]}),t._v(" "),a("font",{staticClass:"expend-show"},[t._v(t._s(e.title))])],1):a("router-link",{attrs:{to:e.url,title:e.title},nativeOn:{click:function(a){t.selectMenu(e.id,e.hasOwnProperty("sub"))}}},[a("i",{class:["iconfont",e.icon]}),t._v(" "),a("font",{staticClass:"expend-show"},[t._v(t._s(e.title))])],1),t._v(" "),a("transition",{attrs:{name:"el-fade-in-linear"}},[e.sub?a("div",{directives:[{name:"show",rawName:"v-show",value:e.id==t.popoverMenuId&&t.popoverStatus,expression:"level3.id==popoverMenuId&&popoverStatus"}],staticClass:"menu-second"},[a("el-scrollbar",{staticStyle:{height:"100%"}},[a("label",[a("font",[t._v(t._s(e.title))]),t._v(" "),a("i",{class:["iconfont",t.popoverStatus?"icon-collapse":"icon-fill108"],on:{click:t.leftPopoverMenuToggle}})],1),t._v(" "),a("ul",t._l(e.sub,function(e){return a("li",{class:[e.sub?"menu-second-item":"menu-second-index"]},[e.sub?[a("span",{on:{click:function(a){t.openSubMenu2(e)}}},[t._v(t._s(e.title)+" "),a("i",{class:["iconfont",e.status?"icon-fold":"icon-xiao73"]})]),t._v(" "),a("el-collapse-transition",[a("ol",{directives:[{name:"show",rawName:"v-show",value:e.status,expression:"level4.status"}],staticClass:"menu-second-item-child"},t._l(e.sub,function(e){return e.is_menu?a("li",[a("router-link",{attrs:{to:e.url}},[t._v(t._s(e.title))])],1):t._e()}))])]:a("router-link",{attrs:{to:e.url}},[t._v(t._s(e.title))])],2)}))])],1):t._e()]),t._v(" "),t.selectMenuZoomStatus?a("div",{staticClass:"menu-second-zoom",on:{click:function(e){t.popoverStatusZoom(t.action)}}},[a("i",{staticClass:"iconfont icon-right",staticStyle:{"font-size":"16px"}})]):t._e()],1)})):a("ul",{staticClass:"menu-first-item-child-item"},[a("li",[a("router-link",{attrs:{to:e.url},nativeOn:{click:function(a){t.selectMenu(e.id,e.hasOwnProperty("sub"))}}},[a("i",{class:["iconfont",e.icon]}),t._v(" "),a("font",{staticClass:"expend-show"},[t._v(t._s(e.title))])],1)],1)])])}))])]:a("router-link",{attrs:{to:e.url},nativeOn:{click:function(a){t.selectMenu(e.id,e.hasOwnProperty("sub"))}}},[a("i",{staticClass:"iconfont icon-home ",staticStyle:{"margin-right":"5px"}}),t._v(" "),a("font",{staticClass:"expend-show"},[t._v(t._s(e.title))])],1)],2)}))])])},staticRenderFns:[]};var ti=a("Z0/y")(Js,Qs,!1,function(t){a("k+HX")},null,null).exports,ei={name:"",mixins:[g.a],props:{isFixed:{type:Boolean,default:!1}},watch:{config:function(){localStorage.setItem("config",yt()(this.config)),b.a.$emit("updateConfig",this.config)}},data:function(){return{activeName:"",initActiveName:"",feedbackForm:{title:"",desc:""},rightMenu:{setting:!1,history:!1,collection:!1,feedback:!1}}},mounted:function(){this.rightMenu.setting=!0},methods:{rightMenuToggle:function(t,e){var a="";for(var s in t<0&&""==a&&(a="setting"),t>0&&(a=e),this.rightMenu)this.rightMenu[s]=a==s;this.$emit("changeRightPanelStatus",t)},goHeader:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0}}},ai={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:[{fixed:t.isFixed},"right-menu"]},[a("div",[a("div",{staticClass:"right-tabs"},[a("div",{staticClass:"right-tabs-title"},[a("span",{on:{click:function(e){t.rightMenuToggle(-1,"")}}},[a("i",{staticClass:"iconfont icon-collapse open"}),t._v(" "),a("i",{staticClass:"iconfont icon-fill108 close"})]),t._v(" "),a("span",{class:{on:t.rightMenu.setting},on:{click:function(e){t.rightMenuToggle(1,"setting")}}},[a("i",{staticClass:"iconfont icon-settings"})]),t._v(" "),a("span",{class:{on:t.rightMenu.history},on:{click:function(e){t.rightMenuToggle(1,"history")}}},[a("i",{staticClass:"iconfont icon-time"})]),t._v(" "),a("span",{class:{on:t.rightMenu.collection},on:{click:function(e){t.rightMenuToggle(1,"collection")}}},[a("i",{staticClass:"iconfont icon-favor"})]),t._v(" "),a("span",{class:{on:t.rightMenu.feedback},on:{click:function(e){t.rightMenuToggle(1,"feedback")}}},[a("i",{staticClass:"iconfont icon-write"})])]),t._v(" "),a("div",{staticClass:"right-tabs-content"},[t.rightMenu.setting?a("dl",{staticClass:"setting"},[a("dt",[t._v("系统设置")]),t._v(" "),a("dd",[t._v("\n              默认收起左导航\n              "),a("el-switch",{attrs:{"active-color":"#00b4f3","inactive-color":"#C0CCDA"},model:{value:t.config[2],callback:function(e){t.$set(t.config,2,e)},expression:"config[2]"}})],1),t._v(" "),a("dd",[t._v("\n              默认展开右导航\n              "),a("el-switch",{attrs:{"active-color":"#00b4f3","inactive-color":"#C0CCDA"},model:{value:t.config[3],callback:function(e){t.$set(t.config,3,e)},expression:"config[3]"}})],1),t._v(" "),a("dd",[t._v("\n              默认跳过首页\n              "),a("el-switch",{attrs:{"active-color":"#00b4f3","inactive-color":"#C0CCDA"},model:{value:t.config[4],callback:function(e){t.$set(t.config,4,e)},expression:"config[4]"}})],1),t._v(" "),a("dd",[t._v("\n              显示通知\n              "),a("el-switch",{attrs:{"active-color":"#00b4f3","inactive-color":"#C0CCDA"},model:{value:t.config[5],callback:function(e){t.$set(t.config,5,e)},expression:"config[5]"}})],1),t._v(" "),a("dd",[t._v("\n              显示未读数\n              "),a("el-switch",{attrs:{"active-color":"#00b4f3","inactive-color":"#C0CCDA"},model:{value:t.config[6],callback:function(e){t.$set(t.config,6,e)},expression:"config[6]"}})],1),t._v(" "),a("dd",[t._v("\n              可编辑拖动\n              "),a("el-switch",{attrs:{"active-color":"#00b4f3","inactive-color":"#C0CCDA"},model:{value:t.config[7],callback:function(e){t.$set(t.config,7,e)},expression:"config[7]"}})],1)]):t._e(),t._v(" "),t.rightMenu.history?a("dl",{staticClass:"history"},[a("dt",[t._v("浏览记录")]),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3)]):t._e(),t._v(" "),t.rightMenu.collection?a("dl",{staticClass:"collection"},[a("dt",[t._v("收藏记录")]),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7)]):t._e(),t._v(" "),t.rightMenu.feedback?a("dl",{staticClass:"feedback"},[a("dt",[t._v("反馈")]),t._v(" "),a("dd",[a("el-form",{attrs:{"label-position":"top","label-width":"80px",model:t.feedbackForm}},[a("el-form-item",{attrs:{label:"标题"}},[a("el-input",{model:{value:t.feedbackForm.title,callback:function(e){t.$set(t.feedbackForm,"title",e)},expression:"feedbackForm.title"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"详情"}},[a("el-input",{attrs:{type:"textarea",rows:4},model:{value:t.feedbackForm.desc,callback:function(e){t.$set(t.feedbackForm,"desc",e)},expression:"feedbackForm.desc"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"}},[t._v("提交")])],1)],1)],1)]):t._e()])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("dd",[e("a",{attrs:{href:"#"}},[this._v("销量分析系统")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("dd",[e("a",{attrs:{href:"#"}},[this._v("全国车型销量预测系统")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("dd",[e("a",{attrs:{href:"#"}},[this._v("全国细分市场销量预测")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("dd",[e("a",{attrs:{href:"#"}},[this._v("市场预测专项研究")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("dd",[e("a",{attrs:{href:"#"}},[this._v("销量分析系统")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("dd",[e("a",{attrs:{href:"#"}},[this._v("全国车型销量预测系统")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("dd",[e("a",{attrs:{href:"#"}},[this._v("全国细分市场销量预测")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("dd",[e("a",{attrs:{href:"#"}},[this._v("市场预测专项研究")])])}]};var si=a("Z0/y")(ei,ai,!1,function(t){a("2Qyg")},"data-v-156cf751",null).exports,ii={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"footer"},[a("span",[a("a",{attrs:{href:"#/index/scene/index.html?spm=m-1-18",target:"_blank"}},[t._v("首页")]),t._v(" "),a("a",{attrs:{href:"#/index/scene/main.html?spm=m-1-3",target:"_blank"}},[t._v("应用场景")]),t._v(" "),a("a",{attrs:{href:"#/index/tools/alert.html?spm=m-1-9",target:"_blank"}},[t._v("常用工具")]),t._v(" "),a("a",{attrs:{href:"#/index/index/default.html?spm=m-1-20",target:"_blank"}},[t._v("报告管理")]),t._v(" "),a("a",{attrs:{href:"#/index/news/index.html?spm=m-1-24",target:"_blank"}},[t._v("基础数据")]),t._v(" "),a("a",{attrs:{href:"#",target:"_blank"}},[t._v("关于威尔森")]),t._v(" "),a("a",{attrs:{href:"#",target:"_blank"}},[t._v("法律与条款")]),t._v(" "),a("a",{attrs:{href:"#",target:"_blank"}},[t._v("联系我们")])]),t._v(" "),a("p",[t._v("© 2013 -2017,技术支持 广州威尔森信息科技有限公司")]),t._v(" "),a("p",[t._v("粤ICP备09206296号-6")])])}]};var ni=a("Z0/y")({name:"",data:function(){return{}},mounted:function(){}},ii,!1,function(t){a("Ls3/")},"data-v-1ab7f873",null).exports,ri={name:"app",mixins:[g.a],data:function(){return{isFixed:!1,pageScrollExecuteStatus:!0,scroll:0,rightPanelOpenNumber:"",leftMenuShrink:!1,leftSubmenuPopover:!1,rightPanelOpen:!1,commonProp:!0}},watch:{$route:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0,this.isFixed=!1}},destroyed:function(){window.removeEventListener("scroll",this.scrollEvent)},mounted:function(){var t=this;window.addEventListener("scroll",this.scrollEvent),this.$nextTick(function(){b.a.$on("updateConfig",function(e){t.leftMenuShrink=e[2],t.$refs.leftPanel&&(t.$refs.leftPanel.collapseStatus=t.leftMenuShrink,e[3]&&(t.rightPanelOpen=e[3],t.$refs.rightPanel.rightMenuIsOpen=t.rightPanelOpen,t.$refs.rightPanel.rightMenu.setting=!0))})})},methods:{handlePanelStyle:function(t){this.commonProp=t},hrinkLeftMenu:function(t){this.leftMenuShrink=void 0===t?!this.leftMenuShrink:t,b.a.$emit("ResizeChart")},popoverLeftSubmenu:function(t){this.leftSubmenuPopover=t,b.a.$emit("ResizeChart")},showRightPanelStatus:function(t){this.rightPanelOpen=t>0||!this.rightPanelOpen;var e=JSON.parse(localStorage.getItem("config"));e&&e[2]||(this.$refs.leftPanel.leftMenuShrink,this.leftMenuShrink=0!=this.rightPanelOpen||0!=this.$refs.leftPanel.popoverStatus,this.$refs.leftPanel.collapseStatus=this.leftMenuShrink),b.a.$emit("ResizeChart")},scrollEvent:function(){(document.documentElement.scrollTop||document.body.scrollTop)>0&&(this.isFixed=!0)},DialogStatus:function(t){var e=document.getElementsByClassName("main-panel"),a=e[0].clientWidth;1==t?(e[0].style.width=a+"px",e[0].style.position="fixed",document.body.style.overflowY="scroll",document.body.style.overflowX="hidden"):(e[0].style.width="auto",e[0].style.position="initial")}},components:{BiHeader:Ks,BiLeft:ti,BiRight:si,BiFooter:ni}},oi={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:{"left-menu-shrink":t.leftMenuShrink,"left-submenu-popover":t.leftSubmenuPopover,"right-menu-open":t.rightPanelOpen}},[a("bi-left",{ref:"leftPanel",attrs:{isFixed:t.isFixed},on:{hrinkLeftMenu:t.hrinkLeftMenu,popoverLeftSubmenu:t.popoverLeftSubmenu}}),t._v(" "),a("bi-header",{attrs:{isFixed:t.isFixed}}),t._v(" "),a("div",{staticClass:"main-panel",class:{"common-panel":t.commonProp}},[a("keep-alive",[t.$route.meta.keepAlive?a("router-view",{staticClass:"container",on:{openTheDialog:t.DialogStatus,panelStyle:t.handlePanelStyle}}):t._e()],1),t._v(" "),t.$route.meta.keepAlive?t._e():a("router-view",{staticClass:"container",on:{openTheDialog:t.DialogStatus,panelStyle:t.handlePanelStyle}})],1),t._v(" "),a("bi-right",{ref:"rightPanel",attrs:{isFixed:t.isFixed},on:{changeRightPanelStatus:t.showRightPanelStatus}})],1)},staticRenderFns:[]};var li=a("Z0/y")(ri,oi,!1,function(t){a("JLct")},null,null).exports,_i={mixins:[g.a],data:function(){return{btn:!1,form:{username:"",password:""}}},created:function(){this.$route.query.code&&this.loginByCode(this.$route.query.code)},methods:ce()({},Object(ue.b)([he.d,he.b]),{submit:function(){var t=this;this.btn=!0,this.form.username&&this.form.password&&this.$request.post(this.$interface.LOGIN,this.form,function(e){t.$message({type:"success",message:"欢迎登录威尔森智能决策平台"}),t.USER_SIGNIN(e.data),t.token=e.data.token,t.getMenus(function(){t.$router.push({path:"/"})})},function(e){t.$message({type:"error",message:e.msg})})},loginByCode:function(t){var e=this;this.$request.get(this.$interface.LOGIN_BY_CODE,{code:t},function(t){e.$message({type:"success",message:"欢迎登录威尔森智能决策平台"}),e.USER_SIGNIN(t.data),e.token=t.data.token,e.getMenus(function(){e.$router.push({path:"/"})})},function(t){e.$message({type:"error",message:t.result_msg})})},getMenus:function(t){var e=this;this.$request.get(this.$interface.MENUS,{token:this.token},function(a){var s=a.data;e.USER_MENUS(s),t()},this.failure)}})},ci={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login"},[a("div",{staticClass:"cont"},[a("div",{staticClass:"left"},[a("img",{attrs:{src:"/static/images/client/logo.png",alt:"Way-s"}}),t._v(" "),a("p",[t._v("请登录您的账号")]),t._v(" "),a("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[a("span",[a("i"),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.username,expression:"form.username"}],attrs:{type:"text",name:"username",placeholder:"帐号"},domProps:{value:t.form.username},on:{input:function(e){e.target.composing||t.$set(t.form,"username",e.target.value)}}})]),t._v(" "),a("span",[a("i"),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],attrs:{type:"password",name:"password",placeholder:"密码"},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}})]),t._v(" "),a("span",[a("input",{attrs:{type:"checkbox"}}),t._v(" "),a("font",[t._v("记住密码")]),t._v(" "),a("a",{attrs:{href:"#"}},[t._v("忘记密码")])],1),t._v(" "),a("input",{attrs:{type:"submit",value:"登录"}})])]),t._v(" "),a("div",{staticClass:"right"},[a("p",[t._v("\n              欢迎使用威尔森\n              "),a("br"),t._v(" "),a("font",[t._v("智能决策系统")])],1)])]),t._v(" "),t._m(0)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"footer"},[e("p",[this._v("公司地址：广州市天河区珠江新城东路12号高德置地H座12层（全层） "),e("i",{staticClass:"fa fa-phone"}),this._v(" 联系电话：020-83912326")]),this._v(" "),e("p",[this._v("© 2013 -2017,技术支持 广州威尔森信息科技有限公司   粤ICP备09206296号-6")])])}]};var di=a("Z0/y")(_i,ci,!1,function(t){a("juLb")},"data-v-28a5d4d5",null).exports;s.default.use(_.a);var ui=new _.a({mode:"hash",routes:[{path:"/",component:li,redirect:"/home",children:[{path:"home",component:Gt}].concat(l()(Et),l()(Us))},{path:"/login",name:"login",component:di},{path:"/logout",name:"logout"},{path:"*",redirect:"/home"}]}),hi=a("IcnI"),mi=a("xYCT"),vi=a.n(mi),pi=a("ljGe"),fi=a("WocE"),gi=a("fAL/"),bi=a.n(gi),yi=a("DMPO"),wi=a.n(yi),ki=a("V6bs"),Ci=a.n(ki);a("6KRL"),a("4JL/"),a("41z0"),a("x1Tb"),a("j/E3"),a("8A7f");s.default.use(Ci.a),s.default.prototype.$helper=pi.a,s.default.prototype.$request=fi.a,s.default.prototype.$interface={LOGIN:"/ajax/auth/login",LOGOUT:"/ajax/auth/logout",MENUS:"/ajax/index/menus",REFRESH:"/ajax/auth/refresh",LOGIN_BY_CODE:"/ajax/auth/loginbycode",GET_PV_STATUS:"/home-page/pv-status",GET_SALES:"/home-page/sales",GET_SALES_SHARE:"/home-page/sales-share",GET_SALES_TREND:"/home-page/sales-trends",GET_MANFS:"/sales/common/get_mfs",GET_MANF_INFO:"/sales/common/get_mi",GET_DATA_SOURCE:"/sales/common/get_dr",GET_WHOLE_SALES:"/sales/msc/status",GET_WHOLE_SALES_WARNING:"/sales/msc/warning",GET_SEGMENTS_SALES:"/sales/msc/segments",GET_SEGMENTS_SALES_WARNING:"/sales/msc/segmentw",GET_MANF_SALES_RANK:"/sales/msc/manfrank",GET_NATION_SALES:"/sales/msc/natis",GET_GROUPS_SALES:"/sales/msc/groups",GET_BRANDS_SALES:"/sales/msc/brands",GET_REGIONS_SALES:"/sales/msc/regions",GET_MODELS_SALES:"/sales/msc/msmd",GET_MODEL_INFO:"/sales/common/get_smi",GET_MODEL_SALES:"/sales/model/status",GET_MODEL_SALES_WARNING:"/sales/model/warning",GET_MODEL_REGIONS_SALES:"/sales/model/regions",GET_MARKET_CONCENTRATION:"/sales/model/cctt",GET_SEGMENTS_TREND:"/sales/model/trend",GET_MF_OVERVIEW:"/warning/warning/mf_overview",GET_REGION_OVERVIEW:"/warning/warning/region_overview",GET_SEG_OVERVIEW:"/warning/warning/seg_overview",GET_SM_OVERVIEW:"/warning/warning/sm_overview",GET_WARNING_TREND:"/warning/warning/warning_trend",GET_SEG:"/warning/warning/seg",GET_SM_BY_MB:"/warning/warning/sm_by_mb",GET_SEG_SUBSEG:"/warning/warning/seg_subseg",GET_NEWS_BASE_INFO:"/news/news/get_base_info",GET_NEWS_PAGE:"/news/news/get_page",GET_NEWS_RECOMMEND:"/news/news/recommend",GET_NEWS_DETAIL:"/news/news/get_detail",GET_NEWS_HOT:"/news/news/hot_news",GET_COMMON_COMPETITORS:"/after-sales/common/competitors",GET_COMMON_MANFS_BRANDS:"/after-sales/common/manfs-brands",GET_COMMON_VALID_DATE:"/after-sales/common/valid-date",GET_PART_CAR_PRICE:"/after-sales/part/car-prices",GET_PART_PRICE_DEVIATIONS:"/after-sales/part/price-deviations",GET_PART_PRICE_DIFFS:"/after-sales/part/price-diffs",GET_PART_PRICE_SUM:"/after-sales/part/price-sum",GET_PART_PRICES:"/after-sales/part/prices",GET_PART_TYPES:"/after-sales/part/types",GET_COST_HOURLY_WAGE_SUM:"/after-sales/cost/hourly-wage-sum",GET_COST_HOURLY_WAGES:"/after-sales/cost/hourly-wages",GET_COST_USE_COST_SUM:"/after-sales/cost/use-cost-sum",GET_COST_USE_COSTS:"/after-sales/cost/use-costs",GET_FILE_REPORT_LIST:"/after-sales/report/report-list",GET_FILE_TYPES:"/after-sales/report/types",GET_REPORT_FILE:"/after-sales-manage/report-file",getBusiCirList:"/business-circle/business-circle/getBusiCirList",getBusiCirStatistics:"/business-circle/business-circle/getBusiCirStatistics",getCityStatistics:"/business-circle/business-circle/getCityStatistics",getDealerList:"/business-circle/business-circle/getDealerList",getInBusiCirDealers:"/business-circle/business-circle/getInBusiCirDealers",getOutBusiCirDealers:"/business-circle/business-circle/getOutBusiCirDealers",queryConditions:"/business-circle/business-circle/queryConditions",GET_SUBMODEL:"/sales-target/common/sub_model",GET_DATA_TIME:"/sales-target/common/data_time",GET_NEWST_TARGET:"/sales-target/common/newst_target",GET_REGION:"/sales-target/common/region",GET_SUB_MODEL:"/sales-target/common/sub_model",GET_USER_PERMISSION:"/sales-target/common/user_permission",GET_MONTH_FORECAST:"/sales-target/forecast/month_forecast",GET_MONTH_FORECAST_HEADER:"/sales-target/forecast/month_forecast_header",GET_TOTAL_FORECAST:"/sales-target/forecast/total_forecast",PUT_MONTH_TARGET:"/sales-target/target/month_target",POST_NATIONAL_TARGET_DRAFT:"/sales-target/target/national_target_draft",PUT_REGION_TARGET:"/sales-target/target/region_target",POST_TARGET:"/sales-target/target/target",PUT_TOTAL_TARGET:"/sales-target/target/total_target",GET_TARGET_DETAIL:"/sales-target/target/target_detail",GET_TARGET_LOG:"/sales-target/target/target_log",GET_TARGET_LOG_PAGE:"/sales-target/target/target_log_page",GET_TARGET_OVERVIEW:"/sales-target/target/target_overview",POST_REGION_TARGET_DRAFT:"/sales-target/target/region_target_draft",GET_USER_INFO:"/sales-target-extend/user_info"},s.default.use(vi.a),s.default.use(wi.a),s.default.component(bi.a.name,bi.a),s.default.config.productionTip=!1,ui.beforeEach(function(t,e,a){var s=t.meta,i=t.path,n=s.auth,r=void 0===n||n,o=Boolean(hi.a.state.user.user_id);if(!r||o||"/login"===i){if("/login"!==i){var l=hi.a.state.user.menus,_=pi.a.arr2table(l);_&&0!=_.length||Ci.a.remove("user");var c=_.find(function(t){return!["","#","/"].includes(t.url)});if(!(_.find(function(t){return i=i.replace(new RegExp("(/setva|/setvb|/setvc|/setvd|/setve|/detail|/list)","g"),""),!["","#","/"].includes(t.url)&&i==t.url})||"")&&c)return a({path:c.url})}a()}else window.location.href="/login"}),new s.default({el:"#app",store:hi.a,router:ui,template:"<App/>",components:{App:r}})},PgiI:function(t,e){},"Q+7j":function(t,e){},REW5:function(t,e){},Rmcw:function(t,e){},TD8L:function(t,e){},TaM1:function(t,e){},"Tg/R":function(t,e){},VfTT:function(t,e){},Vq5q:function(t,e){},WSOi:function(t,e){},WSZ1:function(t,e){},WocE:function(t,e,a){"use strict";var s=a("3cXf"),i=a.n(s),n=a("2sCs");function r(t,e,a,s,r){var o={token:""},l="";if("GET"===(t=t.toUpperCase())&&a||"POST"==t&&a||"PUT"==t&&a){a&&a.header&&(o=a.header,delete a.header),a&&a.responseType&&(l=a.responseType,delete a.responseType);var _=e.indexOf("?");"GET"===t&&(e=(-1==_?e:e.substr(0,_))+"?"+function(t){var e="";for(var a in t){var s=encodeURIComponent(t[a]);""!=s&&void 0!=s&&(e+="&"+a+"="+s)}return e.substr(1)}(a))}if(e){var c=e.indexOf("/ajax")>-1?"/":"/api";a="application/x-www-form-urlencoded"==o.ContentType?function(t){var e="";for(var a in t)e+=encodeURIComponent(a)+"="+encodeURIComponent(t[a])+"&";return e}(a):a,n({method:t,url:e,data:"POST"===t||"PUT"===t?a:null,headers:o||null,responseType:l||"json",baseURL:c}).then(function(t){t.data.result_code&&0==(t.data.result_code+"").indexOf("2")||200==t.data.code?"function"==typeof s&&s(t.data):"blob"==l?"function"==typeof s&&s(t):"function"==typeof r?r(t.data):window.alert("ERROR:"+i()(t.data))}).catch(function(t){t&&window.alert("API ERROR:"+t)})}else alert("请求地址为空")}e.a={get:function(t,e,a,s){return r("GET",t,e,a,s)},post:function(t,e,a,s){return r("POST",t,e,a,s)},put:function(t,e,a,s){return r("PUT",t,e,a,s)},delete:function(t,e,a,s){return r("DELETE",t,e,a,s)}}},X0IP:function(t,e){},YugF:function(t,e){},ZRMW:function(t,e){},Zm3X:function(t,e){},bSoc:function(t,e){},cTML:function(t,e,a){"use strict";var s={name:"ProgressBar",mixins:[a("B29g").a],data:function(){return{}},props:{type:{type:String,default:"line"},percentage:{default:0,required:!0},titleWidth:{default:"0"},color:{default:"#e5e9f2"},height:{default:"12"},strokeWidth:{default:5},circleWidth:{default:126},circleText:{default:""},circleTextSize:{default:12},showText:{default:!0,type:Boolean},precision:{default:0,type:Number}},computed:{relativeStrokeWidth:function(){return(this.strokeWidth/this.circleWidth*100).toFixed(1)},trackPath:function(){var t=parseInt(50-parseFloat(this.relativeStrokeWidth)/2,10);return"M 50 50 m 0 -"+t+" a "+t+" "+t+" 0 1 1 0 "+2*t+" a "+t+" "+t+" 0 1 1 0 -"+2*t},perimeter:function(){var t=50-parseFloat(this.relativeStrokeWidth)/2;return 2*Math.PI*t},circlePathStyle:function(){var t=this.perimeter,e=this.number_format(this.multiply(this.percentage,100))>=0?this.number_format(this.multiply(this.percentage,100)):0;return{strokeDasharray:t+"px,"+t+"px",strokeDashoffset:(e<=100?1-e/100:0)*t+"px",transition:"stroke-dashoffset 0.6s ease 0s, stroke 0.6s ease"}},progressTextSize:function(){return"line"===this.type?12+.4*this.strokeWidth:.111111*this.width+2}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bi-progress"},["line"===t.type?a("div",{staticClass:"bi-progress-line",style:{height:t.height+"px"}},[a("cite",{staticClass:"progress-title",style:{width:t.titleWidth+"px"}},[t._t("default")],2),t._v(" "),a("span",{staticClass:"progress-bar",style:{width:"calc(100% - "+t.titleWidth+"px)"}},[a("span",{class:{notext:!t.showText}},[t.percentage>=0?a("em",{style:{width:t.number_format(t.multiply(t.percentage,100),t.precision)+"%",backgroundColor:t.color}}):a("em",{staticStyle:{width:"0"}})]),t._v(" "),t.showText?a("label",{style:[{color:t.color,lineHeight:t.height+"px"}]},[t.percentage>=0?[t._v("\n      "+t._s(t._f("number_format")(t._f("multiply")(t.percentage,100),t.precision))+"%\n      ")]:[t._v("\n        暂无\n      ")]],2):t._e()])]):a("div",{staticClass:"bi-progress-circle",style:{height:t.circleWidth+"px",width:t.circleWidth+"px"}},[a("svg",{attrs:{viewBox:"0 0 100 100"}},[a("path",{staticClass:"bi-progress-circle__track",attrs:{d:t.trackPath,stroke:"#e5e9f2","stroke-width":t.relativeStrokeWidth,fill:"none"}}),t._v(" "),a("path",{staticClass:"bi-progress-circle__path",style:t.circlePathStyle,attrs:{d:t.trackPath,"stroke-linecap":"round",stroke:t.color,"stroke-width":t.relativeStrokeWidth,fill:"none"}})]),t._v(" "),t.percentage>=0?a("div",{staticClass:"bi-progress-circle__text",style:{fontSize:t.circleTextSize+"px",color:t.color}},[t.showText?[t._v(t._s(t._f("number_format")(t._f("multiply")(t.percentage,100),t.precision))+"%")]:[t._v(t._s(t.circleText))]],2):a("div",{directives:[{name:"show",rawName:"v-show",value:t.showText,expression:"showText"}],staticClass:"bi-progress-circle__text"},[[t._v("暂无数据")]],2)])])},staticRenderFns:[]};var n=a("Z0/y")(s,i,!1,function(t){a("REW5")},"data-v-82f61e84",null);e.a=n.exports},cuZv:function(t,e){},eH7Z:function(t,e){},eLvL:function(t,e){},ertR:function(t,e){},hAsJ:function(t,e,a){"use strict";var s={name:"BiEmpty",data:function(){return{}},props:{showResult:{type:Boolean,default:!0},showTips:{type:Boolean,default:!0}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bi-empty"},[t._m(0),t._v(" "),t.showResult?a("p",[t._v("\n      暂时没有"),a("em",[t._t("default")],2),t._v("相关的结果\n    ")]):t._e(),t._v(" "),t.showTips?a("p",[a("small",[t._t("tips",[t._v("亲爱的，请减少搜索条件并检查搜索条件是否正确，简化搜索条件、搜索所需信息")])],2)]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("h4",[e("i",{},[this._v("!")])])}]};var n=a("Z0/y")(s,i,!1,function(t){a("27z6")},"data-v-d9337710",null);e.a=n.exports},hNmf:function(t,e){},ht2a:function(t,e){},hyX7:function(t,e){},iHVe:function(t,e){},"j/E3":function(t,e){},jhJU:function(t,e,a){"use strict";var s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("h2",{staticClass:"title"},[a("i",{staticClass:"iconfont",class:t.columnIcon}),t._v("\n    "+t._s(t.columnTitle)+"\n    "),a("small",{attrs:{title:t.columnText}},[t._t("default",[t._v(t._s(t.columnText))])],2)])])},staticRenderFns:[]};var i=a("Z0/y")({name:"BiTitle",data:function(){return{}},props:{columnTitle:{default:""},columnIcon:{default:""},columnText:{default:""}}},s,!1,function(t){a("COAK")},"data-v-fdcea99c",null);e.a=i.exports},juLb:function(t,e){},"k+HX":function(t,e){},k0qu:function(t,e){},"kxc+":function(t,e){t.exports={type:"FeatureCollection",features:[{id:"710000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@°Ü¯Û"],["@@ƛĴÕƊÉɼģºðʀ\\ƎsÆNŌÔĚänÜƤɊĂǀĆĴĤǊŨxĚĮǂƺòƌâÔ®ĮXŦţƸZûÐƕƑGđ¨ĭMó·ęcëƝɉlÝƯֹÅŃ^Ó·śŃǋƏďíåɛGɉ¿@ăƑ¥ĘWǬÏĶŁâ"],["@@\\p|WoYG¿¥Ij@¢"],["@@¡@V^RqBbAnTXeRz¤L«³I"],["@@ÆEEkWqë @"],["@@fced"]],encodeOffsets:[[[122886,24033]],[[123335,22980]],[[122375,24193]],[[122518,24117]],[[124427,22618]],[[124862,26043]]]},properties:{cp:[121.509062,25.044332],name:"台湾",childNum:6}},{id:"130000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@o~Z]ªrºc_ħ²G¼s`jÎŸnüsÂłNX_M`Ç½ÓnUKĜēs¤­©yrý§uģcJe"],["@@U`Ts¿mÂ"],["@@oºƋÄdeVDJj£J|ÅdzÂFt~KŨ¸IÆv|¢r}èonb}`RÎÄn°ÒdÞ²^®lnÐèĄlðÓ×]ªÆ}LiĂ±Ö`^°Ç¶p®đDcŋ`ZÔ¶êqvFÆN®ĆTH®¦O¾IbÐã´BĐɢŴÆíȦpĐÞXR·nndO¤OÀĈƒ­QgµFo|gȒęSWb©osx|hYhgŃfmÖĩnºTÌSp¢dYĤ¶UĈjlǐpäìë|³kÛfw²Xjz~ÂqbTÑěŨ@|oMzv¢ZrÃVw¬ŧĖ¸f°ÐTªqs{S¯r æÝlNd®²Ğ ǆiGĘJ¼lr}~K¨ŸƐÌWöÆzR¤lêmĞLÎ@¡|q]SvKÑcwpÏÏĿćènĪWlĄkT}J¤~ÈTdpddʾĬBVtEÀ¢ôPĎƗè@~kü\\rÊĔÖæW_§¼F´©òDòjYÈrbĞāøŀG{ƀ|¦ðrb|ÀH`pʞkvGpuARhÞÆǶgĘTǼƹS£¨¡ù³ŘÍ]¿ÂyôEP xX¶¹ÜO¡gÚ¡IwÃé¦ÅBÏ|Ç°N«úmH¯âDùyŜŲIÄuĐ¨D¸dɂFOhđ©OiÃ`ww^ÌkÑH«ƇǤŗĺtFu{Z}Ö@U´ʚLg®¯Oı°Ãw ^VbÉsmAê]]w§RRl£ȭµu¯b{ÍDěïÿȧuT£ġěŗƃĝQ¨fVƋƅn­a@³@ďyÃ½IĹÊKŭfċŰóxV@tƯJ]eR¾fe|rHA|h~Ėƍl§ÏlTíb ØoÅbbx³^zÃĶ¶Sj®AyÂhðk`«PËµEFÛ¬Y¨Ļrõqi¼Wi°§Ð±´°^[À|ĠO@ÆxO\\ta\\tĕtû{ġȧXýĪÓjùÎRb^ÎfK[ÝděYfíÙTyuUSyŌŏů@Oi½éŅ­aVcř§ax¹XŻácWU£ôãºQ¨÷Ñws¥qEHÙ|šYQoŕÇyáĂ£MÃ°oťÊP¡mWO¡v{ôvîēÜISpÌhp¨ jdeŔQÖjX³àĈ[n`Yp@UcM`RKhEbpŞlNut®EtqnsÁgAiúoHqCXhfgu~ÏWP½¢G^}¯ÅīGCÑ^ãziMáļMTÃƘrMc|O_¯Ŏ´|morDkO\\mĆJfl@cĢ¬¢aĦtRıÒ¾ùƀ^juųœK­UFyƝīÛ÷ąV×qƥV¿aȉd³BqPBmaËđŻģmÅ®V¹d^KKonYg¯XhqaLdu¥Ípǅ¡KąÅkĝęěhq}HyÃ]¹ǧ£Í÷¿qáµ§g¤o^á¾ZE¤i`ĳ{nOl»WÝĔįhgF[¿¡ßkOüš_ūiǱàUtėGyl}ÓM}jpEC~¡FtoQiHkk{Ãmï"]],encodeOffsets:[[[119712,40641]],[[121616,39981]],[[116462,37237]]]},properties:{cp:[114.502461,38.045474],name:"河北",childNum:3}},{id:"140000",type:"Feature",geometry:{type:"Polygon",coordinates:["@@ÞĩÒSra}ÁyWix±Üe´lèßÓǏokćiµVZģ¡coTSË¹ĪmnÕńehZg{gtwªpXaĚThȑp{¶Eh®RćƑP¿£Pmc¸mQÝWďȥoÅîɡųAďä³aÏJ½¥PG­ąSM­EÅruµéYÓŌ_dĒCo­Èµ]¯_²ÕjāK~©ÅØ^ÔkïçămÏk]­±cÝ¯ÑÃmQÍ~_apm~ç¡qu{JÅŧ·Ls}EyÁÆcI{¤IiCfUcƌÃp§]ě«vD@¡SÀµMÅwuYY¡DbÑc¡h×]nkoQdaMç~eDÛtT©±@¥ù@É¡ZcW|WqOJmĩl«ħşvOÓ«IqăV¥D[mI~Ó¢cehiÍ]Ɠ~ĥqX·eƷn±}v[ěďŕ]_œ`¹§ÕōIo©b­s^}Ét±ū«³p£ÿ·Wµ|¡¥ăFÏs×¥ŅxÊdÒ{ºvĴÎêÌɊ²¶ü¨|ÞƸµȲLLúÉƎ¤ϊęĔV`_bªS^|dzY|dz¥pZbÆ£¶ÒK}tĦÔņƠPYznÍvX¶Ěn ĠÔzý¦ª÷ÑĸÙUȌ¸dòÜJð´ìúNM¬XZ´¤ŊǸ_tldI{¦ƀðĠȤ¥NehXnYGR° ƬDj¬¸|CĞKqºfƐiĺ©ª~ĆOQª ¤@ìǦɌ²æBÊTŸʂōĖĴŞȀÆÿȄlŤĒötÎ½î¼ĨXh|ªM¤Ðz"],encodeOffsets:[[116874,41716]]},properties:{cp:[112.549248,37.857014],name:"山西",childNum:1}},{id:"150000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@Č^â£ĂhĖMÈÄw\\fŦ°W ¢¾luŸDw\\̀ʉÌÛMĀ[bÓEn}¶Vcês¯PqFB|S³C|kñHdiÄ¥sŉÅPóÑÑE^ÅPpy_YtShQ·aHwsOnŉÃs©iqjUSiº]ïW«gW¡ARëśĳĘů`çõh]y»ǃǛҤxÒm~zf}pf|ÜroÈzrKÈĵSƧż؜Ġu¦ö"],["@@sKCGS|úþXgp{ÁX¿ć{ƱȏñZáĔyoÁhA}ŅĆfdŉ_¹Y°ėǩÑ¡H¯¶oMQqð¡Ë|Ñ`ƭŁX½·óÛxğįÅcQs«tȋǅFù^it«Č¯[hAi©á¥ÇĚ×l|¹y¯YȵƓñǙµïċĻ|Düȭ¶¡oŽäÕG\\ÄT¿Òõr¯LguÏYęRƩɷŌO\\İÐ¢æ^Ŋ ĲȶȆbÜGĝ¬¿ĚVĎgª^íu½jÿĕęjık@Ľ]ėl¥ËĭûÁėéV©±ćn©­ȇÍq¯½YÃÔŉÉNÑÅÝy¹NqáʅDǡËñ­ƁYÅy̱os§ȋµʽǘǏƬɱàưN¢ƔÊuľýľώȪƺɂļxZĈ}ÌŉŪĺœĭFЛĽ̅ȣͽÒŵìƩÇϋÿȮǡŏçƑůĕ~Ç¼ȳÐUfdIxÿ\\G zâɏÙOº·pqy£@qþ@Ǟ˽IBäƣzsÂZÁàĻdñ°ŕzéØűzșCìDȐĴĺf®Àľưø@ɜÖÞKĊŇƄ§͑těï͡VAġÑÑ»d³öǍÝXĉĕÖ{þĉu¸ËʅğU̎éhɹƆ̗̮ȘǊ֥ड़ࡰţાíϲäʮW¬®ҌeרūȠkɬɻ̼ãüfƠSצɩςåȈHϚÎKǳͲOðÏȆƘ¼CϚǚ࢚˼ФÔ¤ƌĞ̪Qʤ´¼mȠJˀƲÀɠmǐnǔĎȆÞǠN~ʢĜ¶ƌĆĘźʆȬ˪ĚĒ¸ĞGȖƴƀj`ĢçĶāàŃºēĢĖćYÀŎüôQÐÂŎŞǆŞêƖoˆDĤÕºÑǘÛˤ³̀gńƘĔÀ^ªƂ`ªt¾äƚêĦĀ¼ÐĔǎ¨Ȕ»͠^ˮÊȦƤøxRrŜH¤¸ÂxDÄ|ø˂˜ƮÐ¬ɚwɲFjĔ²Äw°ǆdÀÉ_ĸdîàŎjÊêTĞªŌŜWÈ|tqĢUB~´°ÎFCU¼pĀēƄN¦¾O¶łKĊOjĚj´ĜYp{¦SĚÍ\\T×ªV÷Ší¨ÅDK°ßtŇĔK¨ǵÂcḷ̌ĚǣȄĽFlġUĵŇȣFʉɁMğįʏƶɷØŭOǽ«ƽū¹Ʊő̝Ȩ§ȞʘĖiɜɶʦ}¨֪ࠜ̀ƇǬ¹ǨE˦ĥªÔêFxúQEr´Wrh¤Ɛ \\talĈDJÜ|[Pll̚¸ƎGú´P¬W¦^¦H]prRn|or¾wLVnÇIujkmon£cX^Bh`¥V¦U¤¸}xRj[^xN[~ªxQ[`ªHÆÂExx^wN¶Ê|¨ìMrdYpoRzNyÀDs~bcfÌ`L¾n|¾T°c¨È¢ar¤`[|òDŞĔöxElÖdHÀI`Ď\\Àì~ÆR¼tf¦^¢ķ¶eÐÚMptgjɡČÅyġLûŇV®ÄÈƀĎ°P|ªVVªj¬ĚÒêp¬E|ŬÂc|ÀtƐK f{ĘFĒƌXƲąo½Ę\\¥o}Ûu£ç­kX{uĩ«āíÓUŅßŢqŤ¥lyň[oi{¦LńðFȪȖĒL¿Ìf£K£ʺoqNwğc`uetOj×°KJ±qÆġmĚŗos¬qehqsuH{¸kH¡ÊRǪÇƌbȆ¢´äÜ¢NìÉʖ¦â©Ż؛Ç@Vu»Aylßí¹ĵêÝlISò³C¹Ìâ²i¶Ìoú^H²CǜңǄ z¼g^èöŰ_Ĳĕê}gÁnUI«m]jvV¼euhwqAaW_µj»çjioQR¹ēÃßt@r³[ÛlćË^ÍÉáGOUÛOB±XkÅ¹£k|e]olkVÍ¼ÕqtaÏõjgÁ£§U^RLËnX°ÇBz^~wfvypV ¯ƫĉ˭ȫƗŷɿÿĿƑ˃ĝÿÃǃßËőó©ǐȍŒĖM×ÍEyxþp]ÉvïèvƀnÂĴÖ@V~Ĉ³MEĸÅĖtējyÄDXÄxGQuv_i¦aBçw˛wD©{tāmQ{EJ§KPśƘƿ¥@sCTÉ}ɃwƇy±gÑ}T[÷kÐç¦«SÒ¥¸ëBX½HáÅµÀğtSÝÂa[ƣ°¯¦Pï¡]£ġÒk®G²èQ°óMq}EóƐÇ\\@áügQÍu¥FTÕ¿Jû]|mvāÎYua^WoÀa·­ząÒot×¶CLƗi¯¤mƎHǊ¤îìɾŊìTdåwsRÖgĒųúÍġäÕ}Q¶¿A[¡{d×uQAMxVvMOmăl«ct[wº_ÇÊjbÂ£ĦS_éQZ_lwgOiýe`YYLq§IÁǳ£ÙË[ÕªuƏ³ÍTs·bÁĽäė[b[ŗfãcn¥îC¿÷µ[ŏÀQ­ōĉm¿Á^£mJVmL[{Ï_£F¥Ö{ŹA}×Wu©ÅaųĳƳhB{·TQqÙIķËZđ©Yc|M¡LeVUóK_QWk_ĥ¿ãZ»X\\ĴuUèlG®ěłTĠğDŃOrÍdÆÍz]±ŭ©Å]ÅÐ}UË¥©TċïxgckfWgi\\ÏĒ¥HkµEë{»ÏetcG±ahUiñiWsɁ·cCÕk]wȑ|ća}wVaĚá G°ùnM¬¯{ÈÐÆA¥ÄêJxÙ¢hP¢ÛºµwWOóFÁz^ÀŗÎú´§¢T¤ǻƺSėǵhÝÅQgvBHouʝl_o¿Ga{ïq{¥|ſĿHĂ÷aĝÇqZñiñC³ª»E`¨åXēÕqÉû[l}ç@čƘóO¿¡FUsAʽīccocÇS}£IS~ălkĩXçmĈŀÐoÐdxÒuL^T{r@¢ÍĝKén£kQyÅõËXŷƏL§~}kq»IHėǅjĝ»ÑÞoå°qTt|r©ÏS¯·eŨĕx«È[eM¿yupN~¹ÏyN£{©għWí»Í¾səšǅ_ÃĀɗ±ąĳĉʍŌŷSÉA±åǥɋ@ë£R©ąP©}ĹªƏj¹erLDĝ·{i«ƫC£µ"]],encodeOffsets:[[[127444,52594]],[[113793,40312]]]},properties:{cp:[111.670801,40.818311],name:"内蒙古",childNum:2}},{id:"210000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@L@@sa"],["@@MnNm"],["@@dc"],["@@eÀC@b"],["@@fXwkbrÄ`qg"],["@@^jtWQ"],["@@~ Y]c"],["@@G`ĔN^_¿ZÃM"],["@@iX¶BY"],["@@YZ"],["@@L_{Epf"],["@@^WqCT\\"],["@@\\[§t|¤_"],["@@m`n_"],["@@Ïxǌ{q_×^Giip"],["@@@é^BntaÊU]x ¯ÄPĲ­°hʙK³VÕ@Y~|EvĹsÇ¦­L^pÃ²ŸÒG Ël]xxÄ_fT¤Ď¤cPC¨¸TVjbgH²sdÎdHt`B²¬GJję¶[ÐhjeXdlwhðSČ¦ªVÊÏÆZÆŶ®²^ÎyÅÎcPqńĚDMħĜŁH­kçvV[ĳ¼WYÀäĦ`XlR`ôLUVfK¢{NZdĒªYĸÌÚJRr¸SA|ƴgŴĴÆbvªØX~źB|¦ÕE¤Ð`\\|KUnnI]¤ÀÂĊnŎR®Ő¿¶\\ÀøíDm¦ÎbŨabaĘ\\ľãÂ¸atÎSƐ´©v\\ÖÚÌǴ¤Â¨JKrZ_ZfjþhPkx`YRIjJcVf~sCN¤ EhæmsHy¨SðÑÌ\\\\ĐRZk°IS§fqŒßýáĞÙÉÖ[^¯ǤŲê´\\¦¬ĆPM¯£»uïpùzExanµyoluqe¦W^£ÊL}ñrkqWňûPUP¡ôJoo·U}£[·¨@XĸDXm­ÛÝºGUCÁª½{íĂ^cjk¶Ã[q¤LÉö³cux«zZf²BWÇ®Yß½ve±ÃCý£W{Ú^q^sÑ·¨ÍOt¹·C¥GDrí@wÕKţÃ«V·i}xËÍ÷i©ĝɝǡ]{c±OW³Ya±_ç©HĕoƫŇqr³Lys[ñ³¯OSďOMisZ±ÅFC¥Pq{Ã[Pg}\\¿ghćOk^ģÁFıĉĥM­oEqqZûěŉ³F¦oĵhÕP{¯~TÍlªNßYÐ{Ps{ÃVUeĎwk±ŉVÓ½ŽJãÇÇ»Jm°dhcÀffdF~ĀeĖd`sx² ®EżĀdQÂd^~ăÔH¦\\LKpĄVez¤NP ǹÓRÆąJSh­a[¦´ÂghwmBÐ¨źhI|VV|p] Â¼èNä¶ÜBÖ¼L`¼bØæKVpoúNZÞÒKxpw|ÊEMnzEQIZZNBčÚFÜçmĩWĪñtÞĵÇñZ«uD±|Əlĳ¥ãn·±PmÍada CLǑkùó¡³Ï«QaċÏOÃ¥ÕđQȥċƭy³ÃA"]],encodeOffsets:[[[123686,41445]],[[126019,40435]],[[124393,40128]],[[126117,39963]],[[125322,40140]],[[126686,40700]],[[126041,40374]],[[125584,40168]],[[125453,40165]],[[125362,40214]],[[125280,40291]],[[125774,39997]],[[125976,40496]],[[125822,39993]],[[125509,40217]],[[122731,40949]]]},properties:{cp:[123.429096,41.796767],name:"辽宁",childNum:16}},{id:"220000",type:"Feature",geometry:{type:"Polygon",coordinates:["@@pä³PClFbbÍzwBGĭZÅi»lY­ċ²SgkÇ£^Sqd¯R©é£¯S\\cZ¹iűƏCuƍÓXoR}M^o£R}oªU­FuuXHlEÅÏ©¤ÛmTþ¤D²ÄufàÀ­XXÈ±AeyYw¬dvõ´KÊ£\\rµÄlidā]|î©¾DÂVH¹Þ®ÜWnCķ W§@\\¸~¤Vp¸póIO¢VOŇürXql~òÉK]¤¥Xrfkvzpm¶bwyFoúvð¼¤ N°ąO¥«³[éǡű_°Õ\\ÚÊĝþâőàerR¨­JYlďQ[ ÏYëÐ§TGztnß¡gFkMāGÁ¤ia ÉÈ¹`\\xs¬dĆkNnuNUuP@vRY¾\\¢GªóĄ~RãÖÎĢùđŴÕhQxtcæëSɽŉíëǉ£ƍG£nj°KƘµDsØÑpyĆ¸®¿bXp]vbÍZuĂ{n^IüÀSÖ¦EvRÎûh@â[ƏÈô~FNr¯ôçR±­HÑlĢ^¤¢OðævxsŒ]ÞÁTĠs¶¿âÆGW¾ìA¦·TÑ¬è¥ÏÐJ¨¼ÒÖ¼ƦɄxÊ~StD@Ă¼Ŵ¡jlºWvÐzƦZÐ²CH AxiukdGgetqmcÛ£Ozy¥cE}|¾cZk¿uŐã[oxGikfeäT@SUwpiÚFM©£è^Ú`@v¶eňf heP¶täOlÃUgÞzŸU`l}ÔÆUvØ_Ō¬Öi^ĉi§²ÃB~¡ĈÚEgc|DC_Ȧm²rBx¼MÔ¦ŮdĨÃâYxƘDVÇĺĿg¿cwÅ\\¹¥Yĭl¤OvLjM_a W`zļMž·\\swqÝSAqŚĳ¯°kRē°wx^ĐkǂÒ\\]nrĂ}²ĊŲÒøãh·M{yMzysěnĒġV·°G³¼XÀ¤¹i´o¤ŃÈ`ÌǲÄUĞd\\iÖmÈBĤÜɲDEh LG¾ƀÄ¾{WaYÍÈĢĘÔRîĐj}ÇccjoUb½{h§Ǿ{KƖµÎ÷GĀÖŠåưÎs­lyiē«`å§H¥Ae^§GK}iã\\c]v©ģZmÃ|[M}ģTɟĵÂÂ`ÀçmFK¥ÚíÁbX³ÌQÒHof{]ept·GŋĜYünĎųVY^ydõkÅZW«WUa~U·SbwGçǑiW^qFuNĝ·EwUtW·Ýďæ©PuqEzwAVXRãQ`­©GMehccďÏd©ÑW_ÏYƅ»é\\ɹ~ǙG³mØ©BšuT§Ĥ½¢Ã_Ã½L¡ýqT^rme\\PpZZbyuybQefµ]UhĿDCmûvaÙNSkCwncćfv~YÇG"],encodeOffsets:[[130196,42528]]},properties:{cp:[125.3245,43.886841],name:"吉林",childNum:1}},{id:"230000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@ƨĶTLÇyqpÇÛqe{~oyen}s`qiXGù]Ëp½©lÉÁp]Þñ´FĂ^fäîºkàz¼BUvÈ@"],["@@UµNÿ¥īèçHÍøƕ¶Lǽ|g¨|a¾pVidd~ÈiíďÓQġėÇZÎXb½|ſÃH½KFgɱCģÛÇAnjÕc[VĝǱÃËÇ_ £ń³pj£º¿»WH´¯U¸đĢmtĜyzzNN|g¸÷äűÑ±ĉā~mq^[ǁÑďlw]¯xQĔ¯l°řĴrBÞTxr[tŽ¸ĻN_yX`biNKuP£kZĮ¦[ºxÆÀdhĹŀUÈƗCwáZħÄŭcÓ¥»NAw±qȥnD`{ChdÙFć}¢A±Äj¨]ĊÕjŋ«×`VuÓÅ~_kŷVÝyhVkÄãPsOµfgeŇµf@u_Ù ÙcªNªÙEojVxT@ãSefjlwH\\pŏäÀvlY½d{F~¦dyz¤PÜndsrhfHcvlwjF£G±DÏƥYyÏu¹XikĿ¦ÏqƗǀOŜ¨LI|FRĂn sª|C˜zxAè¥bfudTrFWÁ¹Am|ĔĕsķÆF´N}ćUÕ@Áĳſmuçuð^ÊýowFzØÎĕNőǏȎôªÌŒǄàĀÄ˄ĞŀƒʀĀƘŸˮȬƬĊ°Uzouxe]}AyÈW¯ÌmKQ]Īºif¸ÄX|sZt|½ÚUÎ lk^p{f¤lºlÆW A²PVÜPHÊâ]ÎĈÌÜk´\\@qàsĔÄQºpRij¼èi`¶bXrBgxfv»uUi^v~J¬mVp´£´VWrnP½ì¢BX¬hðX¹^TjVriªjtŊÄmtPGx¸bgRsT`ZozÆO]ÒFôÒOÆŊvÅpcGêsx´DR{AEOr°x|íb³Wm~DVjºéNNËÜ˛ɶ­GxŷCSt}]ûōSmtuÇÃĕNāg»íT«u}ç½BĵÞʣ¥ëÊ¡MÛ³ãȅ¡ƋaǩÈÉQG¢·lG|tvgrrf«ptęŘnÅĢrI²¯LiØsPf_vĠdxM prʹL¤¤eËÀđKïÙVY§]Ióáĥ]ķK¥j|pŇ\\kzţ¦šnņäÔVĂîĪ¬|vW®l¤èØrxm¶ă~lÄƯĄ̈́öȄEÔ¤ØQĄĄ»ƢjȦOǺ¨ìSŖÆƬyQv`cwZSÌ®ü±Ǆ]ŀç¬B¬©ńzƺŷɄeeOĨSfm ĊƀP̎ēz©ĊÄÕÊmgÇsJ¥ƔŊśæÎÑqv¿íUOµªÂnĦÁ_½ä@êí£P}Ġ[@gġ}gɊ×ûÏWXá¢užƻÌsNÍ½ƎÁ§čŐAēeL³àydl¦ĘVçŁpśǆĽĺſÊQíÜçÛġÔsĕ¬Ǹ¯YßċġHµ ¡eå`ļrĉŘóƢFìĎWøxÊkƈdƬv|I|·©NqńRŀ¤éeŊŀàŀU²ŕƀBQ£Ď}L¹Îk@©ĈuǰųǨÚ§ƈnTËÇéƟÊcfčŤ^XmHĊĕË«W·ċëx³ǔķÐċJāwİ_ĸȀ^ôWr­°oú¬ĦŨK~ȰCĐ´Ƕ£fNÎèâw¢XnŮeÂÆĶ¾¾xäLĴĘlļO¤ÒĨA¢Êɚ¨®ØCÔ ŬGƠƦYĜĘÜƬDJg_ͥœ@čŅĻA¶¯@wÎqC½Ĉ»NăëKďÍQÙƫ[«ÃígßÔÇOÝáWñuZ¯ĥŕā¡ÑķJu¤E å¯°WKÉ±_d_}}vyõu¬ï¹ÓU±½@gÏ¿rÃ½DgCdµ°MFYxw¿CG£Rƛ½Õ{]L§{qqą¿BÇƻğëܭǊË|c²}Fµ}ÙRsÓpg±QNqǫŋRwŕnéÑÉK«SeYRŋ@{¤SJ}D Ûǖ֍]gr¡µŷjqWÛham³~S«Þ]"]],encodeOffsets:[[[127123,51780]],[[134456,44547]]]},properties:{cp:[126.642464,45.756967],name:"黑龙江",childNum:2}},{id:"320000",type:"Feature",geometry:{type:"Polygon",coordinates:["@@cþÅPi`ZRu¥É\\]~°Y`µÓ^phÁbnÀşúòaĬºTÖŒbe¦¦{¸ZâćNp©Hr|^mjhSEb\\afv`sz^lkljÄtg¤D­¾X¿À|ĐiZȀåB·î}GL¢õcßjayBFµÏC^ĭcÙt¿sğH]j{s©HM¢QnDÀ©DaÜÞ·jgàiDbPufjDk`dPOîhw¡ĥ¥GP²ĐobºrYî¶aHŢ´ ]´rılw³r_{£DB_Ûdåuk|Ũ¯F Cºyr{XFye³Þċ¿ÂkĭB¿MvÛpm`rÚã@Ę¹hågËÖƿxnlč¶Åì½Ot¾dJlVJĂǀŞqvnO^JZż·Q}êÍÅmµÒ]ƍ¦Dq}¬R^èĂ´ŀĻĊIÔtĲyQŐĠMNtR®òLhĚs©»}OÓGZz¶A\\jĨFäOĤHYJvÞHNiÜaĎÉnFQlNM¤B´ĄNöɂtpŬdfåqm¿QûùŞÚb¤uŃJŴu»¹ĄlȖħŴw̌ŵ²ǹǠ͛hĭłƕrçü±Yxcitğ®jű¢KOķCoy`å®VTa­_Ā]ŐÝɞï²ʯÊ^]afYǸÃĆēĪȣJđ͍ôƋÄÄÍīçÛɈǥ£­ÛmY`ó£Z«§°Ó³QafusNıǅ_k}¢m[ÝóDµ¡RLčiXyÅNïă¡¸iĔÏNÌŕoēdōîåŤûHcs}~Ûwbù¹£¦ÓCtOPrE^ÒogĉIµÛÅʹK¤½phMü`oæŀ"],encodeOffsets:[[121740,32276]]},properties:{cp:[118.767413,32.041544],name:"江苏",childNum:1}},{id:"330000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@E^dQ]K"],["@@jX^j"],["@@sfbU"],["@@qP\\xz[ck"],["@@R¢FX}°[s_"],["@@Cb\\}"],["@@e|v\\la{u"],["@@v~u}"],["@@QxÂF¯}"],["@@¹nvÞs¯o"],["@@rSkUEj"],["@@bi­ZP"],["@@p[}INf"],["@@À¿"],["@@¹dnb"],["@@rSBnR"],["@@g~h}"],["@@FlEk"],["@@OdPc"],["@@v[u\\"],["@@FjâL~wyoo~sµL\\"],["@@¬e¹aN"],["@@\\nÔ¡q]L³ë\\ÿ®QÖ"],["@@ÊA­©[¬"],["@@Kxv­"],["@@@hlIk]"],["@@pW{o||j"],["@@Md|_mC"],["@@¢X£ÏylD¼XtH"],["@@hlÜ[LykAvyfw^E¤"],["@@fp¤MusR"],["@@®_ma~LÁ¬Z"],["@@iMxZ"],["@@ZcYd"],["@@Z~dOSo|A¿qZv"],["@@@`EN¡v"],["@@|TY{"],["@@@n@m"],["@@XWkCT\\"],["@@ºwZRkĕWO¢"],["@@X®±GrÆª\\ÔáXq{"],["@@ůTG°ĄLHm°UC"],["@@¤aÜx~}dtüGæţŎíĔcŖpMËÐjē¢·ðĄÆMzjWKĎ¢Q¶À_ê_Bıi«pZgf¤Nrq]§ĂN®«H±yƳí¾×ŸīàLłčŴǝĂíÀBŖÕªÁŖHŗŉåqûõi¨hÜ·ñt»¹ýv_[«¸mYL¯QªmĉÅdMgÇjcº«ę¬­K­´B«Âącoċ\\xKd¡gěŧ«®á[~ıxu·ÅKsËÉc¢Ù\\ĭƛëbf¹­ģSĜkáƉÔ­ĈZB{aMµfzŉfåÂŧįƋǝÊĕġć£g³ne­ą»@­¦S®\\ßðChiqªĭiAuA­µ_W¥ƣO\\lċĢttC¨£t`PZäuXßBsĻyekOđġĵHuXBµ]×­­\\°®¬F¢¾pµ¼kŘó¬Wät¸|@L¨¸µrºù³Ù~§WIZW®±Ð¨ÒÉx`²pĜrOògtÁZ}þÙ]¡FKwsPlU[}¦Rvn`hq¬\\nQ´ĘRWb_ rtČFIÖkĦPJ¶ÖÀÖJĈĄTĚòC ²@PúØz©Pî¢£CÈÚĒ±hŖl¬â~nm¨f©iļ«mntuÖZÜÄjL®EÌFª²iÊxØ¨IÈhhst"],["@@o\\VzRZ}y"],["@@@°¡mÛGĕ¨§Ianá[ýƤjfæØLäGr"]],encodeOffsets:[[[125592,31553]],[[125785,31436]],[[125729,31431]],[[125513,31380]],[[125223,30438]],[[125115,30114]],[[124815,29155]],[[124419,28746]],[[124095,28635]],[[124005,28609]],[[125e3,30713]],[[125111,30698]],[[125078,30682]],[[125150,30684]],[[124014,28103]],[[125008,31331]],[[125411,31468]],[[125329,31479]],[[125626,30916]],[[125417,30956]],[[125254,30976]],[[125199,30997]],[[125095,31058]],[[125083,30915]],[[124885,31015]],[[125218,30798]],[[124867,30838]],[[124755,30788]],[[124802,30809]],[[125267,30657]],[[125218,30578]],[[125200,30562]],[[124968,30474]],[[125167,30396]],[[124955,29879]],[[124714,29781]],[[124762,29462]],[[124325,28754]],[[123990,28459]],[[125366,31477]],[[125115,30363]],[[125369,31139]],[[122495,31878]],[[125329,30690]],[[125192,30787]]]},properties:{cp:[120.153576,30.287459],name:"浙江",childNum:45}},{id:"340000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@^iuLX^"],["@@e©Ehl"],["@@°ZÆëĎµmkǀwÌÕæhºgBĝâqÙĊzÖgņtÀÁĂÆáhEz|WzqD¹°Eŧl{ævÜcA`¤C`|´qxĲkq^³³GšµbíZ¹qpa±ď OH¦Ħx¢gPícOl_iCveaOjChß¸iÝbÛªCC¿mRV§¢A|t^iĠGÀtÚsd]ĮÐDE¶zAb àiödK¡~H¸íæAǿYj{ď¿À½W®£ChÃsikkly]_teu[bFaTign{]GqªoĈMYá|·¥f¥őaSÕėNµñĞ«Im_m¿Âa]uĜp Z_§{Cäg¤°r[_YjÆOdý[I[á·¥Q_nùgL¾mvˊBÜÆ¶ĊJhpc¹O]iŠ]¥ jtsggJÇ§w×jÉ©±EFË­KiÛÃÕYvsm¬njĻª§emná}k«ŕgđ²ÙDÇ¤í¡ªOy×Où±@DñSęćăÕIÕ¿IµĥOjNÕËT¡¿tNæŇàåyķrĕq§ÄĩsWÆßF¶X®¿mwRIÞfßoG³¾©uyHį{Ɓħ¯AFnuPÍÔzVdàôº^Ðæd´oG¤{S¬ćxã}ŧ×Kǥĩ«ÕOEÐ·ÖdÖsƘÑ¨[Û^Xr¢¼§xvÄÆµ`K§ tÒ´Cvlo¸fzŨð¾NY´ı~ÉĔēßúLÃÃ_ÈÏ|]ÂÏFlg`ben¾¢pUh~ƴĖ¶_r sĄ~cƈ]|r c~`¼{À{ȒiJjz`îÀT¥Û³]u}fïQl{skloNdjäËzDvčoQďHI¦rbtHĔ~BmlRV_ħTLnñH±DL¼Lªl§Ťa¸ĚlK²\\RòvDcÎJbt[¤D@®hh~kt°ǾzÖ@¾ªdbYhüóZ ň¶vHrľ\\ÊJuxAT|dmÀO[ÃÔG·ĚąĐlŪÚpSJ¨ĸLvÞcPæķŨ®mÐálwKhïgA¢ųÆ©Þ¤OÈm°K´"]],encodeOffsets:[[[121722,32278]],[[119475,30423]],[[119168,35472]]]},properties:{cp:[117.283042,31.86119],name:"安徽",childNum:3}},{id:"350000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@zht´]"],["@@aj^~ĆG©O"],["@@ed¨C}}i"],["@@@vPGsQ"],["@@sBzddW]Q"],["@@S¨Q{"],["@@NVucW"],["@@qptBAq"],["@@¸[mu"],["@@Q\\pD]_"],["@@jSwUadpF"],["@@eXª~"],["@@AjvFso"],["@@fT_Çí\\v|ba¦jZÆy°"],["@@IjJi"],["@@wJIx«¼AoNe{M­"],["@@K±¡ÓČäeZ"],["@@k¡¹Eh~c®wBkUplÀ¡I~Māe£bN¨gZý¡a±Öcp©PhI¢QqÇGj|¥U g[Ky¬ŏv@OptÉEF\\@ åA¬V{XģĐBycpě¼³Ăp·¤¥ohqqÚ¡ŅLs^Ã¡§qlÀhH¨MCe»åÇGD¥zPO£čÙkJA¼ßėuĕeûÒiÁŧSW¥Qûŗ½ùěcÝ§SùĩąSWó«íęACµeRåǃRCÒÇZÍ¢ź±^dlstjD¸ZpuÔâÃH¾oLUêÃÔjjēò´ĄWƛ^Ñ¥Ħ@ÇòmOw¡õyJyD}¢ďÑÈġfZda©º²z£NjD°Ötj¶¬ZSÎ~¾c°¶ÐmxO¸¢Pl´SL|¥AȪĖMņĲg®áIJČĒü` QF¬h|ĂJ@zµ |ê³È ¸UÖŬŬÀEttĸr]ðM¤ĶĲHtÏ AĬkvsq^aÎbvdfÊòSD´Z^xPsĂrvƞŀjJd×ŘÉ ®AÎ¦ĤdxĆqAZRÀMźnĊ»İÐZ YXæJyĊ²·¶q§·K@·{sXãô«lŗ¶»o½E¡­«¢±¨Y®Ø¶^AvWĶGĒĢPlzfļtàAvWYãO_¤sD§ssČġ[kƤPX¦`¶®BBvĪjv©jx[L¥àï[F¼ÍË»ğV`«Ip}ccÅĥZEãoP´B@D¸m±z«Ƴ¿å³BRØ¶Wlâþäą`]Z£Tc ĹGµ¶Hm@_©k¾xĨôȉðX«½đCIbćqK³ÁÄš¬OAwã»aLŉËĥW[ÂGIÂNxĳ¤D¢îĎÎB§°_JGs¥E@¤ućPåcuMuw¢BI¿]zG¹guĮck\\_"]],encodeOffsets:[[[123250,27563]],[[122541,27268]],[[123020,27189]],[[122916,27125]],[[122887,26845]],[[122808,26762]],[[122568,25912]],[[122778,26197]],[[122515,26757]],[[122816,26587]],[[123388,27005]],[[122450,26243]],[[122578,25962]],[[121255,25103]],[[120987,24903]],[[122339,25802]],[[121042,25093]],[[122439,26024]]]},properties:{cp:[119.306239,26.075302],name:"福建",childNum:18}},{id:"360000",type:"Feature",geometry:{type:"Polygon",coordinates:["@@ĢĨƐgļ¼ÂMD~ņªe^\\^§ý©j×cZØ¨zdÒa¶lÒJìõ`oz÷@¤uŞ¸´ôęöY¼HČƶajlÞƩ¥éZ[|h}^U  ¥pĄžƦO lt¸Æ Q\\aÆ|CnÂOjt­ĚĤdÈF`¶@Ðë ¦ōÒ¨SêvHĢûXD®QgÄWiØPÞìºr¤ǆNĠ¢lĄtZoCƞÔºCxrpĠV®Ê{f_Y`_eq®Aot`@oDXfkp¨|s¬\\DÄSfè©Hn¬^DhÆyøJhØxĢĀLÊƠPżċĄwȠĚ¦G®ǒĤäTŠÆ~Ħw«|TF¡nc³Ïå¹]ĉđxe{ÎÓvOEm°BƂĨİ|Gvz½ª´HàpeJÝQxnÀW­EµàXÅĪt¨ÃĖrÄwÀFÎ|ňÓMå¼ibµ¯»åDT±m[r«_gmQu~¥V\\OkxtL E¢Ú^~ýêPóqoě±_Êw§ÑªåƗā¼mĉŹ¿NQYBąrwģcÍ¥B­ŗÊcØiIƝĿuqtāwO]³YCñTeÉcaubÍ]trluīBÐGsĵıN£ï^ķqss¿FūūVÕ·´Ç{éĈýÿOER_đûIċâJh­ŅıNȩĕB¦K{Tk³¡OP·wnµÏd¯}½TÍ«YiµÕsC¯iM¤­¦¯P|ÿUHvhe¥oFTuõ\\OSsMòđƇiaºćXĊĵà·çhƃ÷Ç{ígu^đgm[×zkKN¶Õ»lčÓ{XSÆv©_ÈëJbVkĔVÀ¤P¾ºÈMÖxlò~ªÚàGĂ¢B±ÌKyáV¼Ã~­`gsÙfIƋlę¹e|~udjuTlXµf`¿Jd[\\L²"],encodeOffsets:[[116689,26234]]},properties:{cp:[115.892151,28.676493],name:"江西",childNum:1}},{id:"370000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@Xjd]{K"],["@@itbFHy"],["@@HlGk"],["@@TGy"],["@@K¬U"],["@@WdXc"],["@@PtOs"],["@@LnXhc"],["@@ppVu]Or"],["@@cdzAUa"],["@@udRhnCI"],["@@oIpR"],["@@Ľč{fzƤîKÎMĮ]ZF½Y]â£ph¶¨râøÀÎǨ¤^ºÄGz~grĚĜlĞÆLĆǆ¢Îo¦cvKbgr°WhmZp L]LºcUÆ­nżĤÌĒbAnrOA´ȊcÀbƦUØrĆUÜøĬƞEzVL®öØBkŖÝĐĖ¹ŧ̄±ÀbÎÉnb²ĦhņBĖįĦåXćì@L¯´ywƕCéÃµė ƿ¸lµ¾Z|ZWyFY¨Mf~C¿`à_RÇzwƌfQnny´INoƬèôº|sTJULîVjǎ¾ĒØDz²XPn±ŴPè¸ŔLƔÜƺ_TüÃĤBBċÈöA´faM¨{«M`¶d¡ôÖ°mȰBÔjj´PM|c^d¤u¤Û´ä«ƢfPk¶Môl]Lb}su^ke{lCMrDÇ­]NÑFsmoõľHyGă{{çrnÓEƕZGª¹Fj¢ïWuøCǷë¡ąuhÛ¡^KxC`C\\bÅxì²ĝÝ¿_NīCȽĿåB¥¢·IŖÕy\\¹kxÃ£Č×GDyÃ¤ÁçFQ¡KtŵƋ]CgÏAùSedcÚźuYfyMmhUWpSyGwMPqŀÁ¼zK¶G­Y§Ë@´śÇµƕBm@IogZ¯uTMx}CVKï{éƵP_K«pÛÙqċtkkù]gTğwoɁsMõ³ăAN£MRkmEÊčÛbMjÝGuIZGPģãħE[iµBEuDPÔ~ª¼ęt]ûG§¡QMsğNPŏįzs£Ug{đJĿļā³]ç«Qr~¥CƎÑ^n¶ÆéÎR~Ż¸YI] PumŝrƿIā[xeÇ³L¯v¯s¬ÁY~}ťuŁgƋpÝĄ_ņī¶ÏSR´ÁP~¿Cyċßdwk´SsX|t`Ä ÈðAªìÎT°¦Dda^lĎDĶÚY°`ĪŴǒàŠv\\ebZHŖR¬ŢƱùęOÑM­³FÛWp["]],encodeOffsets:[[[123806,39303]],[[123821,39266]],[[123742,39256]],[[123702,39203]],[[123649,39066]],[[123847,38933]],[[123580,38839]],[[123894,37288]],[[123043,36624]],[[123344,38676]],[[123522,38857]],[[123628,38858]],[[118260,36742]]]},properties:{cp:[117.000923,36.675807],name:"山东",childNum:13}},{id:"410000",type:"Feature",geometry:{type:"Polygon",coordinates:["@@ýLùµP³swIÓxcŢĞð´E®ÚPtĴXØxÂ¶@«ŕŕQGYfa[şußǩđš_X³ĳÕčC]kbc¥CS¯ëÍB©÷³­Si_}mYTt³xlàcČzÀD}ÂOQ³ÐTĨ¯ƗòËŖ[hłŦv~}ÂZ«¤lPÇ£ªÝŴÅR§ØnhctâknÏ­ľŹUÓÝdKuķI§oTũÙďkęĆH¸Ó\\Ä¿PcnS{wBIvÉĽ[GqµuŇôYgûZca©@½Õǽys¯}lgg@­C\\£asIdÍuCQñ[L±ęk·ţb¨©kK»KC²òGKmĨS`UQnk}AGēsqaJ¥ĐGRĎpCuÌy ã iMcplk|tRkðev~^´¦ÜSí¿_iyjI|ȑ|¿_»d}q^{Ƈdă}tqµ`Ƴĕg}V¡om½faÇo³TTj¥tĠRyK{ùÓjuµ{t}uËRivGçJFjµÍyqÎàQÂFewixGw½Yŷpµú³XU½ġyłåkÚwZX·l¢Á¢KzOÎÎjc¼htoDHr|­J½}JZ_¯iPq{tę½ĕ¦Zpĵø«kQĹ¤]MÛfaQpě±ǽ¾]u­Fu÷nčÄ¯ADp}AjmcEÇaª³o³ÆÍSƇĈÙDIzËčľ^KLiÞñ[aA²zzÌ÷D|[íÄ³gfÕÞd®|`Ć~oĠƑô³ŊD×°¯CsøÀ«ìUMhTº¨¸ǡîSÔDruÂÇZÖEvPZW~ØÐtĄE¢¦Ðy¸bô´oŬ¬²Ês~]®tªapŎJ¨Öº_Ŕ`Ŗ^Đ\\Ĝu~m²Ƹ¸fWĦrƔ}Î^gjdfÔ¡J}\\n C¦þWxªJRÔŠu¬ĨĨmFdM{\\d\\YÊ¢ú@@¦ª²SÜsC}fNècbpRmlØ^gd¢aÒ¢CZZxvÆ¶N¿¢T@uC¬^ĊðÄn|lGlRjsp¢ED}Fio~ÔN~zkĘHVsǲßjŬŢ`Pûàl¢\\ÀEhİgÞē X¼Pk|m"],encodeOffsets:[[118256,37017]]},properties:{cp:[113.665412,34.757975],name:"河南",childNum:1}},{id:"420000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@AB"],["@@lskt"],["@@¾«}{ra®pîÃ\\{øCËyyB±b\\òÝjKL ]ĎĽÌJyÚCƈćÎT´Å´pb©ÈdFin~BCo°BĎÃømv®E^vǾ½Ĝ²RobÜeN^ĺ£R¬lĶ÷YoĖ¥Ě¾|sOr°jY`~I¾®I{GqpCgyl{£ÍÍyPLÂ¡¡¸kWxYlÙæŁĢz¾V´W¶ùŸo¾ZHxjwfxGNÁ³Xéæl¶EièIH ujÌQ~v|sv¶Ôi|ú¢FhQsğ¦SiŠBgÐE^ÁÐ{čnOÂÈUÎóĔÊēĲ}Z³½Mŧïeyp·uk³DsÑ¨L¶_ÅuÃ¨w»¡WqÜ]\\Ò§tƗcÕ¸ÕFÏǝĉăxŻČƟOKÉġÿ×wg÷IÅzCg]m«ªGeçÃTC«[t§{loWeC@ps_Bp­rf_``Z|ei¡oċMqow¹DƝÓDYpûsYkıǃ}s¥ç³[§cY§HK«Qy]¢wwö¸ïx¼ņ¾Xv®ÇÀµRĠÐHM±cÏdƒǍũȅȷ±DSyúĝ£ŤĀàtÖÿï[îb\\}pĭÉI±Ñy¿³x¯No|¹HÏÛmjúË~TuęjCöAwě¬Rđl¯ Ñb­ŇTĿ_[IčĄʿnM¦ğ\\É[T·k¹©oĕ@A¾wya¥Y\\¥Âaz¯ãÁ¡k¥ne£ÛwE©Êō¶˓uoj_U¡cF¹­[WvP©whuÕyBF`RqJUw\\i¡{jEPïÿ½fćQÑÀQ{°fLÔ~wXgītêÝ¾ĺHd³fJd]HJ²EoU¥HhwQsƐ»Xmg±çve]DmÍPoCc¾_hhøYrŊU¶eD°Č_N~øĹĚ·`z]Äþp¼äÌQv\\rCé¾TnkžŐÚÜa¼ÝƆĢ¶ÛodĔňÐ¢JqPb ¾|J¾fXƐîĨ_Z¯À}úƲN_ĒÄ^ĈaŐyp»CÇÄKñL³ġM²wrIÒŭxjb[n«øæà ^²­h¯ÚŐªÞ¸Y²ĒVø}Ā^İ´LÚm¥ÀJÞ{JVųÞŃx×sxxƈē ģMřÚðòIfĊŒ\\Ʈ±ŒdÊ§ĘDvČ_Àæ~Dċ´A®µ¨ØLV¦êHÒ¤"]],encodeOffsets:[[[113712,34e3]],[[115612,30507]],[[113649,34054]]]},properties:{cp:[114.298572,30.584355],name:"湖北",childNum:3}},{id:"430000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@nFTs"],["@@ßÅÆá½ÔXrCOËRïÿĩ­TooQyÓ[ŅBE¬ÎÓXaį§Ã¸G °ITxpúxÚĳ¥ÏĢ¾edÄ©ĸGàGhM¤Â_U}Ċ}¢pczfþg¤ÇòAVM"],["@@©KA·³CQ±Á«³BUƑ¹AtćOwD]JiØSm¯b£ylXHËÑ±H«C^õľAÅ§¤É¥ïyuǙuA¢^{ÌC´­¦ŷJ£^[ª¿ĕ~ƇN skóā¹¿ï]ă~÷O§­@Vm¡Qđ¦¢Ĥ{ºjÔª¥nf´~Õo×ÛąMąıuZmZcÒ ĲĪ²SÊǄŶ¨ƚCÖŎªQØ¼rŭ­«}NÏürÊ¬mjr@ĘrTW ­SsdHzƓ^ÇÂyUi¯DÅYlŹu{hT}mĉ¹¥ěDÿë©ıÓ[Oº£¥ótł¹MÕƪ`PDiÛU¾ÅâìUñBÈ£ýhedy¡oċ`pfmjP~kZaZsÐd°wj§@Ĵ®w~^kÀÅKvNmX\\¨aŃqvíó¿F¤¡@ũÑVw}S@j}¾«pĂrªg àÀ²NJ¶¶DôK|^ª°LX¾ŴäPĪ±£EXd^¶ĲÞÜ~u¸ǔMRhsRe`ÄofIÔ\\Ø  ićymnú¨cj ¢»GČìƊÿÐ¨XeĈĀ¾Oð Fi ¢|[jVxrIQ_EzAN¦zLU`cªxOTu RLÄ¢dVi`p˔vŎµªÉF~Ød¢ºgİàw¸Áb[¦Zb¦z½xBĖ@ªpºlS¸Ö\\Ĕ[N¥ˀmĎăJ\\ŀ`ňSÚĖÁĐiOĜ«BxDõĚivSÌ}iùÜnÐºG{p°M´wÀÒzJ²ò¨ oTçüöoÛÿñőĞ¤ùTz²CȆȸǎŪƑÐc°dPÎğË¶[È½u¯½WM¡­ÉB·rínZÒ `¨GA¾\\pēXhÃRC­üWGġuTé§ŎÑ©ò³I±³}_EÃħg®ęisÁPDmÅ{b[RÅs·kPŽƥóRoOV~]{g\\êYƪ¦kÝbiċƵGZ»Ěõó·³vŝ£ø@pyö_ëIkÑµbcÑ§y×dYØªiþ¨[]f]Ņ©C}ÁN»hĻħƏĩ"]],encodeOffsets:[[[115640,30489]],[[112543,27312]],[[116690,26230]]]},properties:{cp:[112.982279,28.19409],name:"湖南",childNum:3}},{id:"440000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@QdAua"],["@@lxDLo"],["@@sbhNLo"],["@@Ă ā"],["@@WltO[["],["@@Kr]S"],["@@eI]y"],["@@I|Mym"],["@@Û³LS¼Y"],["@@nvºBëui©`¾"],["@@zdÛJw®"],["@@°¯"],["@@a yAª¸ËJIxØ@ĀHAmÃV¡ofuo"],["@@sŗÃÔėAƁZÄ ~°ČPäh"],["@@¶ÝÌvmĞh­ıQ"],["@@HdSjĒ¢D}waru«ZqadYM"],["@@el\\LqqU"],["@@~rMo\\"],["@@f^C"],["@@øPªoj÷ÍÝħXČx°Q¨ıXNv"],["@@gÇƳo[~tly"],["@@EÆC¿"],["@@OP"],["@@wđógĝ[³¡VÙæÅöMÌ³¹pÁaËýý©D©ÜJŹƕģGą¤{ÙūÇO²«BƱéAÒĥ¡«BhlmtÃPµyU¯ucd·w_bŝcīímGO|KPȏŹãŝIŕŭŕ@Óoo¿ē±ß}ŭĲWÈCőâUâǙIğŉ©IĳE×Á³AówXJþ±ÌÜÓĨ£L]ĈÙƺZǾĆĖMĸĤfÎĵlŨnÈĐtFFĤêk¶^k°f¶g}®Faf`vXŲxl¦ÔÁ²¬Ð¦pqÊÌ²iXØRDÎ}Ä@ZĠsx®AR~®ETtĄZƈfŠŠHâÒÐAµ\\S¸^wĖkRzalŜ|E¨ÈNĀňZTpBh£\\ĎƀuXĖtKL¶G|»ĺEļĞ~ÜĢÛĊrOÙîvd]n¬VÊĜ°RÖpMƂªFbwEÀ©\\¤]ŸI®¥D³|Ë]CöAŤ¦æ´¥¸Lv¼¢ĽBaôF~®²GÌÒEYzk¤°ahlVÕI^CxĈPsBƒºV¸@¾ªR²ĨN]´_eavSivc}p}Đ¼ƌkJÚe th_¸ ºx±ò_xNË²@ă¡ßH©Ùñ}wkNÕ¹ÇO½¿£ĕ]ly_WìIÇª`uTÅxYĒÖ¼kÖµMjJÚwn\\hĒv]îh|ÈƄøèg¸Ķß ĉĈWb¹ƀdéĘNTtP[öSvrCZaGubo´ŖÒÇĐ~¡zCIözx¢PnÈñ @ĥÒ¦]ƞV}³ăĔñiiÄÓVépKG½ÄÓávYoC·sitiaÀyŧÎ¡ÈYDÑům}ý|m[węõĉZÅxUO}÷N¹³ĉo_qtăqwµŁYÙǝŕ¹tïÛUÃ¯mRCºĭ|µÕÊK½Rē ó]GªęAx»HO£|ām¡diď×YïYWªŉOeÚtĐ«zđ¹TāúEá²\\ķÍ}jYàÙÆſ¿Çdğ·ùTßÇţʄ¡XgWÀǇğ·¿ÃOj YÇ÷Qěi"]],encodeOffsets:[[[117381,22988]],[[116552,22934]],[[116790,22617]],[[116973,22545]],[[116444,22536]],[[116931,22515]],[[116496,22490]],[[116453,22449]],[[113301,21439]],[[118726,21604]],[[118709,21486]],[[113210,20816]],[[115482,22082]],[[113171,21585]],[[113199,21590]],[[115232,22102]],[[115739,22373]],[[115134,22184]],[[113056,21175]],[[119573,21271]],[[119957,24020]],[[115859,22356]],[[116561,22649]],[[116285,22746]]]},properties:{cp:[113.280637,23.125178],name:"广东",childNum:24}},{id:"450000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@H TQ§A"],["@@ĨÊªLƊDÎĹĐCǦė¸zÚGn£¾rªŀÜt¬@ÖÚSx~øOŒŶÐÂæȠ\\ÈÜObĖw^oÞLf¬°bI lTØBÌF£Ć¹gñĤaYt¿¤VSñK¸¤nM¼JE±½¸ñoÜCƆæĪ^ĚQÖ¦^f´QüÜÊz¯lzUĺš@ìp¶n]sxtx¶@~ÒĂJb©gk{°~c°`Ô¬rV\\la¼¤ôá`¯¹LCÆbxEræOv[H­[~|aB£ÖsºdAĐzNÂðsÞÆĤªbab`ho¡³F«èVlo¤ÔRzpp®SĪº¨ÖºNĳd`a¦¤F³ºDÎńĀìCĜº¦Ċ~nS|gźvZkCÆj°zVÈÁƔ]LÊFZgčP­kini«qÇczÍY®¬Ů»qR×ō©DÕ§ƙǃŵTÉĩ±ıdÑnYYĲvNĆĆØÜ Öp}e³¦m©iÓ|¹ħņ|ª¦QF¢Â¬ʖovg¿em^ucà÷gÕuíÙćĝ}FĻ¼Ĺ{µHKsLSđƃrč¤[AgoSŇYMÿ§Ç{FśbkylQxĕ]T·¶[BÑÏGáşşƇeăYSs­FQ}­BwtYğÃ@~CÍQ ×WjË±rÉ¥oÏ ±«ÓÂ¥kwWűmcih³K~µh¯e]lµélEģEďsmÇŧē`ãògK_ÛsUʝćğ¶höO¤Ǜn³c`¡y¦CezYwa[ďĵűMę§]XÎ_íÛ]éÛUćİÕBƣ±dy¹T^dûÅÑŦ·PĻþÙ`K¦¢ÍeĥR¿³£[~äu¼dltW¸oRM¢ď\\z}Æzdvň{ÎXF¶°Â_ÒÂÏL©ÖTmu¼ãlīkiqéfA·Êµ\\őDc¥ÝFyÔćcűH_hLÜêĺĐ¨c}rn`½Ì@¸¶ªVLhŒ\\Ţĺk~Ġið°|gtTĭĸ^xvKVGréAébUuMJVÃO¡qĂXËSģãlýà_juYÛÒBG^éÖ¶§EGÅzěƯ¤EkN[kdåucé¬dnYpAyČ{`]þ¯TbÜÈk¡ĠvàhÂƄ¢Jî¶²"]],encodeOffsets:[[[111707,21520]],[[107619,25527]]]},properties:{cp:[108.320004,22.82402],name:"广西",childNum:2}},{id:"460000",type:"Feature",geometry:{type:"Polygon",coordinates:["@@¦Ŝil¢XƦƞòïè§ŞCêɕrŧůÇąĻõ·ĉ³œ̅kÇm@ċȧŧĥĽʉ­ƅſȓÒË¦ŝE}ºƑ[ÍĜȋ gÎfǐÏĤ¨êƺ\\Ɔ¸ĠĎvʄȀÐ¾jNðĀÒRZǆzÐŘÎ°H¨Ƣb²_Ġ "],encodeOffsets:[[112750,20508]]},properties:{cp:[110.33119,20.031971],name:"海南",childNum:1}},{id:"510000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@LqKr"],["@@[ĻéV£_ţġñpG réÏ·~ąSfy×Í·ºſƽiÍıƣıĻmHH}siaX@iÇ°ÁÃ×t«­T¤JJJyJÈ`Ohß¦¡uËhIyCjmÿwZGTiSsOB²fNmsPa{M{õE^Hj}gYpaeu¯oáwHjÁ½M¡pMuåmni{fk\\oÎqCwEZ¼KĝAy{m÷LwO×SimRI¯rKõBS«sFe]fµ¢óY_ÆPRcue°Cbo×bd£ŌIHgtrnyPt¦foaXďxlBowz_{ÊéWiêEGhÜ¸ºuFĈIxf®Y½ĀǙ]¤EyF²ċw¸¿@g¢§RGv»áW`ÃĵJwi]t¥wO­½a[×]`Ãi­üL¦LabbTÀåc}ÍhÆh®BHî|îºÉk­¤Sy£ia©taį·Ɖ`ō¥UhOĝLk}©Fos´JmµlŁuønÑJWÎªYÀïAetTŅÓGË«bo{ıwodƟ½OġÜÂµxàNÖ¾P²§HKv¾]|BÆåoZ`¡Ø`ÀmºĠ~ÌÐ§nÇ¿¤]wğ@srğu~Io[é±¹ ¿ſđÓ@qg¹zƱřaí°KtÇ¤V»Ã[ĩǭƑ^ÇÓ@áťsZÏÅĭƋěpwDóÖáŻneQËq·GCœýS]x·ýq³OÕ¶Qzßti{řáÍÇWŝŭñzÇWpç¿JXĩè½cFÂLiVjx}\\NŇĖ¥GeJA¼ÄHfÈu~¸Æ«dE³ÉMA|bÒćhG¬CMõƤąAvüVéŀ_VÌ³ĐwQj´·ZeÈÁ¨X´Æ¡Qu·»ÕZ³ġqDoy`L¬gdp°şp¦ėìÅĮZ°Iähzĵf²å ĚÑKpIN|Ñz]ń·FU×é»R³MÉ»GM«kiér}Ã`¹ăÞmÈnÁîRǀ³ĜoİzŔwǶVÚ£À]ɜ»ĆlƂ²ĠþTº·àUȞÏʦ¶I«dĽĢdĬ¿»Ĕ×h\\c¬ä²GêëĤł¥ÀǿżÃÆMº}BÕĢyFVvwxBèĻĒ©ĈtCĢɽŠȣ¦āæ·HĽîôNÔ~^¤Ɗu^s¼{TA¼ø°¢İªDè¾Ň¶ÝJ®Z´ğ~Sn|ªWÚ©òzPOȸbð¢|øĞŒQìÛÐ@ĞǎRS¤Á§di´ezÝúØã]HqkIþËQÇ¦ÃsÇ¤[E¬ÉŪÍxXƒ·ÖƁİlƞ¹ª¹|XÊwnÆƄmÀêErĒtD®ċæcQE®³^ĭ¥©l}äQtoŖÜqÆkµªÔĻĴ¡@Ċ°B²Èw^^RsºTĀ£ŚæQPJvÄz^Đ¹Æ¯fLà´GC²dt­ĀRt¼¤ĦOðğfÔðDŨŁĞƘïPÈ®âbMüÀXZ ¸£@Å»»QÉ­]dsÖ×_Í_ÌêŮPrĔĐÕGĂeZÜîĘqBhtO ¤tE[h|YÔZśÎs´xº±Uñt|OĩĠºNbgþJy^dÂY Į]Řz¦gC³R`Āz¢Aj¸CL¤RÆ»@­Ŏk\\Ç´£YW}z@Z}Ã¶oû¶]´^NÒ}èNªPÍy¹`S°´ATeVamdUĐwʄvĮÕ\\uÆŗ¨Yp¹àZÂmWh{á}WØǍÉüwga§áCNęÎ[ĀÕĪgÖÉªXøx¬½Ů¦¦[NÎLÜUÖ´òrÙŠxR^JkĳnDX{U~ET{ļº¦PZcjF²Ė@pg¨B{u¨ŦyhoÚD®¯¢ WòàFÎ¤¨GDäz¦kŮPġqË¥À]eâÚ´ªKxīPÖ|æ[xÃ¤JÞĥsNÖ½I¬nĨY´®ÐƐmDŝuäđđEbee_v¡}ìęǊē}qÉåT¯µRs¡M@}ůaa­¯wvƉåZw\\Z{åû^"]],encodeOffsets:[[[108815,30935]],[[110617,31811]]]},properties:{cp:[104.065735,30.659462],name:"四川",childNum:2}},{id:"520000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@G\\lY£in"],["@@q|mc¯tÏVSÎ"],["@@hÑ£IsNgßHHªķÃh_¹¡ĝÄ§ń¦uÙùgS¯JH|sÝÅtÁïyMDč»eÕtA¤{b\\}G®u\\åPFqwÅaDK°ºâ_£ùbµmÁÛĹM[q|hlaªāI}Ñµ@swtwm^oµDéĽŠyVky°ÉûÛR³e¥]RÕěħ[ƅåÛDpJiVÂF²I»mN·£LbÒYbWsÀbpkiTZĄă¶Hq`ĥ_J¯ae«KpÝx]aĕÛPÇȟ[ÁåŵÏő÷Pw}TÙ@Õs«ĿÛq©½m¤ÙH·yǥĘĉBµĨÕnđ]K©œáGçş§ÕßgǗĦTèƤƺ{¶ÉHÎd¾ŚÊ·OÐjXWrãLyzÉAL¾ę¢bĶėy_qMĔąro¼hĊw¶øV¤w²Ĉ]ÊKx|`ź¦ÂÈdrcÈbe¸`I¼čTF´¼Óýȃr¹ÍJ©k_șl³´_pĐ`oÒh¶pa^ÓĔ}D»^Xy`d[KvJPhèhCrĂĚÂ^Êƌ wZL­Ġ£ÁbrzOIlMMĪŐžËr×ÎeŦtw|¢mKjSǘňĂStÎŦEtqFT¾Eì¬¬ôxÌO¢ K³ŀºäYPVgŎ¦ŊmŞ¼VZwVlz¤£Tl®ctĽÚó{G­AÇge~Îd¿æaSba¥KKûj®_Ä^\\Ø¾bP®¦x^sxjĶI_Ä Xâ¼Hu¨Qh¡À@Ëô}±GNìĎlT¸`V~R°tbÕĊ`¸úÛtÏFDu[MfqGH·¥yAztMFe|R_GkChZeÚ°tov`xbDnÐ{E}ZèxNEÞREn[Pv@{~rĆAB§EO¿|UZ~ìUf¨J²ĂÝÆsªB`s¶fvö¦Õ~dÔq¨¸º»uù[[§´sb¤¢zþF¢ÆÀhÂW\\ıËIÝo±ĭŠ£þÊs}¡R]ěDg´VG¢j±®èºÃmpU[Áëº°rÜbNu¸}º¼`niºÔXĄ¤¼ÔdaµÁ_ÃftQQgR·Ǔv}Ý×ĵ]µWc¤F²OĩųãW½¯K©]{LóµCIµ±Mß¿h©āq¬o½~@i~TUxŪÒ¢@£ÀEîôruńb[§nWuMÆLl¿]x}ĳ­½"]],encodeOffsets:[[[112158,27383]],[[112105,27474]],[[112095,27476]]]},properties:{cp:[106.713478,26.578343],name:"贵州",childNum:3}},{id:"530000",type:"Feature",geometry:{type:"Polygon",coordinates:["@@[ùx½}ÑRHYīĺûsÍniEoã½Ya²ė{c¬ĝgĂsAØÅwďõzFjw}«Dx¿}Uũlê@HÅ­F¨ÇoJ´Ónũuą¡Ã¢pÒÅØ TF²xa²ËXcÊlHîAßËŁkŻƑŷÉ©hW­æßUËs¡¦}teèÆ¶StÇÇ}Fd£jĈZĆÆ¤Tč\\D}O÷£U§~ŃGåŃDĝ¸Tsd¶¶Bª¤u¢ŌĎo~t¾ÍŶÒtD¦ÚiôözØX²ghįh½Û±¯ÿm·zR¦Ɵ`ªŊÃh¢rOÔ´£Ym¼èêf¯ŪĽncÚbw\\zlvWªâ ¦gmĿBĹ£¢ƹřbĥkǫßeeZkÙIKueT»sVesbaĕ  ¶®dNĄÄpªy¼³BE®lGŭCǶwêżĔÂepÍÀQƞpC¼ŲÈ­AÎô¶RäQ^Øu¬°_Èôc´¹ò¨PÎ¢hlĎ¦´ĦÆ´sâÇŲPnÊD^¯°Upv}®BPÌªjǬxSöwlfòªvqĸ|`H­viļndĜ­Ćhňem·FyÞqóSį¯³X_ĞçêtryvL¤§z¦c¦¥jnŞklD¤øz½ĜàĂŧMÅ|áƆàÊcðÂFÜáŢ¥\\\\ºİøÒÐJĴîD¦zK²ǏÎEh~CD­hMn^ÌöÄ©ČZÀaüfɭyœpį´ěFűk]Ôě¢qlÅĆÙa¶~ÄqêljN¬¼HÊNQ´ê¼VØ¸E^ŃÒyM{JLoÒęæe±Ķygã¯JYÆĭĘëo¥Šo¯hcK«z_prC´ĢÖY¼ v¸¢RÅW³Â§fÇ¸Yi³xR´ďUË`êĿUûuĆBƣöNDH«ĈgÑaB{ÊNF´¬c·Åv}eÇÃGB»If¦HňĕM~[iwjUÁKE¾dĪçWIèÀoÈXòyŞŮÈXâÎŚj|àsRyµÖPr´þ ¸^wþTDŔHr¸RÌmfżÕâCôoxĜƌÆĮÐYtâŦÔ@]ÈǮƒ\\Ī¼Ä£UsÈ¯LbîƲŚºyhr@ĒÔƀÀ²º\\êpJ}ĠvqtĠ@^xÀ£È¨mËÏğ}n¹_¿¢×Y_æpÅA^{½Lu¨GO±Õ½ßM¶wÁĢÛPƢ¼pcĲx|apÌ¬HÐŊSfsðBZ¿©XÏÒKk÷Eû¿SrEFsÕūkóVǥŉiTL¡n{uxţÏhôŝ¬ğōNNJkyPaqÂğ¤K®YxÉƋÁ]āęDqçgOgILu\\_gz]W¼~CÔē]bµogpÑ_oď`´³Țkl`IªºÎȄqÔþ»E³ĎSJ»_f·adÇqÇc¥Á_Źw{L^É±ćxU£µ÷xgĉp»ĆqNē`rĘzaĵĚ¡K½ÊBzyäKXqiWPÏÉ¸½řÍcÊG|µƕƣGË÷k°_^ý|_zċBZocmø¯hhcæ\\lMFlư£ĜÆyHF¨µêÕ]HAàÓ^it `þßäkĤÎT~Wlÿ¨ÔPzUCNVv [jâôDôď[}z¿msSh¯{jïğl}šĹ[őgK©U·µË@¾m_~q¡f¹ÅË^»f³ø}Q¡ÖË³gÍ±^Ç\\ëÃA_¿bWÏ[¶ƛé£F{īZgm@|kHǭƁć¦UĔť×ë}ǝeďºȡȘÏíBÉ£āĘPªĳ¶ŉÿy©nď£G¹¡I±LÉĺÑdĉÜW¥}gÁ{aqÃ¥aıęÏZï`"],encodeOffsets:[[104636,22969]]},properties:{cp:[102.712251,25.040609],name:"云南",childNum:1}},{id:"540000",type:"Feature",geometry:{type:"Polygon",coordinates:["@@ÂhľxŖxÒVºÅâAĪÝȆµę¯Ňa±r_w~uSÕňqOj]ɄQ£ZUDûoY»©M[L¼qãË{VÍçWVi]ë©Ä÷àyƛhÚU°adcQ~Mx¥cc¡ÙaSyFÖk­uRýq¿ÔµQĽ³aG{¿FµëªéĜÿª@¬·K·àariĕĀ«V»ŶĴūgèLǴŇƶaftèBŚ£^âǐÝ®M¦ÁǞÿ¬LhJ¾óƾÆºcxwf]Y´¦|QLn°adĊ\\¨oǀÍŎ´ĩĀd`tÊQŞŕ|¨C^©Ĉ¦¦ÎJĊ{ëĎjª²rÐl`¼Ą[t|¦Stè¾PÜK¸dƄı]s¤î_v¹ÎVòŦj£Əsc¬_Ğ´|Ł¦Av¦w`ăaÝaa­¢e¤ı²©ªSªÈMĄwÉØŔì@T¤Ę\\õª@þo´­xA sÂtŎKzó´ÇĊµ¢r^nĊ­Æ¬×üG¢³ {âĊ]G~bÀgVjzlhǶfOfdªB]pjTOtĊn¤}®¦Č¥d¢¼»ddY¼t¢eȤJ¤}Ǿ¡°§¤AÐlc@ĝsªćļđAçwxUuzEÖġ~AN¹ÄÅȀŻ¦¿ģŁéì±Hãd«g[Ø¼ēÀcīľġ¬cJµÐʥVȝ¸ßS¹ý±ğkƁ¼ą^ɛ¤Ûÿb[}¬ōõÃ]ËNm®g@Bg}ÍF±ǐyL¥íCIĳÏ÷Ñį[¹¦[âšEÛïÁÉdƅß{âNÆāŨß¾ě÷yC£k­´ÓH@Â¹TZ¥¢į·ÌAÐ§®Zcv½Z­¹|ÅWZqgW|ieZÅYVÓqdqbc²R@c¥Rã»GeeƃīQ}J[ÒK¬Ə|oėjġĠÑN¡ð¯EBčnwôɍėª²CλŹġǝʅįĭạ̃ūȹ]ΓͧgšsgȽóϧµǛęgſ¶ҍć`ĘąŌJÞä¤rÅň¥ÖÁUětęuůÞiĊÄÀ\\Æs¦ÓRb|Â^řÌkÄŷ¶½÷f±iMÝ@ĥ°G¬ÃM¥n£Øąğ¯ß§aëbéüÑOčk£{\\eµª×MÉfm«Ƒ{Å×Gŏǩãy³©WÑăû··Qòı}¯ãIéÕÂZ¨īès¶ZÈsæĔTŘvgÌsN@îá¾ó@ÙwU±ÉTå»£TđWxq¹Zobs[×¯cĩvėŧ³BM|¹kªħ¥TzNYnÝßpęrñĠĉRS~½ěVVµõ«M££µBĉ¥áºae~³AuĐh`Ü³ç@BÛïĿa©|z²Ý¼D£àč²ŸIûI āóK¥}rÝ_Á´éMaň¨~ªSĈ½½KÙóĿeƃÆB·¬ën×W|Uº}LJrƳlŒµ`bÔ`QÐÓ@s¬ñIÍ@ûws¡åQÑßÁ`ŋĴ{ĪTÚÅTSÄ³Yo|Ç[Ç¾µMW¢ĭiÕØ¿@MhpÕ]jéò¿OƇĆƇpêĉâlØwěsǩĵ¸cbU¹ř¨WavquSMzeo_^gsÏ·¥Ó@~¯¿RiīB\\qTGªÇĜçPoÿfñòą¦óQīÈáPābß{ZŗĸIæÅhnszÁCËìñÏ·ąĚÝUm®ó­L·ăUÈíoù´Êj°ŁŤ_uµ^°ìÇ@tĶĒ¡ÆM³Ģ«İĨÅ®ğRāðggheÆ¢zÊ©Ô\\°ÝĎz~ź¤PnMĪÖB£kné§żćĆKĒ°¼L¶èâz¨u¦¥LDĘz¬ýÎmĘd¾ßFzhg²Fy¦ĝ¤ċņbÎ@yĄæm°NĮZRÖíJ²öLĸÒ¨Y®ƌÐVàtt_ÚÂyĠz]ŢhzĎ{ÂĢXc|ÐqfO¢¤ögÌHNPKŖUú´xx[xvĐCûĀìÖT¬¸^}Ìsòd´_KgžLĴÀBon|H@Êx¦BpŰŌ¿fµƌA¾zǈRx¶FkĄźRzŀ~¶[´HnªVƞuĒ­È¨ƎcƽÌm¸ÁÈM¦x͊ëÀxǆBú^´W£dkɾĬpw˂ØɦļĬIŚÊnŔa¸~J°îlɌxĤÊÈðhÌ®gT´øàCÀ^ªerrƘd¢İP|Ė ŸWªĦ^¶´ÂLaT±üWƜǀRÂŶUńĖ[QhlLüAÜ\\qRĄ©"],encodeOffsets:[[90849,37210]]},properties:{cp:[91.132212,29.660361],name:"西藏",childNum:1}},{id:"610000",type:"Feature",geometry:{type:"Polygon",coordinates:["@@p¢ȮµûGĦ}Ħðǚ¶òƄjɂz°{ºØkÈęâ¦jªBg\\ċ°s¬]jú EȌǆ¬stRÆdĠİwÜ¸ôW¾ƮłÒ_{Ìû¼jº¹¢GǪÒ¯ĘZ`ºŊecņą~BÂgzpâēòYǠȰÌTÎ¨ÂW|fcă§uF@N¢XLRMº[ğȣſï|¥Jkc`sŉǷY¹W@µ÷Kãï³ÛIcñ·VȋÚÒķø©þ¥yÓğęmWµÎumZyOŅƟĥÓ~sÑL¤µaÅY¦ocyZ{y c]{Ta©`U_Ěē£ωÊƍKùK¶ȱÝƷ§{û»ÅÁȹÍéuĳ|¹cÑdìUYOuFÕÈYvÁCqÓTǢí§·S¹NgV¬ë÷Át°DØ¯C´ŉƒópģ}ċcEËFéGU¥×K§­¶³BČ}C¿åċ`wġB·¤őcƭ²ő[Å^axwQOÿEËßŚĤNĔwƇÄńwĪ­o[_KÓª³ÙnKÇěÿ]ďă_d©·©Ýŏ°Ù®g]±ßå¬÷m\\iaǑkěX{¢|ZKlçhLtŇîŵœè[É@ƉĄEtƇÏ³­ħZ«mJ×¾MtÝĦ£IwÄå\\Õ{OwĬ©LÙ³ÙgBƕŀrÌĢŭO¥lãyC§HÍ£ßEñX¡­°ÙCgpťzb`wIvA|§hoĕ@E±iYd¥OĻ¹S|}F@¾oAO²{tfÜ¢FǂÒW²°BĤh^Wx{@¬­F¸¡ķn£P|ªĴ@^ĠĈæbÔc¶lYi^MicĎ°Â[ävï¶gv@ÀĬ·lJ¸sn|¼u~a]ÆÈtŌºJpþ£KKf~¦UbyäIĺãnÔ¿^­ŵMThĠÜ¤ko¼Ŏìąǜh`[tRd²Ĳ_XPrɲlXiL§à¹H°Ȧqº®QCbAŌJ¸ĕÚ³ĺ§ `d¨YjiZvRĺ±öVKkjGȊÄePĞZmļKÀ[`ösìhïÎoĬdtKÞ{¬èÒÒBÔpĲÇĬJŊ¦±J«Y§@·pHµàåVKepWftsAÅqC·¬ko«pHÆuK@oHĆÛķhxenS³àǍrqƶRbzy¸ËÐl¼EºpĤ¼x¼½~Ğà@ÚüdK^mÌSj"],encodeOffsets:[[110234,38774]]},properties:{cp:[108.948024,34.263161],name:"陕西",childNum:1}},{id:"620000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@VuUv"],["@@ũEĠtt~nkh`Q¦ÅÄÜdwAb×ĠąJ¤DüègĺqBqj°lI¡ĨÒ¤úSHbjÎB°aZ¢KJO[|A£Dx}NĂ¬HUnrk kp¼Y kMJn[aGáÚÏ[½rc}aQxOgsPMnUsncZsKúvAtÞġ£®ĀYKdnFw¢JE°Latf`¼h¬we|Æbj}GA·~W`¢MC¤tL©Ĳ°qdfObÞĬ¹ttu`^ZúE`[@Æsîz®¡CƳƜG²R¢RmfwĸgÜą G@pzJM½mhVy¸uÈÔO±¨{LfæU¶ßGĂq\\ª¬²I¥IŉÈīoıÓÑAçÑ|«LÝcspīðÍgtë_õ\\ĉñLYnĝgRǡÁiHLlõUĹ²uQjYi§Z_c¨´ĹĖÙ·ŋIaBD­R¹ȥr¯GºßK¨jWkɱOqWĳ\\a­Q\\sg_ĆǛōëp»£lğÛgSŶN®À]ÓämĹãJaz¥V}Le¤Lýo¹IsŋÅÇ^bz³tmEÁ´a¹cčecÇNĊãÁ\\č¯dNj]jZµkÓdaćå]ğĳ@ ©O{¤ĸm¢E·®«|@Xwg]Aģ±¯XǁÑǳªcwQÚŝñsÕ³ÛV_ý¥\\ů¥©¾÷w©WÕÊĩhÿÖÁRo¸V¬âDb¨hûxÊ×ǌ~Zâg|XÁnßYoº§ZÅŘv[ĭÖʃuďxcVbnUSfB¯³_TzºÎO©çMÑ~M³]µ^püµÄY~y@X~¤Z³[Èōl@®Å¼£QK·Di¡ByÿQ_´D¥hŗy^ĭÁZ]cIzýah¹MĪğPs{ò²Vw¹t³ŜË[Ñ}X\\gsF£sPAgěp×ëfYHāďÖqēŭOÏëdLü\\it^c®RÊº¶¢H°mrY£B¹čIoľu¶uI]vģSQ{UŻÅ}QÂ|Ì°ƅ¤ĩŪU ęĄÌZÒ\\v²PĔ»ƢNHĂyAmƂwVm`]ÈbH`Ì¢²ILvĜH®¤Dlt_¢JJÄämèÔDëþgºƫaʎÌrêYi~ Îİ¤NpÀA¾Ĕ¼bð÷®üszMzÖĖQdȨýv§Tè|ªHÃ¾a¸|Ð ƒwKĢx¦ivr^ÿ ¸l öæfƟĴ·PJv}n\\h¹¶v·À|\\ƁĚN´ĜçèÁz]ġ¤²¨QÒŨTIlªťØ}¼˗ƦvÄùØEÂ«FïËIqōTvāÜŏíÛßÛVj³âwGăÂíNOPìyV³ŉĖýZso§HÑiYw[ß\\X¦¥c]ÔƩÜ·«jÐqvÁ¦m^ċ±R¦΋ƈťĚgÀ»IïĨʗƮ°ƝĻþÍAƉſ±tÍEÕÞāNUÍ¡\\ſčåÒʻĘm ƭÌŹöʥëQ¤µ­ÇcƕªoIýIÉ_mkl³ăƓ¦j¡YzŇi}Msßõīʋ }ÁVm_[n}eı­Uĥ¼ªI{Î§DÓƻėojqYhĹT©oūĶ£]ďxĩǑMĝq`B´ƃ˺Чç~²ņj@¥@đ´ί}ĥtPńÇ¾V¬ufÓÉCtÓ̻¹£G³]ƖƾŎĪŪĘ̖¨ʈĢƂlɘ۪üºňUðǜȢƢż̌ȦǼĤŊɲĖÂ­Kq´ï¦ºĒǲņɾªǀÞĈĂD½ĄĎÌŗĞrôñnN¼â¾ʄľԆ|Ǆ֦ज़ȗǉ̘̭ɺƅêgV̍ʆĠ·ÌĊv|ýĖÕWĊǎÞ´õ¼cÒÒBĢ͢UĜð͒s¨ňƃLĉÕÝ@ɛƯ÷¿Ľ­ĹeȏĳëCȚDŲyê×Ŗyò¯ļcÂßYtÁƤyAã˾J@ǝrý@¤rz¸oP¹ɐÚyáHĀ[JwcVeȴÏ»ÈĖ}ƒŰŐèȭǢόĀƪÈŶë;Ñ̆ȤМľĮEŔĹŊũ~ËUă{ĻƹɁύȩþĽvĽƓÉ@ēĽɲßǐƫʾǗĒpäWÐxnsÀ^ƆwW©¦cÅ¡Ji§vúF¶¨c~c¼īeXǚ\\đ¾JwÀďksãAfÕ¦L}waoZD½Ml«]eÒÅaÉ²áo½FõÛ]ĻÒ¡wYR£¢rvÓ®y®LFLzĈôe]gx}|KK}xklL]c¦£fRtív¦PĤoH{tK"]],encodeOffsets:[[[108619,36299]],[[108589,36341]]]},properties:{cp:[103.823557,36.058039],name:"甘肃",childNum:2}},{id:"630000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@InJm"],["@@CÆ½OŃĦsΰ~Ē³¦@@Ņi±è}ШƄ˹A³r_ĞǒNĪĐw¤^ŬĵªpĺSZgrpiƼĘÔ¨C|ÍJ©Ħ»®VĲ~f\\m `UnÂ~ʌĬàöNt~ňjy¢ZiƔ¥Ąk´nl`JÊJþ©pdƖ®È£¶ìRʦźõƮËnʼėæÑƀĎ[¢VÎĂMÖÝÎF²sƊƀÎBļýƞ¯ʘƭðħ¼Jh¿ŦęΌƇ¥²Q]Č¥nuÂÏri¸¬ƪÛ^Ó¦d¥[Wàx\\ZjÒ¨GtpþYŊĕ´zUOëPîMĄÁxH´áiÜUàîÜŐĂÛSuŎrJðÌ¬EFÁú×uÃÎkrĒ{V}İ«O_ÌËĬ©ÓŧSRÑ±§Ģ£^ÂyèçěM³Ƃę{[¸¿uºµ[gt£¸OƤĿéYõ·kĀq]juw¥DĩƍõÇPéÄ½G©ã¤GuȧþRcÕĕNyyût­øï»a½ē¿BMoį£Íj}éZËqbʍƬh¹ìÿÓAçãnIÃ¡I`ks£CG­ěUy×Cy@¶ʡÊBnāzGơMē¼±O÷õJËĚăVĪũƆ£¯{ËL½ÌzżVR|ĠTbuvJvµhĻĖHAëáa­OÇðñęNwœľ·LmI±íĠĩPÉ×®ÿscB³±JKßĊ«`ađ»·QAmOVţéÿ¤¹SQt]]Çx±¯A@ĉĳ¢Óļ©l¶ÅÛrŕspãRk~¦ª]Į­´FRåd­ČsCqđéFn¿ÅƃmÉx{W©ºƝºįkÕƂƑ¸wWūÐ©ÈF£\\tÈ¥ÄRÈýÌJ lGr^×äùyÞ³fjc¨£ÂZ|ǓMĝÏ@ëÜőRĝ÷¡{aïȷPu°ËXÙ{©TmĠ}Y³­ÞIňµç½©C¡į÷¯B»|St»]vųs»}MÓ ÿʪƟǭA¡fs»PY¼c¡»¦cċ­¥£~msĉPSi^o©AecPeǵkgyUi¿h}aHĉ^|á´¡HØûÅ«ĉ®]m¡qĉ¶³ÈyôōLÁstB®wn±ă¥HSòė£Së@×œÊăxÇN©©T±ª£Ĳ¡fb®Þbb_Ą¥xu¥B{łĝ³«`dƐt¤ťiñÍUuºí`£^tƃĲc·ÛLO½sç¥Ts{ă\\_»kÏ±q©čiìĉ|ÍI¥ć¥]ª§D{ŝŖÉR_sÿc³ĪōƿÎ§p[ĉc¯bKmR¥{³Ze^wx¹dƽÅ½ôIg §Mĕ ƹĴ¿ǣÜÍ]Ý]snåA{eƭ`ǻŊĿ\\ĳŬűYÂÿ¬jĖqßb¸L«¸©@ěĀ©ê¶ìÀEH|´bRľÓ¶rÀQþvl®ÕETzÜdb hw¤{LRdcb¯ÙVgƜßzÃôì®^jUèXÎ|UäÌ»rK\\ªN¼pZCüVY¤ɃRi^rPŇTÖ}|br°qňbĚ°ªiƶGQ¾²x¦PmlŜ[Ĥ¡ΞsĦÔÏâ\\ªÚŒU\\f¢N²§x|¤§xĔsZPòʛ²SÐqF`ªVÞŜĶƨVZÌL`¢dŐIqr\\oäõFÎ·¤»Ŷ×h¹]ClÙ\\¦ďÌį¬řtTӺƙgQÇÓHţĒ´ÃbEÄlbʔC|CŮkƮ[ʼ¬ň´KŮÈΰÌĪ¶ƶlðļATUvdTGº̼ÔsÊDÔveOg"]],encodeOffsets:[[[105308,37219]],[[95370,40081]]]},properties:{cp:[101.778916,36.623178],name:"青海",childNum:2}},{id:"640000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@KëÀęĞ«Oęȿȕı]ŉ¡åįÕÔ«ǴõƪĚQÐZhv K°öqÀÑS[ÃÖHƖčËnL]ûcÙß@ĝ¾}w»»oģF¹»kÌÏ·{zP§B­¢íyÅt@@á]Yv_ssģ¼ißĻL¾ġsKD£¡N_X¸}B~HaiÅf{«x»ge_bsKF¯¡IxmELcÿZ¤­ĢÝsuBLùtYdmVtNmtOPhRw~bd¾qÐ\\âÙH\\bImlNZ»loqlVmGā§~QCw¤{A\\PKNY¯bFkC¥sks_Ã\\ă«¢ħkJi¯rrAhĹûç£CUĕĊ_ÔBixÅÙĄnªÑaM~ħpOu¥sîeQ¥¤^dkKwlL~{L~hw^ófćKyE­K­zuÔ¡qQ¤xZÑ¢^ļöÜ¾Ep±âbÊÑÆ^fk¬NC¾YpxbK~¥eÖäBlt¿Đx½I[ĒǙWf»Ĭ}d§dµùEuj¨IÆ¢¥dXªƅx¿]mtÏwßRĶX¢͎vÆzƂZò®ǢÌʆCrâºMÞzÆMÒÊÓŊZÄ¾r°Î®Ȉmª²ĈUªĚîøºĮ¦ÌĘk^FłĬhĚiĀĖ¾iİbjÕ"],["@@mfwěwMrŢªv@G"]],encodeOffsets:[[[109366,40242]],[[108600,36303]]]},properties:{cp:[106.278179,38.46637],name:"宁夏",childNum:2}},{id:"650000",type:"Feature",geometry:{type:"Polygon",coordinates:["@@QØĔ²X¨~ǘBºjʐßØvKƔX¨vĊOÃ·¢i@~cĝe_«E}QxgɪëÏÃ@sÅyXoŖ{ô«ŸuXêÎf`C¹ÂÿÐGĮÕĞXŪōŸMźÈƺQèĽôe|¿ƸJR¤ĘEjcUóº¯Ĩ_ŘÁMª÷Ð¥OéÈ¿ÖğǤǷÂFÒzÉx[]­Ĥĝœ¦EP}ûƥé¿İƷTėƫœŕƅƱB»Đ±ēO¦E}`cȺrĦáŖuÒª«ĲπdƺÏØZƴwʄ¤ĖGĐǂZĶèH¶}ÚZצʥĪï|ÇĦMŔ»İĝǈì¥Βba­¯¥ǕǚkĆŵĦɑĺƯxūД̵nơʃĽá½M»òmqóŘĝčË¾ăCćāƿÝɽ©ǱŅ¹đ¥³ðLrÁ®ɱĕģŉǻ̋ȥơŻǛȡVï¹Ň۩ûkɗġƁ§ʇė̕ĩũƽō^ƕUv£ƁQïƵkŏ½ΉÃŭÇ³LŇʻ«ƭ\\lŭD{ʓDkaFÃÄa³ŤđÔGRÈƚhSӹŚsİ«ĐË[¥ÚDkº^Øg¼ŵ¸£EÍöůŉT¡c_ËKYƧUśĵÝU_©rETÏʜ±OñtYwē¨{£¨uM³x½şL©Ùá[ÓÐĥ Νtģ¢\\śnkOw¥±T»ƷFɯàĩÞáB¹ÆÑUwŕĽw[mG½Èå~Æ÷QyěCFmĭZīŵVÁƿQƛûXS²b½KÏ½ĉS©ŷXĕ{ĕK·¥Ɨcqq©f¿]ßDõU³h­gËÇïģÉɋwk¯í}I·œbmÉřīJɥĻˁ×xoɹīlc¤³Xù]ǅA¿w͉ì¥wÇN·ÂËnƾƍdÇ§đ®ƝvUm©³G\\}µĿQyŹlăµEwǇQ½yƋBe¶ŋÀůo¥AÉw@{Gpm¿AĳŽKLh³`ñcËtW±»ÕSëüÿďDu\\wwwù³VLŕOMËGh£õP¡erÏd{ġWÁč|yšg^ğyÁzÙs`s|ÉåªÇ}m¢Ń¨`x¥ù^}Ì¥H«YªƅAÐ¹n~ź¯f¤áÀzgÇDIÔ´AňĀÒ¶ûEYospõD[{ù°]uJqU|Soċxţ[õÔĥkŋÞŭZËºóYËüċrw ÞkrťË¿XGÉbřaDü·Ē÷AÃª[ÄäIÂ®BÕĐÞ_¢āĠpÛÄȉĖġDKwbmÄNôfƫVÉviǳHQµâFù­Âœ³¦{YGd¢ĚÜO {Ö¦ÞÍÀP^bƾl[vt×ĈÍEË¨¡Đ~´î¸ùÎhuè`¸HÕŔVºwĠââWò@{ÙNÝ´ə²ȕn{¿¥{l÷eé^eďXj©î\\ªÑòÜìc\\üqÕ[Č¡xoÂċªbØ­ø|¶ȴZdÆÂońéG\\¼C°ÌÆn´nxÊOĨŪƴĸ¢¸òTxÊǪMīĞÖŲÃɎOvʦƢ~FRěò¿ġ~åŊúN¸qĘ[Ĕ¶ÂćnÒPĒÜvúĀÊbÖ{Äî¸~Ŕünp¤ÂH¾ĄYÒ©ÊfºmÔĘcDoĬMŬS¤s²ʘÚžȂVŦ èW°ªB|ĲXŔþÈJĦÆæFĚêYĂªĂ]øªŖNÞüAfɨJ¯ÎrDDĤ`mz\\§~D¬{vJÂ«lµĂb¤pŌŰNĄ¨ĊXW|ų ¿¾ɄĦƐMTòP÷fØĶK¢ȝ˔Sô¹òEð­`Ɩ½ǒÂň×äı§ĤƝ§C~¡hlåǺŦŞkâ~}FøàĲaĞfƠ¥Ŕd®U¸źXv¢aƆúŪtŠųƠjdƺƺÅìnrh\\ĺ¯äɝĦ]èpĄ¦´LƞĬ´ƤǬ˼Ēɸ¤rºǼ²¨zÌPðŀbþ¹ļD¢¹\\ĜÑŚ¶ZƄ³àjĨoâȴLÊȮĐ­ĚăÀêZǚŐ¤qȂ\\L¢ŌİfÆs|zºeªÙæ§΢{Ā´ƐÚ¬¨Ĵà²łhʺKÞºÖTiƢ¾ªì°`öøu®Ê¾ãØ"],encodeOffsets:[[88824,50096]]},properties:{cp:[87.617733,43.792818],name:"新疆",childNum:1}},{id:"110000",type:"Feature",geometry:{type:"Polygon",coordinates:["@@ĽOÁûtŷmiÍt_H»Ĩ±d`¹­{bwYr³S]§§o¹qGtm_SŧoaFLgQN_dV@Zom_ć\\ßcÂ±x¯oœRcfe£o§ËgToÛJíĔóu|wP¤XnO¢ÉŦ¯rNÄā¤zâŖÈRpŢZÚ{GrFt¦Òx§ø¹RóäV¤XdżâºWbwŚ¨Ud®bêņ¾jnŎGŃŶnzÚSeîĜZczî¾i]ÍQaúÍÔiþĩȨWĢü|Ėu[qb[swP@ÅğP¿{\\¥A¨ÏÑ¨j¯X\\¯MKpA³[Hīu}}"],encodeOffsets:[[120023,41045]]},properties:{cp:[116.405285,39.904989],name:"北京",childNum:1}},{id:"120000",type:"Feature",geometry:{type:"Polygon",coordinates:["@@ŬgX§Ü«E¶FÌ¬O_ïlÁgz±AXeµÄĵ{¶]gitgIj·¥îakS¨ÐƎk}ĕ{gBqGf{¿aU^fIư³õ{YıëNĿk©ïËZŏR§òoY×Ógcĥs¡bġ«@dekąI[nlPqCnp{ō³°`{PNdƗqSÄĻNNâyj]äÒD ĬH°Æ]~¡HO¾X}ÐxgpgWrDGpù^LrzWxZ^¨´T\\|~@IzbĤjeĊªz£®ĔvěLmV¾Ô_ÈNW~zbĬvG²ZmDM~~"],encodeOffsets:[[120237,41215]]},properties:{cp:[117.190182,39.125596],name:"天津",childNum:1}},{id:"310000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@ɧư¬EpƸÁxc"],["@@©ª"],["@@MA"],["@@QpİE§ÉC¾"],["@@bŝÕÕEȣÚƥêImɇǦèÜĠÚÃƌÃ͎ó"],["@@ǜûȬɋŭ×^sYɍDŋŽąñCG²«ªč@h_p¯A{oloY¬j@Ĳ`gQÚhr|ǀ^MĲvtbe´R¯Ô¬¨Yô¤r]ìƬį"]],encodeOffsets:[[[124702,32062]],[[124547,32200]],[[124808,31991]],[[124726,32110]],[[124903,32376]],[[124438,32149]]]},properties:{cp:[121.472644,31.231706],name:"上海",childNum:6}},{id:"500000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@vjG~nGŘŬĶȂƀƾ¹¸ØÎezĆT¸}êÐqHðqĖä¥^CÆIj²p\\_ æüY|[YxƊæu°xb®Űb@~¢NQt°¶Sæ Ê~rǉĔëĚ¢~uf`faĔJåĊnÖ]jƎćÊ@£¾a®£Ű{ŶĕFègLk{Y|¡ĜWƔtƬJÑxq±ĢN´òKLÈÃ¼D|s`ŋć]Ã`đMûƱ½~Y°ħ`ƏíW½eI½{aOIrÏ¡ĕŇapµÜƅġ^ÖÛbÙŽŏml½SêqDu[RãË»ÿw`»y¸_ĺę}÷`M¯ċfCVµqŉ÷Zgg`d½pDOÎCn^uf²ènh¼WtƏxRGg¦pVFI±G^Ic´ecGĹÞ½sëĬhxW}KÓe­XsbkF¦LØgTkïƵNï¶}Gyw\\oñ¡nmĈzj@Óc£»Wă¹Ój_m»¹·~MvÛaq»­ê\\ÂoVnÓØÍ²«bq¿efE Ĝ^Q~ Évýş¤²ĮpEİ}zcĺL½¿gÅ¡ýE¡ya£³t\\¨\\vú»¼§·Ñr_oÒý¥u_n»_At©ÞÅ±ā§IVeëY}{VPÀFA¨ąB}q@|Ou\\FmQFÝMwå}]|FmÏCawu_p¯sfÙgYDHl`{QEfNysB¦zG¸rHeN\\CvEsÐùÜ_·ÖĉsaQ¯}_UxÃđqNH¬Äd^ÝŰR¬ã°wećJE·vÝ·HgéFXjÉê`|ypxkAwWĐpb¥eOsmzwqChóUQl¥F^lafanòsrEvfQdÁUVfÎvÜ^eftET¬ôA\\¢sJnQTjPØxøK|nBzĞ»LYFDxÓvr[ehľvN¢o¾NiÂxGpâ¬zbfZo~hGi]öF||NbtOMn eA±tPTLjpYQ|SHYĀxinzDJÌg¢và¥Pg_ÇzIIII£®S¬ØsÎ¼£N"],["@@ifjN@s"]],encodeOffsets:[[[109628,30765]],[[111725,31320]]]},properties:{cp:[106.504962,29.533155],name:"重庆",childNum:2}},{id:"810000",type:"Feature",geometry:{type:"MultiPolygon",coordinates:[["@@AlBk"],["@@mn"],["@@EpFo"],["@@ea¢pl¸Eõ¹hj[]ÔCÎ@lj¡uBX´AI¹[yDU]W`çwZkmcMpÅv}IoJlcafŃK°ä¬XJmÐ đhI®æÔtSHnEÒrÈc"],["@@rMUwAS®e"]],encodeOffsets:[[[117111,23002]],[[117072,22876]],[[117045,22887]],[[116975,23082]],[[116882,22747]]]},properties:{cp:[114.173355,22.320048],name:"香港",childNum:5}},{id:"820000",type:"Feature",geometry:{type:"Polygon",coordinates:["@@kÊd°å§s"],encodeOffsets:[[116279,22639]]},properties:{cp:[113.54909,22.198951],name:"澳门",childNum:1}}],UTF8Encoding:!0}},ljGe:function(t,e,a){"use strict";var s=a("aA9S"),i=a.n(s),n=a("hRKE"),r=a.n(n);function o(t){var e,a=new RegExp("(^| )"+t+"=([^;]*)(;|$)");return(e=document.cookie.match(a))?unescape(e[2]):null}var l=function(){this.version="1.0"};l.prototype.getUri=function(t){return-1!==(t=(-1!==(t=t||window.location.href).indexOf(window.location.host)?t.split(window.location.host)[1]:t).split("?")[0]).indexOf("#")?t.split("#")[1]:t},
/*! 通过URI查询最有可能的菜单NODE */
l.prototype.getNode=function(t,e){var a=t.map(function(t){if(t.url.indexOf(e)>=0)return t}).filter(function(t){return void 0!=t});if(a.length>0)return a[0].path?"m"+a[0].path:"";var s=location.href.replace(/.*spm=([\d\-m]+).*/gi,"$1");return/^m\-/.test(s)?s:""},e.a={setCookie:function(t,e,a){var s=new Date;s.setTime(s.getTime()+1e3*a);var i="expires="+s.toUTCString();document.cookie=t+"="+e+"; "+i},getCookie:o,delCookie:function(t){var e=new Date;e.setTime(e.getTime()-1);var a=o(t);null!=a&&(document.cookie=t+"="+a+";expires="+e.toGMTString())},inArray:function(t,e){if("string"!=typeof t&&"number"!=typeof t||"object"!=(void 0===e?"undefined":r()(e)))return-1;for(var a in e)if(e[a]==t)return a;return-1},findInArray:function t(e,a,s){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"sub",n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];if("string"!=typeof e||!a||"object"!=(void 0===s?"undefined":r()(s)))return{};for(var o in s){var l=s[o];l[e]&&l[e]==a?n.push(l):l.hasOwnProperty(i)&&"object"==r()(l[i])&&t(e,a,l[i],i,n)}return n.length>0?n[0]:{}},recurse:function t(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"_sub_",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[{},{}],r={},o=1;return e.map(function(e){o=e.path.split("-").length,void 0==n[o]&&(n[o]={}),e[a]&&e.hasOwnProperty(s)&&(r[e[a]]=[],n[o]=i()({},n[o],r),t(e[s],a,s,n))}),n},arr2table:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"pid",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"sub",i=[];for(var n in t){var r={},o=[];for(var l in t[n])l==s?o=t[n][s]:r[l]=t[n][l];if(i.push(r),o){var _=this.arr2table(o,e,a,s);i=i.concat(_)}}return i},queryEncoded:function(t){var e="";for(var a in t){var s=encodeURIComponent(t[a]);""!=s&&void 0!=s&&(e+="&"+a+"="+s)}return e.substr(1)},menu:new l}},ljWu:function(t,e){},"lwA+":function(t,e){},m5bR:function(t,e){},mZyT:function(t,e){},nXET:function(t,e){},nfPo:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__=__webpack_require__("HzJ8"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator__),__WEBPACK_IMPORTED_MODULE_1_vue__=__webpack_require__("MVMM"),__WEBPACK_IMPORTED_MODULE_2__index_components_title_vue__=__webpack_require__("jhJU"),__WEBPACK_IMPORTED_MODULE_3__index_components_panel_vue__=__webpack_require__("7ETC"),__WEBPACK_IMPORTED_MODULE_4__index_components_lift_vue__=__webpack_require__("wXxn"),__WEBPACK_IMPORTED_MODULE_5__index_components_cell_vue__=__webpack_require__("5Wde"),__WEBPACK_IMPORTED_MODULE_6__index_components_progress_vue__=__webpack_require__("cTML"),__WEBPACK_IMPORTED_MODULE_7__index_components_empty_vue__=__webpack_require__("hAsJ"),__WEBPACK_IMPORTED_MODULE_8__index_config_mixin_js__=__webpack_require__("B29g"),__WEBPACK_IMPORTED_MODULE_9__config_eventBus_js__=__webpack_require__("v0nF"),__WEBPACK_IMPORTED_MODULE_10_jquery__=__webpack_require__("L7Pj"),__WEBPACK_IMPORTED_MODULE_10_jquery___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_jquery__),__WEBPACK_IMPORTED_MODULE_11_vuedraggable__=__webpack_require__("405r"),__WEBPACK_IMPORTED_MODULE_11_vuedraggable___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11_vuedraggable__),__WEBPACK_IMPORTED_MODULE_12__index_components_tabs__=__webpack_require__("L2I5");__WEBPACK_IMPORTED_MODULE_1_vue__.default.use(__WEBPACK_IMPORTED_MODULE_12__index_components_tabs__.a);var names=["全国销量现状","全国滚动预警","整体市场销量","细分市场销量","区域市场表现"];__webpack_exports__.a={name:"ScenePage",mixins:[__WEBPACK_IMPORTED_MODULE_8__index_config_mixin_js__.a],data:function(){return{panels:names.map(function(t,e){return{name:t,index:e+1,fixed:!1,show:!0}}),dialogVisible:!1,headerHeight:51,ds_group:{retail:"零售量",wholesale:"批发量"},manfs:[],letter_selected:"A",selectOnClass:!1,status:!0,thisMonthData:{},warningMonthData:{},lastMonthSegmentData:{},thisMonthSegmentData:{},manfSalesRankData:{},nationSalesData:{},groupsSalesData:{},brandsSalesData:{},regionsSalesData:[],segmentData:[],modelsSalesData:[],image_path:"http://dss.ways.cn/images29",segmentSalesClass:0,segmentSalesWarningClass:0,manfSalesRankClass:0,manfSalesRankPage:1,nationSalesClass:0,groupsSalesClass:0,groupsSalesPage:1,brandsSalesClass:0,regionsSalesClass:0,regionsSalesBrand:0,modelsSalesClass:0,brand_id:0,brand_name:"全部",segment_id:0,segment_name:"",keyword:"",keyword_result:"",showType:localStorage.getItem("SHOW_TYPE")||1,brands:[],segments:[],models:[],models_matches:[],isShowModelBox:!1,modelsDelay:500,loading:new Array(9).fill(0),loading8:0}},mounted:function(){var t=this;this.getToken(function(){t.getManfs(),t.initBase(),t.getDataSource()}),this.onOver(),window.addEventListener("scroll",this.scroll);var e=this;__WEBPACK_IMPORTED_MODULE_9__config_eventBus_js__.a.$on("updateConfig",function(t){e.editable=t[7]})},computed:{manfsGroupByLetter:function(){var t={},e=!0,a=!1,s=void 0;try{for(var i,n=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default()(this.manfs);!(e=(i=n.next()).done);e=!0){var r=i.value;r.first_letter=r.first_letter||"",t.hasOwnProperty(r.first_letter)||(t[r.first_letter]=[]),t[r.first_letter].push(r)}}catch(t){a=!0,s=t}finally{try{!e&&n.return&&n.return()}finally{if(a)throw s}}return t},manf_name_selected:function(){var t=this.get_manfs_map();if(t.hasOwnProperty(this.manf_id_selected))return t[this.manf_id_selected].manf_name||""},ds_name_selected:function(){var t=this.data_source_map();if(t.hasOwnProperty(this.ds_id_selected))return t[this.ds_id_selected].name||""},year_month_selected:function(){var t=this.this_year_month_selected.split("");return t.splice(4,0,"/"),t.join("")},begin_year_month_selected:function(){var t=this.data_source_map();return t[this.ds_id_selected]?t[this.ds_id_selected].begin_ym+"":""},end_year_month_selected:function(){var t=this.data_source_map();return t[this.ds_id_selected]?t[this.ds_id_selected].end_ym+"":""},panelOptions:function(){return{draggable:".bi-panel",animation:10,group:"panel",disabled:!this.editable,filter:".bi-panel-body",preventOnFilter:!0,chosenClass:"sortable-chosen",dragClass:"sortable-drag",ghostClass:"sortable-ghost"}},itemOptions:function(){for(var t=[],e=0;e<3;e++)t.push({animation:200,group:"item"+e,disabled:!this.editable,filter:2==e?".scene-table":".bi-cell",preventOnFilter:!0,chosenClass:"sortable-chosen",dragClass:"sortable-drag",ghostClass:"sortable-ghost"});return t},cellOptions:function(){for(var t=[],e=0;e<5;e++)t.push({animation:500,group:"cell"+e,disabled:!this.editable,filter:4==e?".scene-table":"b,em,i,font,p,cite",preventOnFilter:!0,chosenClass:"sortable-chosen",dragClass:"sortable-drag",ghostClass:"sortable-ghost"});return t},pickerOptions:function(){var t=this;return{disabledDate:function(e){var a=t.begin_year_month_selected.substr(0,4)+"/"+t.begin_year_month_selected.substr(4,2)+"/01",s=t.end_year_month_selected.substr(0,4)+"/"+t.end_year_month_selected.substr(4,2)+"/01";return a=Date.parse(new Date(a)),s=Date.parse(new Date(s)),e&&e.valueOf()<a||e&&e.valueOf()>s}}}},watch:{ds_id_selected:function(){this.this_year_month_selected=this.end_year_month_selected},modelsSalesData:function(){if(this.brands=this.modelsSalesData.list||[],this.segments=[],this.brands.length>0){var t={};for(var e in this.brands){var a=this.brands[e];for(var s in a.list){var i=a.list[s].vehicle_type_id,n=a.list[s].vehicle_type_name;t[i]={vehicle_type_id:i,vehicle_type_name:n}}}for(var e in t)this.segments.push(t[e]);this.segments=this.segments.sort(function(t,e){return e.vehicle_type_id-t.vehicle_type_id})}this.brand_id||this.segment_id?(this.brand_id&&this.selectBrand(this.brand_id),this.segment_id&&this.selectSegment(this.segment_id)):this.searchModels()}},methods:{closePanel:function(t){this.panels[t]&&(this.panels[t].show=!1)},reachFloor:function(t){var e=this,a=0;if(-1!=t){this.scroll_selected=t;var s=!0,i=!1,n=void 0;try{for(var r,o=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default()(this.panels);!(s=(r=o.next()).done);s=!0){var l=r.value.index;if(l==t){var _=document.querySelector('[panel_key="'+l+'"]');_&&(a=_.offsetTop-this.headerHeight);break}}}catch(t){i=!0,n=t}finally{try{!s&&o.return&&o.return()}finally{if(i)throw n}}}setTimeout(function(){window.removeEventListener("scroll",e.scroll),__WEBPACK_IMPORTED_MODULE_10_jquery___default()("html, body").animate({scrollTop:a},300,"swing",function(){window.addEventListener("scroll",e.scroll)})},10)},updatePanels:function(t){this.panels=t},scroll:function(){var t=window.scrollY,e=!0,a=!1,s=void 0;try{for(var i,n=__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_get_iterator___default()(this.panels);!(e=(i=n.next()).done);e=!0){var r=i.value,o=document.querySelector('[panel_key="'+r.index+'"]');if(o)if(t<o.offsetTop+o.offsetHeight-this.headerHeight){this.scroll_selected=r.index;break}}}catch(t){a=!0,s=t}finally{try{!e&&n.return&&n.return()}finally{if(a)throw s}}var l=document.querySelector(".bi-lift");l&&(this.headerHeight<t?l.setAttribute("class","bi-lift animated fadeIn"):l.setAttribute("class","bi-lift animated fadeOut"))},selectLetter:function(t){this.letter_selected=t;var e=document.querySelector('[data-key="'+t+'"]'),a=document.querySelector("#manfsBox"),s=e.offsetTop-a.offsetTop-10;setTimeout(function(){__WEBPACK_IMPORTED_MODULE_10_jquery___default()("#manfsBox").animate({scrollTop:s},300,"swing",function(){})},10)},searchData:function(){var t={manf_id:this.manf_id_selected,ds_id:this.ds_id_selected,ym_id:this.this_year_month_selected};this.manf_id=t.manf_id,this.ds_id=t.ds_id,this.this_year_month=t.ym_id;var e=this;this.$router.replace({path:"/scene",query:t},function(){e.selectOnClass=!1,e.getDataSource()})},cancelData:function(){this.manf_id_selected="",this.ds_id_selected="",this.this_year_month_selected="",this.selectOnClass=!1,this.initParam()},getManfs:function(){var t=this;this.$request.get(this.$interface.GET_MANFS,{token:this.token},function(e){t.manfs=e.data},this.failure)},getDataSource:function(){var t=this;this.$request.get(this.$interface.GET_DATA_SOURCE,{token:this.token,manf_id:this.manf_id},function(e){t.dataSource=e.data[0],t.loadData()},this.failure)},getManfInfo:function(){var t=this;this.$request.get(this.$interface.GET_MANF_INFO,{token:this.token,manf_id:this.manf_id},function(e){t.manfInfo=e.data[0]},this.failure)},loadData:function(){this.initParam(),this.getManfInfo(),this.getWholeSales(),this.getWholeSalesWarning(),this.getSegmentsSales(),this.getSegmentsSalesWarning(),this.getManfSalesRank(),this.getNationSales(),this.getGroupsSales(),this.getBrandsSales(),this.getRegionsSales(),this.getModelsSales()},getWholeSales:function(){var t=this;this.loading[0]=!0,this.$request.get(this.$interface.GET_WHOLE_SALES,{token:this.token,manf_id:this.manf_id,ds_id:this.ds_id,ym_id:this.this_year_month,acc:0},function(e){t.thisMonthData=e.data[0],t.loading[0]=!1},this.failure)},getWholeSalesWarning:function(){var t=this;this.loading[1]=!0,this.$request.get(this.$interface.GET_WHOLE_SALES_WARNING,{token:this.token,manf_id:this.manf_id,ds_id:this.ds_id,ym_id:this.this_year_month,ymw_id:this.warning_year_month_week,acc:0},function(e){t.warningMonthData=e.data[0],t.loading[1]=!1},this.failure)},getSegmentsSales:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.loading[6]=!0,this.segmentSalesClass=e,this.$request.get(this.$interface.GET_SEGMENTS_SALES,{token:this.token,manf_id:this.manf_id,ds_id:this.ds_id,ym_id:this.this_year_month,acc:e},function(e){t.lastMonthSegmentData=e.data,t.loading[6]=!1},this.failure)},getSegmentsSalesWarning:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.$request.get(this.$interface.GET_SEGMENTS_SALES_WARNING,{token:this.token,manf_id:this.manf_id,ds_id:this.ds_id,ym_id:this.this_year_month,ymw_id:this.warning_year_month_week,acc:e},function(e){t.thisMonthSegmentData=e.data})},getManfSalesRank:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.loading[2]=!0,this.manfSalesRankClass=e,this.manfSalesRankPage=a;var s=12*(a-1);this.$request.get(this.$interface.GET_MANF_SALES_RANK,{token:this.token,manf_id:this.manf_id,ds_id:this.ds_id,ym_id:this.this_year_month,size:36,page:a,acc:e},function(e){var a=e.data.slice(s,s+12);t.manfSalesRankData=a,t.loading[2]=!1},this.failure)},getNationSales:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.loading[3]=!0,this.nationSalesClass=e,this.$request.get(this.$interface.GET_NATION_SALES,{token:this.token,manf_id:this.manf_id,ds_id:this.ds_id,ym_id:this.this_year_month,size:5,acc:e,page:1},function(e){t.nationSalesData=e.data,t.loading[3]=!1},this.failure)},getGroupsSales:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.loading[4]=!0,this.groupsSalesClass=e,this.groupsSalesPage=a;var s=3*(a-1);this.$request.get(this.$interface.GET_GROUPS_SALES,{token:this.token,manf_id:this.manf_id,ds_id:this.ds_id,ym_id:this.this_year_month,size:9,acc:e||0,page:a||1},function(e){var a=e.data.slice(s,s+3);t.groupsSalesData=a,t.loading[4]=!1},this.failure)},getBrandsSales:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.loading[5]=!0,this.brandsSalesClass=e,this.$request.get(this.$interface.GET_BRANDS_SALES,{token:this.token,manf_id:this.manf_id,ds_id:this.ds_id,ym_id:this.this_year_month,size:3,acc:e},function(e){t.brandsSalesData=e.data,t.loading[5]=!1},this.failure)},getRegionsSales:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.loading[7]=!0,this.regionsSalesClass=e,this.regionsSalesBrand=a,this.$request.get(this.$interface.GET_REGIONS_SALES,{token:this.token,manf_id:this.manf_id,ym_id:this.this_year_month,ds_id:this.$helper.inArray(this.ds_id,-1!=[4,5])?this.ds_id:4,acc:e,brand_id:a||0},function(e){t.regionsSalesData=e.data,t.loading[7]=!1},this.failure)},getModelsSales:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.loading[8]=this.loading8=!0,this.modelsSalesClass=e,this.$request.get(this.$interface.GET_MODELS_SALES,{token:this.token,manf_id:this.manf_id,ds_id:this.ds_id,ym_id:this.this_year_month,ymw_id:this.warning_year_month_week,p_ym_id:this.price_year_month,pb_id:this.price_batch,acc:e},function(e){t.modelsSalesData=e.data[0],t.loading[8]=t.loading8=!1},this.failure)},initBase:function(){var t=this.$route.query;this.ds_id_selected=this.ds_id=t.ds_id?t.ds_id:this.ds_id,this.manf_id_selected=this.manf_id=t.manf_id?t.manf_id:this.manf_id,this.this_year_month_selected=this.this_year_month=t.ym_id?t.ym_id:this.this_year_month},initParam:function(){var t=this.data_source_map();if(!t||0==t.size)return!1;this.ds_id&&""==this.this_year_month&&(this.this_year_month=this.end_year_month+""),this.this_year_month>this.end_year_month&&this.this_year_month<this.begin_year_month&&(this.this_year_month=this.end_year_month+""),this.warning_year_month_week=this.warning_end_year_month_week+"";var e=this.dataSource.tp;this.price_year_month=e.end,this.price_batch=e.end_batch,this.manf_id_selected=this.manf_id_selected||this.manf_id,this.ds_id_selected=this.ds_id_selected||this.ds_id,this.this_year_month_selected=this.this_year_month_selected||this.this_year_month,(this.this_year_month_selected>this.end_year_month_selected||this.this_year_month_selected<this.begin_year_month_selected)&&(this.this_year_month_selected=this.end_year_month_selected+""),this.keyword="",this.keyword_result="",this.brand_id=0,this.segment_id=0,this.brand_name="",this.segment_name=""},setShowType:function(t){this.showType=t,localStorage.setItem("SHOW_TYPE",t)},selectBrand:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.brand_id=t,this.brand_name=e;var a=this,s=this.segment_id,i=this.modelsSalesData.list||[],n=[];if(a.loading8=!0,i.length>0)for(var r in i){var o=i[r];if(o.brand_id==t||0==t){this.brand_name=o.brand_name;var l=o.list||[];if(l)for(var _ in l)if(l[_].vehicle_type_id==s||0==s){this.segment_name=l[_].vehicle_type_name;var c=l[_].list||[];if(c&&(n=n.concat(c)),0!=s){this.models=c;break}this.segment_name="全部",this.models=this.models.length>0?this.models:c}0==t&&(this.brand_name="全部")}}this.keyword_result=this.brand_name+" "+this.segment_name,this.models=n,setTimeout(function(){a.loading8=!1},a.modelsDelay)},selectSegment:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.segment_id=t,this.segment_name=e;var a=this,s=this.modelsSalesData.list||[],i=this.brand_id,n=[];if(a.loading8=!0,s.length>0)for(var r in s)if(s[r].brand_id==i||0==i){var o=s[r].list;if(o)for(var l in o)if(o[l].vehicle_type_id==t||0==t){this.segment_name=o[l].vehicle_type_name;var _=o[l].list||[];if(_&&(n=n.concat(_)),0!=t){this.models=_;break}this.segment_name="全部",this.models=this.models.length>0?this.models:_}}this.keyword_result=this.brand_name+" "+this.segment_name,this.models=n,setTimeout(function(){a.loading8=!1},a.modelsDelay)},searchModels:function(){this.keyword=this.keyword.trim()||"",this.keyword_result=this.keyword,this.brand_id=0,this.segment_id=0,this.brand_name="全部",this.segment_name="";var t=this,e=this.modelsSalesData.list||[],a=[];if(t.loading8=!0,e.length>0)for(var s in e){var i=e[s].list;if(e[s].brand_name.indexOf(this.keyword)>=0){if(i)for(var n in i){(r=i[n].list)&&(a=a.concat(r))}}else if(i)for(var n in i){var r=i[n].list;if(i[n].vehicle_type_name.indexOf(this.keyword)>=0)for(var o in r)a=a.concat([r[o]]);else if(r)for(var o in r)this.match(this.keyword,r[o])&&(a=a.concat([r[o]]))}}this.models=a,this.isShowModelBox=!1,setTimeout(function(){t.loading8=!1},t.modelsDelay)},searchModelsQuick:function(){this.keyword=this.keyword.trim()||"";var t=this.modelsSalesData.list||[],e=[];if(t.length>0)for(var a in t){var s=t[a].list;if(s)for(var i in s){var n=s[i].list;if(n)for(var r in n)this.match(this.keyword,n[r])&&(e=e.concat([n[r]]))}}this.isShowModelBox=!0,this.models_matches=e},match:function match(pattern,obj){var sub_model_name=obj.sub_model_name||"",sub_model_pinyin=obj.sub_model_pinyin||"";if(pattern){if(sub_model_name.toLowerCase().indexOf(pattern.toLowerCase())>=0)return!0;var first_letter_string=sub_model_pinyin.split(" ").map(function(t){return t.substr(0,1)}).join("").toLowerCase();if(eval("/"+pattern+"/ig").test(first_letter_string))return!0}return!1},selectModel:function(t){this.keyword=t,this.models_matches=[],this.searchModels()}},components:{BiTitle:__WEBPACK_IMPORTED_MODULE_2__index_components_title_vue__.a,BiPanel:__WEBPACK_IMPORTED_MODULE_3__index_components_panel_vue__.a,BiLift:__WEBPACK_IMPORTED_MODULE_4__index_components_lift_vue__.a,BiCell:__WEBPACK_IMPORTED_MODULE_5__index_components_cell_vue__.a,BiProgress:__WEBPACK_IMPORTED_MODULE_6__index_components_progress_vue__.a,Draggable:__WEBPACK_IMPORTED_MODULE_11_vuedraggable___default.a,BiEmpty:__WEBPACK_IMPORTED_MODULE_7__index_components_empty_vue__.a}}},pEtW:function(t,e){},pgdi:function(t,e){},q3Xi:function(t,e){},q8DG:function(t,e){},qh8S:function(t,e){},r1ay:function(t,e){},scoC:function(t,e){},"tFV+":function(t,e){},v0nF:function(t,e,a){"use strict";var s=a("MVMM");e.a=new s.default},vQJW:function(t,e,a){"use strict";var s={name:"scrollBar",data:function(){return{top:0}},methods:{handleScroll:function(t){var e=t.wheelDelta||3*-t.deltaY,a=this.$refs.scrollContainer.offsetHeight,s=this.$refs.scrollWrapper.offsetHeight;e>0?this.top=Math.min(0,this.top+e):a-70<s?this.top<-(s-a+70)?this.top=this.top:this.top=Math.max(this.top+e,a-s-70):this.top=0}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"scrollContainer",staticClass:"scroll-container",on:{wheel:function(e){return e.preventDefault(),t.handleScroll(e)}}},[a("div",{ref:"scrollWrapper",staticClass:"scroll-wrapper",style:{top:t.top+"px"}},[t._t("default")],2)])},staticRenderFns:[]};var n=a("Z0/y")(s,i,!1,function(t){a("q8DG")},"data-v-8cc440a0",null);e.a=n.exports},wMq3:function(t,e,a){"use strict";a.d(e,"d",function(){return m}),a.d(e,"e",function(){return v}),a.d(e,"b",function(){return p}),a.d(e,"c",function(){return f}),a.d(e,"a",function(){return g});var s,i,n=a("a3Yh"),r=a.n(n),o=a("ZLEe"),l=a.n(o),_=a("aA9S"),c=a.n(_),d=a("3cXf"),u=a.n(d),h=a("MVMM"),m="USER_SIGNIN",v="USER_SIGNOUT",p="USER_MENUS",f="USER_REFRESH_TOKEN",g="USER_DIMENSION";e.f={state:function(){var t=JSON.parse(h.default.cookies.get("user"))||{};return t.menus=JSON.parse(localStorage.getItem("menus"))||[],t.menus&&0!=t.menus.length?t:(h.default.cookies.remove("user"),{})},mutations:(s={},r()(s,m,function(t,e){localStorage.removeItem("iways_uuid"),localStorage.removeItem("iways_uuid_b"),h.default.cookies.set("user",u()(e),43200,"/"),c()(t,e)}),r()(s,v,function(t){h.default.cookies.remove("user"),l()(t).forEach(function(e){return h.default.delete(t,e)})}),r()(s,f,function(t,e){var a=JSON.parse(h.default.cookies.get("user"))||{};a.token=e,h.default.cookies.set("user",u()(a),43200,"/"),c()(t,a)}),r()(s,p,function(t,e){localStorage.setItem("menus",u()(e))}),r()(s,g,function(t,e){var a=JSON.parse(h.default.cookies.get("user"))||{};a.dimension=e,h.default.cookies.set("user",u()(a),43200,"/"),c()(t,a)}),s),actions:(i={},r()(i,m,function(t,e){(0,t.commit)(m,e)}),r()(i,v,function(t){(0,t.commit)(v)}),r()(i,f,function(t,e){(0,t.commit)(f,e)}),r()(i,p,function(t,e){(0,t.commit)(p,e)}),r()(i,g,function(t,e){(0,t.commit)(g,e)}),i)}},wXxn:function(t,e,a){"use strict";var s=a("405r"),i={name:"Lift",props:{panels:{type:Array,required:!0},scroll_selected:{type:Number}},data:function(){return{floors:this.panels,floor_selected:0,editable:!0,isDragging:!1,delayedDragging:!1,switchStatus:!0}},computed:{dragOptions:function(){return{animation:1,group:"lift",disabled:!this.editable,ghostClass:"ghost"}}},watch:{scroll_selected:function(){this.floor_selected=this.scroll_selected},panels:function(){this.floors=this.panels},floors:function(){this.$emit("updatePanels",this.floors)}},methods:{onMove:function(t){var e=t.relatedContext,a=t.draggedContext,s=e.element,i=a.element;return!(!s||!i)&&!(s&&s.fixed||i.fixed)},onStart:function(t){t.oldIndex,t.newIndex;this.isDragging=!0},onEnd:function(t){var e=t.oldIndex,a=t.newIndex;if(this.isDragging=!1,this.floors[e]&&this.floors[a]){var s=this.floors[e].index,i=this.floors[a].index;i==this.floor_selected?this.reachFloor(s):s==this.floor_selected&&this.reachFloor(i)}},reachFloor:function(t){99==t?this.$emit("reachFloor",-1):(this.floor_selected=t,this.$emit("reachFloor",t))}},components:{Draggable:a.n(s).a}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bi-lift animated fadeIn"},[a("draggable",{attrs:{element:"div",options:t.dragOptions,move:t.onMove},on:{start:t.onStart,end:t.onEnd},model:{value:t.floors,callback:function(e){t.floors=e},expression:"floors"}},[a("ul",{style:{display:t.switchStatus?"none":"block"}},t._l(t.floors,function(e){return a("li",{key:e.index,class:{on:e.index==t.floor_selected}},[a("a",{attrs:{href:"javascript:void(0);"},on:{click:function(a){t.reachFloor(e.index)}}},[t._v(t._s(e.name)+" ")])])})),t._v(" "),a("div",{staticClass:"go-header",on:{click:function(e){t.reachFloor(99)}}},[t._v("\n      回到顶部\n    ")]),t._v(" "),a("span",{staticClass:"switch",on:{click:function(e){t.switchStatus=!t.switchStatus}}},[t.switchStatus?a("i",{staticClass:"iconfont icon-back"}):a("i",{staticClass:"iconfont icon-right"})])])],1)},staticRenderFns:[]};var r=a("Z0/y")(i,n,!1,function(t){a("Zm3X")},"data-v-7f0c893e",null);e.a=r.exports},wn2B:function(t,e){},x1Tb:function(t,e){},yMUu:function(t,e){},zdES:function(t,e){},zgrf:function(t,e){},zrVC:function(t,e){}},["NiBx"]);
//# sourceMappingURL=app.86dcc996882f571bf4d0.js.map